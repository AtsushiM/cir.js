var C={};
(function(){var c=C;(function(a,b){function d(a,b){return Object.prototype.toString.call(b)==="[object "+a+"]"?!0:!1}function e(a){return d("Object",a)}function f(a,b,d){var c;if(e(b)){for(c in b)a.setAttribute(c,b[c]);return!0}return d||""===d?a.setAttribute(b,d):a.getAttribute(b)}function g(a,b){for(var d=a.className,d=d?d.split(" "):[],e=0,c=d.length;e<c;e++)if(b&&b===d[e])return!0;return!1}function h(a,b){var d="";if(g(a,b))return!1;a.className&&(d=" ");a.className=a.className+d+b;return!0}function j(a,
b){var d,e=[],c,f;if(!g(a,b))return!1;d=a.className.split(" ");c=0;for(f=d.length;c<f;c++)b!==d[c]&&e.push(d[c]);a.className=e.join(" ");return!0}function i(a,b){var d=b.querySelectorAll(a),e=[],c,g;c=0;for(g=d.length;c<g;c++)e[c]=d[c];return e}function k(a){var b=""+a;return b.match("^{.*}$")?JSON.parse(b):b.match("^[0-9.]+$")?1*b:"true"===b?!0:"false"===b?!1:a}Date.now||(Date.now=function(){return+new Date});c.utility={win:a,doc:b,body:b.body,$:function(a){return b.querySelector(a)},$$:function(a){return i(a,
b)},$child:function(a,b){return b.querySelector(a)},$$child:i,$id:function(a){return b.getElementById(a)},pageTop:function(){a.scrollTo(0,1)},onEvent:function(a,b,d){a.addEventListener(b,d)},offEvent:function(a,b,d){a.removeEventListener(b,d)},makeElement:function(a,d){var c=b.createElement(a);d&&f(c,d);return c},showElement:function(a){a.style.display="block"},hideElement:function(a){a.style.display="none"},opacityElement:function(a,b){a.style.opacity=b},hasClass:g,addClass:h,removeClass:j,toggleClass:function(a,
b){return g(a,b)?j(a,b):h(a,b)},styleElement:function(a,b){var d=a.style,c,e,g;for(c in b){e=c;g=b[c];isFinite(g)&&(g=g+"px");d[e]=g}},computedStyleElement:function(a){return b.defaultView.getComputedStyle(a,null)},appendElement:function(a,b){a.appendChild(b)},attrElement:f,innerHTML:function(a,b){if(b)a.innerHTML=b;else return a.innerHTML},override:function(a,b){for(var d in b)a[d]=b[d];return a},replaceAll:function(a,b,d){return a.split(b).join(d)},windowOpen:function(b,d){return a.open(b,d)},typeCast:k,
makeQueryString:function(a){var b="",d="",c;for(c in a)if(a[c]){d=d+(b+c+"="+encodeURIComponent(a[c]));b="&"}return d},parseQueryString:function(a){var a=a.replace(/^\#/,"").replace(/^\?/,""),a=a.split("&"),b,d,c={};for(b=a.length;b--;){d=a[b].split("=");c[d[0]]=k(decodeURIComponent(d[1]))}return c},is:d,isObject:e,isNumber:function(a){return d("Number",a)},isString:function(a){return d("String",a)},isFunction:function(a){return d("Function",a)},isBoolean:function(a){return d("Boolean",a)},isTouchDevice:function(){return"ontouchstart"in
a},nullFunction:function(){return null}}})(window,document);c.klass=function(a){var b=c.utility.override,d=a.init||function(){},e=a.properties;(a=a.extend)&&c.extend(d,a);b(d.prototype,e);return d};c.extend=function(a,b){function d(){this.init=a}d.prototype=b.prototype;a.prototype=new d;var c=a.prototype;c._superclass=b;c._super=function(){var a=this._prevctor,a=a?a.prototype._superclass:this._prevctor=b;a.apply(this,arguments)}};c.selector=function(a,b){var d=c.selector,e=(b||document).querySelectorAll(a),
f,g=0,h=e.length;f=function(){};f.prototype=d.methods;d=new f;d.length=h;for(d.selector=a;g<h;g++)d[g]=e[g];return d};(function(){function a(a,b,c){for(var e=0,i=a.length,c=d(c);e<i;e++)c[0]=a[e],b.apply(null,c);return a}function b(a,b,c){c=d(c);c[0]=a[0];return b.apply(null,c)}function d(a){var b=[null];b.push.apply(b,a);return b}var e=c.utility;c.selector.methods={_forexe:a,_exe:b,_argary:d,querySelectorAll:function(a){return this[0].querySelectorAll(a)},find:function(a){return c.selector(a,this)},
on:function(){return a(this,e.onEvent,arguments)},off:function(){return a(this,e.offEvent,arguments)},show:function(){return a(this,e.showElement)},hide:function(){return a(this,e.hideElement)},opacity:function(){return a(this,e.opacityElement,arguments)},hasClass:function(){return b(this,e.hasClass,arguments)},addClass:function(){return a(this,e.addClass,arguments)},removeClass:function(){return a(this,e.removeClass,arguments)},toggleClass:function(){return a(this,e.toggleClass,arguments)},css:function(){return a(this,
e.styleElement,arguments)},html:function(){return b(this,e.innerHTML,arguments)},attr:function(){return b(this,e.attrElement,arguments)},append:function(){return a(this,e.appendElement,arguments)}}})();(function(){function a(a,e,j,i,k){d.isFunction(j)&&(k=j,j=null);d.isFunction(i)&&(k=i,i=null);var n=c.Tweener,l=a.style,m,a=d.computedStyleElement(a),o,p={};for(m in e)o=b(e[m]),p[m]={from:1*b(a.getPropertyValue(m))[1]||0,to:1*o[1]||0,suffix:o[2]};new n(l,p,{duration:j,easing:f[i],onComplete:k})}function b(a){return(""+
(a||"")).match(/^([0-9\.]+)(.*)/)}var d=c.utility,e=c.selector.methods,f={};c.easing&&(Easing=c.easing);d.override(e,{animate:function(){return e._forexe(this,a,arguments)}})})();c.easing={easeInCubic:function(a,b,d,c){return d*Math.pow(a/c,3)+b},easeOutCubic:function(a,b,d,c){return d*(Math.pow(a/c-1,3)+1)+b},easeInOutCubic:function(a,b,d,c){return 1>(a/=c/2)?d/2*Math.pow(a,3)+b:d/2*(Math.pow(a-2,3)+2)+b},easeInQuart:function(a,b,d,c){return d*Math.pow(a/c,4)+b},easeOutQuart:function(a,b,d,c){return-d*
(Math.pow(a/c-1,4)-1)+b},easeInOutQuart:function(a,b,d,c){return 1>(a/=c/2)?d/2*Math.pow(a,4)+b:-d/2*(Math.pow(a-2,4)-2)+b},easeInQuint:function(a,b,d,c){return d*Math.pow(a/c,5)+b},easeOutQuint:function(a,b,d,c){return d*(Math.pow(a/c-1,5)+1)+b},easeInOutQuint:function(a,b,d,c){return 1>(a/=c/2)?d/2*Math.pow(a,5)+b:d/2*(Math.pow(a-2,5)+2)+b},easeInSine:function(a,b,d,c){return d*(1-Math.cos(a/c*(Math.PI/2)))+b},easeOutSine:function(a,b,d,c){return d*Math.sin(a/c*(Math.PI/2))+b},easeInOutSine:function(a,
b,d,c){return d/2*(1-Math.cos(Math.PI*a/c))+b},easeInExpo:function(a,b,d,c){return d*Math.pow(2,10*(a/c-1))+b},easeOutExpo:function(a,b,d,c){return d*(-Math.pow(2,-10*a/c)+1)+b},easeInOutExpo:function(a,b,d,c){return 1>(a/=c/2)?d/2*Math.pow(2,10*(a-1))+b:d/2*(-Math.pow(2,-10*--a)+2)+b},easeInCirc:function(a,b,d,c){return d*(1-Math.sqrt(1-(a/=c)*a))+b},easeOutCirc:function(a,b,d,c){return d*Math.sqrt(1-(a=a/c-1)*a)+b},easeInOutCirc:function(a,b,d,c){return 1>(a/=c/2)?d/2*(1-Math.sqrt(1-a*a))+b:d/2*
(Math.sqrt(1-(a-=2)*a)+1)+b},easeInQuad:function(a,b,d,c){return d*(a/=c)*a+b},easeOutQuad:function(a,b,d,c){return-d*(a/=c)*(a-2)+b},easeInOutQuad:function(a,b,d,c){return 1>(a/=c/2)?d/2*a*a+b:-d/2*(--a*(a-2)-1)+b}};(function(){var a=c.utility.isTouchDevice();c.Event=c.klass({init:function(a){a=a||{};if(a.single&&c.Event.instance)return c.Event.instance;a.single&&(c.Event.instance=this)},properties:{utility:c.utility,switchclick:a?"touchstart":"click",switchdown:a?"touchstart":"mousedown",switchmove:a?
"touchmove":"mousemove",switchup:a?"touchend":"mouseup",load:"load",hashchange:"hashchange",click:"click",mousedown:"mousedown",mousemove:"mousemove",mouseup:"mouseup",touchstart:"touchstart",touchmove:"touchmove",touchend:"touchend",orientationchange:"orientationchange",resize:"resize"}});c.Event.instance=null})();c.HashController=c.klass({properties:{utility:c.utility,typeCast:function(a){var b=this.utility.typeCast(a);return a===b&&(a=a.match("^[\"'](.*)[\"']$"))?a[1]:b},makeHash:function(a){var b=
"#"+a.mode,a=a.vars,c="?",e;for(e in a)b+=c+e+"="+JSON.stringify(a[e]),c="&";return encodeURI(b)},setHash:function(a){location.hash=this.makeHash(a);return!0},parseHash:function(a){var b,c,e,f;b=decodeURIComponent(a).split("#")[1];if(!b)return!1;b=b.split("?");a=b[0];if(b[1]){c={};b=b[1].split("&");for(f=b.length;f--;)b[f]&&(e=b[f].split("="),c[e[0]]=this.typeCast(e[1]))}return{mode:a,vars:c}},getHash:function(){return this.parseHash(location.hash)}}});c.Ajax=c.klass({init:function(){this.xhr=new XMLHttpRequest},
properties:{utility:c.utility,request:function(a){var b=a.url,c=a.callback,e=a.error,f=a.type||"GET",g="",h;a.cash||(a.query||(a.query={}),a.query["ajaxcash"+Date.now()]="0");a.query&&(g=this.utility.makeQueryString(a.query),g=encodeURI(g));h=this.xhr=new XMLHttpRequest;h.onreadystatechange=function(){if(h.readyState!=4)return false;h.status==200?c(h.responseText):e&&e(h)};h.open(f,b);"POST"===f&&h.setRequestHeader("Content-Type","application/x-www-form-urlencoded");h.send(g)},abort:function(){this.xhr.abort()},
getJSON:function(a){this.request({type:a.type,url:a.url,callback:function(b){a.callback(JSON.parse(b))},error:function(b){a.error&&a.error(b)}})}}});c.Bind=c.klass({properties:{utility:c.utility,add:function(a){return this.exe(a,!0)},remove:function(a){return this.exe(a,!1)},exe:function(a,b){var c=this.utility,e=a.element,f=a.events,c=b?c.onEvent:c.offEvent,g;for(g in f)c(e,g,f[g]);return a}}});(function(){var a=c.utility.makeElement;c.CanvasImage=function(b){var c=a("canvas"),e=a("img"),f=b.src,
g=b.width,h=b.height,j=b.onload;e.onload=function(){c.width=g;c.height=h;c.getContext("2d").drawImage(e,0,0);j(c,e)};e.src=f;return c}})();c.CanvasRender=c.klass({init:function(a){this.canvas=a.canvas;this.ctx=this.canvas.getContext("2d");this.canvasWidth=this.canvas.width;this.canvasHeight=this.canvas.height;this.setSize(a)},properties:{setSize:function(a){a.width&&(this.canvas.width=this.canvasWidth=a.width);a.height&&(this.canvas.height=this.canvasHeight=a.height)},draw:function(a){this.ctx.clearRect(0,
0,this.canvasWidth,this.canvasHeight);for(var b=0,c=a.length,e;b<c;b++)e=a[b],this.ctx.drawImage(e.image,e.x,e.y)}}});c.DataStore=c.klass({init:function(a){a=a||{};if(a.single&&c.DataStore.instance)return c.DataStore.instance;this.data={};a.single&&(c.DataStore.instance=this)},properties:{set:function(a,b){this.data[a]=b;return!0},get:function(a){var b=this.data;if(a)return b[a];var a={},c;for(c in b)a[c]=b[c];return a},remove:function(a){var b=this.data;if(!b[a])return!1;delete b[a];return!0},reset:function(){this.data=
{};return!0}}});c.DataStore.instance=null;c.DragFlick=c.klass({init:function(a){a&&this.bind(a)},properties:{utility:c.utility,_event:new c.Event,_getEventTarget:function(a){return a.changedTouches?a.changedTouches[0]:a},amount:function(a){var b=this,c,e,f=!1;b.utility.onEvent(a.element,b._event.switchdown,function(a){var h=b._getEventTarget(a);c=h.pageX;e=h.pageY;f=!0;a.preventDefault()});b.utility.onEvent(b.utility.win,b._event.switchup,function(g){f&&(g=b._getEventTarget(g),a.callback({x:g.pageX-
c,y:g.pageY-e}),f=!1)})},direction:function(a){this.amount({element:a.element,callback:function(b){var c=a.boundary||0,e={change:!1,top:!1,right:!1,bottom:!1,left:!1,amount:b};Math.abs(b.x)>c&&(0<b.x?e.right=!0:0>b.x&&(e.left=!0),e.change=!0);Math.abs(b.y)>c&&(0<b.y?e.bottom=!0:0>b.y&&(e.top=!0),e.change=!0);a.callback(e)}})},bind:function(a){function b(a,b,e){g.onEvent(a,b,function(a){a=c._getEventTarget(a);e(a)})}var c=this,e=a.element,f=this._event,g=this.utility,h=a.start||g.nullFunction,j=a.move||
g.nullFunction,i=a.end||g.nullFunction,k=!1,n=0,l=0;a.direction&&c.direction({element:e,boundary:a.boundary,callback:a.direction});b(e,f.switchdown,function(a){k=!0;n=a.pageX;l=a.pageY;h({e:a,move:{x:n,y:l}})});b(g.doc,f.switchmove,function(a){k&&j({e:a,move:{x:a.pageX-n,y:a.pageY-l}})});b(g.doc,f.switchup,function(a){k&&(i({e:a,move:{x:a.pageX-n,y:a.pageY-l}}),k=!1)})}}});c.ExternalInterface=function(a){var a=a||{},b;if(a.single&&c.ExternalInterface.instance)return c.ExternalInterface.instance;b=
a.android?new c.ExternalInterface.Android(a):new c.ExternalInterface.IOS(a);a.single&&(c.ExternalInterface.instance=b);return b};c.ExternalInterface.instance=null;c.ExternalInterface.Android=c.klass({init:function(a){a=a||{};this.android=a.android;this.externalObj=a.externalObj;this.externalObj||(c.EXTERNAL_ANDROID={},this.externalObj=c.EXTERNAL_ANDROID)},properties:{hashCtrl:new c.HashController,call:function(a){this.android[a.mode](this.hashCtrl.makeHash(a))},addCallback:function(a,b){var c=this;
c.externalObj[a]=function(a){a=c.hashCtrl.parseHash(a);return b(a.vars)}},removeCallback:function(a){delete this.externalObj[a]}}});c.ExternalInterface.IOS=c.klass({init:function(){this.ios={}},properties:{utility:c.utility,_event:new c.Event,hashCtrl:new c.HashController,call:function(a){this.hashCtrl.setHash(a)},addCallback:function(a,b){var c=this;c.ios[a]=function(){var e=c.hashCtrl.getHash();return e.mode===a?(b(e.vars),!0):!1};this.utility.onEvent(this.utility.win,this._event.hashchange,this.ios[a])},
removeCallback:function(a){this.utility.offEvent(this.utility.win,this._event.hashchange,this.ios[a]);delete this.ios[a]}}});c.Facebook=c.klass({properties:{utility:c.utility,shareURLBase:"https://www.facebook.com/dialog/feed?",getShareURL:function(a){var b=this.shareURLBase+"app_id="+a.app_id+"&redirect_uri="+a.redirect_uri;return b+=this.utility.makeQueryString({link:a.link,picture:a.picture,name:a.name,caption:a.caption,description:a.description})}}});(function(){function a(c){c.nexttime<=Date.now()&&
(b(c),c.nexttime=c.nowtime+c.msecFrame);1===c.loopid&&f(function(){a(c)})}function b(a){a.nowtime=Date.now();a.surver=Math.round(1E3/(a.nowtime-a.prevtime));a.prevtime=a.nowtime;a.enter()}var d,e=c.utility.win,f=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||!1;c.FPS=c.klass({init:function(a){a=a||{};a.criterion||(a.criterion=20);if(a.single&&d)return d;this.surver=this.criterion=a.criterion;this.enterframe=
a.enterframe;this.msecFrame=Math.round(1E3/this.criterion);this.prevtime=this.nowtime=this.nexttime=this.loopid=0;a.single&&(d=this)},properties:{getCriterion:function(){return this.criterion},getSurver:function(){return this.surver},getFrameTime:function(){return this.msecFrame},enter:function(){this.enterframe({criterion:this.criterion,surver:this.surver})},start:function(){this.prevtime=Date.now();this.nexttime=this.prevtime+this.msecFrame;f?(this.loopid=1,a(this)):this.loopid=setInterval(b,this.msecFrame,
this)},stop:function(){clearInterval(this.loopid);this.loopid=0}}})})();c.ImgLoad=c.klass({init:function(a){var b=this;b.srcs=a.srcs;b.srccount=b.srcs.length;b.loadedsrcs=[];b.onload=a.onload||b.utility.nullFunction;b.onprogress=a.onprogress||b.utility.nullFunction;b.loadcount=0;b.progress=0;b.check=function(){b.loadcount++;b.progress=b.loadcount/b.srccount;b.onprogress(b.progress);if(b.loadcount>=b.srccount)b.onload(b.loadedsrcs)}},properties:{utility:c.utility,_event:new c.Event,start:function(){var a,
b,c;b=0;for(c=this.srccount;b<c;b++)a=this.utility.makeElement("img"),a.src=this.srcs[b],this.utility.onEvent(a,this._event.load,this.check),this.loadedsrcs.push(a)},getProgress:function(){return this.progress}}});c.Loading=c.klass({init:function(a){if(a&&a.onload)this.onload(a.onload)},properties:{utility:c.utility,_event:new c.Event,onload:function(a){this.utility.onEvent(this.utility.win,this._event.load,a)}}});c.LocalStorage=c.klass({init:function(a){a=a||{};if(a.single&&c.LocalStorage.instance)return c.LocalStorage.instance;
a.single&&(c.LocalStorage.instance=this)},properties:{utility:c.utility,storage:c.utility.win.localStorage,set:function(a,b){this.storage.setItem(a,JSON.stringify(b));return!0},get:function(a){if(a)return JSON.parse(this.storage.getItem(a));var a={},b;for(b in this.storage)a[b]=JSON.parse(this.storage[b]);return a},remove:function(a){if(!this.storage.getItem(a))return!1;this.storage.removeItem(a);return!0},reset:function(){this.storage.clear();return!0}}});c.LocalStorage.instance=null;(function(){function a(a){a.preventDefault();
return!1}function b(a,b){a=a?a:f;return a.match(b)?!0:!1}function d(){0===win.pageYOffset&&this.utility.pageTop()}function e(){setTimeout(d,100)}var f=navigator.userAgent;c.Mobile=c.klass({properties:{utility:c.utility,_event:new c.Event,isAndroid:function(a){return b(a,/Android/i)},isIOS:function(a){return b(a,/iPhone|iPad|iPod/i)},isWindows:function(a){return b(a,/IEMobile/i)},isFBAPP:function(a){return b(a,/FBAN/)},isMobile:function(){return this.isAndroid()||this.isIOS()||this.isWindows()||this.isFBAPP()},
killScroll:function(b){b||this.utility.pageTop();this.utility.onEvent(this.utility.doc,this._event.touchmove,a)},revivalScroll:function(b){b||this.utility.pageTop();this.utility.offEvent(this.utility.doc,this._event.touchmove,a)},hideAddress:function(){this.utility.onEvent(this.utility.win,this._event.load,e,!1);this.utility.onEvent(this.utility.win,this._event.orientationchange,e,!1)},orientationCheck:function(){return 90!==Math.abs(this.utility.win.orientation)&&this.utility.win.innerWidth<this.utility.win.innerHeight?
{portrait:!0,landscape:!1}:{portrait:!1,landscape:!0}},orientationChange:function(a){function b(a,c){a(e.utility.win,e._event.load,c);a(e.utility.win,e._event.orientationchange,c);a(e.utility.win,e._event.resize,c)}function c(){d();b(e.utility.offEvent,c)}function d(){if(e.orientationCheck().portrait)return a.portrait(),!0;a.landscape()}var e=this;a.immediately&&d();if(a.one)return b(e.utility.onEvent,c),function(){b(e.utility.offEvent,c)};b(e.utility.onEvent,d);return function(){b(e.utility.offEvent,
d)}}}})})();c.NumberImage=c.klass({init:function(a){a=a||{type:""};this.type=a.type},properties:{make:function(a){var a=(""+a).split(""),b="",c;for(c=a.length;c--;)b='<span class="num_'+(this.type+a[c])+'">&nbsp;</span>'+b;return b}}});c.Observer=c.klass({init:function(a){a=a||{single:!1};if(a.single&&c.Observer.instance)return c.Observer.instance;this.observed={};a.single&&(c.Observer.instance=this)},properties:{getObserved:function(){return this.observed},on:function(a,b){var c=this.observed;c[a]||
(c[a]=[]);c[a].push(b)},one:function(a,b){var c=this,e=function(f){b(f);c.off(a,e)};c.on(a,e)},off:function(a,b){var c=this.observed;if(!b)return delete c[a],!0;var e=c[a],f;if(!e)return!1;for(f=e.length;f--;)if(b===e[f])return e.splice(f,1),0===e.length&&delete c[a],!0;return!1},fire:function(a,b){var c=this.observed[a],e,f;if(!c)return!1;for(f=c.length;f--;)(e=c[f])&&e(b);return!0}}});c.Observer.instance=null;c.PreRender=c.klass({init:function(a){a=a||{};a.loopblur||(a.loopblur=20);this.elements=
a.elements||[];this.guesslimit=a.guesslimit||30;this.onrendered=a.onrendered||this.utility.nullFunction;this.looptime=a.looptime||100;this.loopblur=this.looptime+a.loopblur;this.loopid=this.prevtime=null},properties:{utility:c.utility,start:function(){var a;for(a=this.elements.length;a--;)this.utility.showElement(this.elements[a]);this.prevtime=Date.now();this.loopid=setInterval(function(a){var c=Date.now(),e=c-a.prevtime;a.prevtime=c;if(e<a.loopblur&&(a.guesslimit--,1>a.guesslimit)){clearInterval(a.loopid);
for(c=a.elements.length;c--;)a.utility.hideElement(a.elements[c]);a.onrendered()}},this.looptime,this)}}});c.ScriptLoad=c.klass({properties:{utility:c.utility,_event:new c.Event,requests:function(a){for(var b=0,c=a.length;b<c;b++)this.request(a[b])},request:function(a){var b=this.utility.makeElement("script");b.type="text/javascript";b.src=a.src;this.utility.body.appendChild(b);if(a.callback)this.utility.onEvent(b,this._event.load,a.callback)}}});(function(){function a(a){return e?d.getResponseHeader(a):
!1}function b(a){var b=new XMLHttpRequest;b.onload=function(){a(b)};b.open("HEAD",location.href+"?update"+Date.now()+"=1");b.send(null);return b}var d,e=!1;c.ServerMeta=c.klass({init:function(a){var a=a||{},c=a.callback||this.utility.nullFunction;d?c(d):d=b(function(){e=!0;c(d)})},properties:{utility:c.utility,date:function(a){return b(function(b){b=new Date(b.getResponseHeader("Date"));a(b)})},connection:function(){return a("Connection")},contentLength:function(){return a("Content-Length")},lastModified:function(){return a("Last-Modified")},
server:function(){return a("Server")},contentType:function(){return a("Content-Type")},acceptRanges:function(){return a("Accept-Ranges")},keepAlive:function(){return a("Keep-Alive")}}})})();c.SessionStorage=c.klass({init:function(a){a=a||{};if(a.single&&c.SessionStorage.instance)return c.SessionStorage.instance;a.single&&(c.SessionStorage.instance=this)},properties:{utility:c.utility,storage:c.utility.win.sessionStorage,set:function(a,b){this.storage.setItem(a,JSON.stringify(b));return!0},get:function(a){if(a)return JSON.parse(this.storage.getItem(a));
var a={},b;for(b in this.storage)a[b]=JSON.parse(this.storage[b]);return a},remove:function(a){if(!this.storage.getItem(a))return!1;this.storage.removeItem(a);return!0},reset:function(){this.storage.clear();return!0}}});c.SessionStorage.instance=null;c.Surrogate=c.klass({init:function(a){this.delay=a.delay;this.callback=a.callback;this.waitid=this.args=null},properties:{request:function(a){this.args=a;this.clear();this.waitid=setTimeout(this.flush,this.delay,this)},flush:function(a){a=a||this;a.callback(a.args)},
clear:function(){clearInterval(this.waitid)}}});c.Throttle=c.klass({init:function(a){this.waittime=a.waittime;this.callback=a.callback;this.locked=!1;this.waitid=null},properties:{request:function(a){if(this.locked)return!1;this.callback(a);this.lock();this.waitid=setTimeout(this.unlock,this.waittime,this)},lock:function(){this.locked=!0},unlock:function(a){a=a||this;a.locked=!1;clearInterval(a.waitid)}}});c.Timer=function(a){function b(){m=Date.now();var a=g-(m-l)/1E3;0>a&&(a=0);p=c(a);i(p);if(m>
o)return r.stop(),k(),!0;q=setTimeout(b,j);return!1}function c(a){var b;b=(""+a).split(".");a=b[0];b=b[1]?b[1]:"";a=e({num:a,digit:n.integer});b=e({num:b,digit:n.few,isFew:!0});return a+"."+b}function e(a){var b=""+a.num,c=a.digit,d=c-b.length;return!a.isFew?-1<d?f(d,0)+b:f(c,9):0<d?b+f(d,0):b.slice(0,c)}function f(a,b){for(var c="",b=""+b;0<a;)c+=b,a--;return c}var g=a.limit,h=1E3*g,j=1E3*a.interval,i=a.onupdate,k=a.ontimeup,n=function(a){a=a.split(".");return{integer:a[0].length,few:a[1].length}}(a.template),
l=0,m=0,o=h,p=c(g),q,r={getLimit:function(){return g},getTime:function(){return p},getProgress:function(){return 1-(o-m)/h},setUpdate:function(a){i=a},setTimeup:function(a){k=a},countDown:function(){m=l=Date.now();o=l+h;b()},stop:function(){clearInterval(q)}};return r};c.Tweener=c.klass({init:function(a,b,d){var e,d=d||{};this.target=a;this.property=[];for(e in b)a=b[e],a.name=e,a.distance=a.to-a.from,a.prefix=a.prefix||"",a.suffix=a.suffix||"px",this.property.push(a);this.duration=d.duration||c.Tweener.Duration;
this.easing=d.easing||this._easing;this.onComplete=d.onComplete;this.begin=Date.now();c.Tweener.Items.push(this);c.Tweener.timerId||this.start()},properties:{_easing:function(a,b,c,e){return c*a/e+b},_requestAnimationFrame:function(){var a=c.utility.win;return a.requestAnimationFrame?function(a){requestAnimationFrame(a)}:a.webkitRequestAnimationFrame?function(a){webkitRequestAnimationFrame(a)}:a.mozRequestAnimationFrame?function(a){mozRequestAnimationFrame(a)}:a.oRequestAnimationFrame?function(a){oRequestAnimationFrame(a)}:
a.msRequestAnimationFrame?function(a){msRequestAnimationFrame(a)}:function(a){setTimeout(a,1E3/c.Tweener.FPS)}}(),loop:function(){for(var a=this,b=c.Tweener.Items,d,e=Date.now(),f,g=b.length,h,j,i;g--;)if(d=b[g],j=d.property.length,f=e-d.begin,f<d.duration)for(h=0;h<j;h++)i=d.property[h],c.Tweener._setProp(d.target,i,d.easing(f,i.from,i.distance,d.duration));else{for(h=0;h<j;h++)i=d.property[h],c.Tweener._setProp(d.target,i,i.to);if(d.onComplete)d.onComplete();b.splice(g,1)}if(b.length)return a._requestAnimationFrame(function(){a.loop()}),
!0;this.end()},start:function(){var a=this;c.Tweener.timerId=1;a._requestAnimationFrame(function(){a.loop()})},end:function(){c.Tweener.Items=[];clearInterval(c.Tweener.timerId);c.Tweener.timerId=null}}});c.Tweener._setProp=function(a,b,c){a[b.name]=b.prefix+c+b.suffix};c.Tweener.timerId=null;c.Tweener.Items=[];c.Tweener.FPS=30;c.Tweener.Duration=500;c.Twitter=c.klass({properties:{utility:c.utility,shareURLBase:"https://twitter.com/intent/tweet?",getShareURL:function(a){var b=a.redirect_uri,c=a.caption||
"",e=a.name||"",a=a.hash||"",f=this.shareURLBase;return f+=this.utility.makeQueryString({url:b,text:c+(e?" \u300c"+e+"\u300d":"")+(a?" "+a:"")})}}});c.XML=c.klass({init:function(a){this.element=this.utility.makeElement("div");this.data={};a&&a.data&&this.setData(a.data)},properties:{utility:c.utility,getData:function(){return this.data},setData:function(a){this.data=this.element.innerHTML=a},$:function(a){return this.utility.$child(a,this.element)},$$:function(a){return this.utility.$$child(a,this.element)}}})})();
