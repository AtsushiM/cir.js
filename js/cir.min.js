// cir.js v0.15.4 | (c) 2013 Atsushi Mizoue.
(function(){
function ea(m){return function(){return this[m]}}
(function(){function m(a){return"cubic-bezier("+a+")"}function Ea(a,b){for(var c=w("p"),d=f,e,g=n,A=a.length,r,bb=RegExp("^(.*?)"+a[0]+"$","i");A--;)if(c.style[a[A]]!==na){d=k;(e=a[A].match(bb)[1])?(g=e.toLowerCase(),b=g+b,g="-"+g+"-"):b=b.toLowerCase();c=N(Fa("head"),w("style",{type:"text/css"}));r=c.sheet;break}return{ob:b,qb:d,prefix:e,mb:g,sheet:r}}function fa(a){return JSON.parse(a)}function W(a,b){return-1!=a.indexOf(b)?k:f}function J(a){return(n+(a||n)).match(/^(.*?)(-?[0-9\.]+)(.*)$/)}function O(a,
b){var c,d;for(c in b)if(d=c.match(/^on(.+)$/))a.on(d[1],D(a,b[c]))}function oa(){this.stop();this._super()}function P(a){this.fire("complete",a)}function Q(){this.fire("start")}function ta(a){this.fire("progress",a)}function Ga(a){if(a){var b=this.ha,c=b[a];delete b[a];E(c[0],c[1],c[2])}}function Ha(a,b,c,d,e){d=this;d.ha||(d.ha={});e=++d.Ab;F(a,b,c);d.ha[e]=[a,b,c];return e}function G(){return Date.now()}function ga(a){h.scrollTo(0,a)}function ua(){ga(1)}function X(a,b,c){for(c in b)a[c]=b[c];return a}
function va(a,b){b=n+a;return b.match(/^{.*}$/)?fa(b):b.match(/^[0-9\.]+$/)?+b:"true"===b?k:"false"===b?f:a}function pa(a){var b=[];b.push.apply(b,a);return b}function v(a,b,c){return a.split(b).join(c)}function Ia(a){return v(v(v(v(v(a,"&","&amp;"),'"',"&quot;"),"'","&#039;"),"<","&lt;"),">","&gt;")}function qa(a,b,c,d){b=c=n;for(d in a)a[d]&&(c+=b+d+"="+encodeURIComponent(a[d]),b="&");return c}function R(a,b){return Object.prototype.toString.call(b)=="[object "+a+"]"?k:f}function S(a){return R("Object",
a)}function K(a){return R("Number",a)}function wa(a){return R("String",a)}function U(a){return R("Function",a)}function xa(a){return R("Boolean",a)}function Y(a){return R("Array",a)}function L(a){return a===na?f:k}function Ja(){return"ontouchstart"in h}function t(){}function ya(a){a.preventDefault();return f}function ha(a,b){b=b||navigator.userAgent;return!!b.match(a)}function D(a,b){return function(){return b.apply(a,arguments)}}function ra(a,b,c,d){b=b||a;c=c||b;for(d in b)U(b[d])&&(c[d]=D(a,b[d]));
X(a,c);return c}function za(a,b,c,d){for(var e;k;){e=~~((a+b)/2);if(a==e)return d(e);c(e)?a=e:b=e}}function Ka(a){return a.toString().match(/^\s*function.*\((.+)\)/)}function Z(a){return Y(a)?a.slice(0):a}function Fa(a){return p.querySelector(a)}function sa(a,b){return pa(b.querySelectorAll(a))}function $(a,b){return 0<=a.className.indexOf(b)?k:f}function aa(a,b,c,d){$(a,b)||(c=n,(d=a.className)&&(c=" "),a.className=d+c+b)}function ba(a,b,c,d,e){if($(a,b)){d=[];c=a.className.split(" ");for(e=c.length;e--;)b!=
c[e]&&d.push(c[e]);a.className=d.join(" ")}}function La(a,b){if($(a,b))return ba(a,b);aa(a,b)}function ia(a,b,c,d){if(S(b)){for(d in b)b[d]&&a.setAttribute(d,b[d]);return k}return c||c==n?a.setAttribute(b,c):a.getAttribute(b)}function Ma(a,b){a.removeAttribute(b)}function w(a,b,c){c=p.createElement(a);b&&ia(c,b);return c}function Na(a){var b=w("div");M(b,a);return pa(b.children)}function F(a,b,c){a.addEventListener(b,c,f)}function E(a,b,c){a.removeEventListener(b,c,f)}function Oa(a,b,c,d){function e(a){var c=
a.target;$(c,b)&&d.apply(c,arguments)}F(a,c,e);return e}function ja(a){a.style.display="block"}function ka(a){a.style.display="none"}function x(a,b,c,d,e,g){c=a.style;for(d in b)e=d,g=b[d],K(g)&&(g+="px"),c[e]=g}function la(a){return p.defaultView.getComputedStyle(a,s)}function ca(a){return a.parentNode}function N(a,b){return a.appendChild(b)}function Pa(a,b){return ca(a).insertBefore(b,a)}function Qa(a,b){return ca(a).insertBefore(b,a.nextSibling)}function Ra(a,b){return a.insertBefore(b,a.firstChild)}
function da(a){return ca(a).removeChild(a)}function M(a,b){if(!L(b))return a.innerHTML;a.innerHTML=b}function Sa(a,b){if(!L(b))return a.value;a.value=b}function H(a,b,c){a=a||C.lass;a=a.extend(b);L(c)&&(a.support=c);return a}function l(a,b){return H(C.Base,a,b)}function T(a,b){return H(C.Observer,a,b)}function Ta(){}function B(a,b,c){var d=a.length;for(c=Ua(c);d--;)c[0]=a[d],b.apply(a,c);return a}function V(a,b,c){c=Ua(c);c[0]=a[0];return b.apply(s,c)}function Ua(a){var b=[s];b.push.apply(b,a);return b}
function Va(a){var b=w(a.type);b.controls=a.controls?k:f;b.preload=a.preload||"auto";b.autoplay=a.autoplay?k:f;b.loop=a.loop?k:f;b.src=a.dir+a.name+"."+a.suffix[0][0];return b}function Wa(a,b){if(!h["HTML"+a+"Element"])return f;a=a.toLowerCase();for(var c=w(a),d=[],e=0,g=b.length;e<g;e++)c.canPlayType(a+"/"+b[e][1])&&d.push(b[e]);return d.length?d:f}C={};var h=window,p=document,k=!0,f=!1,s=null,n="",u={},na=void 0,y=Ja(),Xa=m("0.19,1,0.22,1"),I=1.70158,q,Ya,Aa,Za,$a,Ba,z,Ca,ab,ma;Date.now||(Date.now=
function(){return+new Date});C.util={pageTop:ua,override:X,replaceAll:v,template:function(a,b,c,d){for(c in b)d=b[c],a=v(v(a,"<%= "+c+" %>",Ia(d)),"<%- "+c+" %>",d);return a},escape:Ia,unescape:function(a){return v(v(v(v(v(a,"&gt;",">"),"&lt;","<"),"&#039;","'"),"&quot;",'"'),"&amp;","&")},windowOpen:function(a,b,c,d,e){e=[];for(d in c)xa(c[d])&&(c[d]===k?c[d]="yes":c[d]===f&&(c[d]="no")),e.push(d+"="+c[d]);return h.open(a,b,e.join(","))},typeCast:va,makeQueryString:qa,parseQueryString:function(a,
b,c,d,e){a=a.replace(/^[\#\?]/,n);b=a.split("&");c=b.length;for(e={};c--;)d=b[c].split("="),e[d[0]]=va(decodeURIComponent(d[1]));return e},is:R,isObject:S,isNumber:K,isString:wa,isFunction:U,isBoolean:xa,isArray:Y,isDefined:L,isTouchable:Ja,nullFunction:t,abstraceFunction:function(){throw Error("abstract-function was executed without being implemented.");},eventPrevent:ya,eventStop:function(a){a.stopPropagation();return f},checkUserAgent:ha,proxy:D,owner:ra,binarySearch:function(a){a=a||u;return za(a.low||
0,a.high||0,a.compare||t,a.end||t)},toArray:pa,copyArray:Z,hasDeclaredArgument:Ka};C.dom={win:h,doc:p,$:Fa,$$:function(a){return sa(a,p)},$child:function(a,b){return b.querySelector(a)},$$child:sa,$id:function(a){return p.getElementById(a)},on:F,off:E,delegate:Oa,create:w,show:ja,hide:ka,hasClass:$,addClass:aa,removeClass:ba,toggleClass:La,css:x,computedStyle:la,append:N,parent:ca,before:Pa,after:Qa,insertBefore:Ra,remove:da,attr:ia,removeAttr:Ma,html:M,val:Sa,reflow:function(a){a=a||p.body;a.offsetTop},
toElement:function(a){return Na(a)[0]},toElements:Na};(function(){C.lass=function(){};var a=f,b=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;C.lass.extend=function(c){function d(){!a&&this.init&&this.init.apply(this,arguments)}function e(a){var e=c[a],A=g.prototype[a];U(e)&&U(A)&&b.test(e)?d.prototype[a]=function(){var a,b=this._super;this._super=A;a=e.apply(this,arguments);this._super=b;return a}:d.prototype[a]=e}var g=this,A;a=k;d.prototype=new g;a=f;d.prototype.constructor=d;for(A in c)c.hasOwnProperty(A)&&
e(A);d.extend=g.extend;return d}})();C.Base=H(na,{Ab:0,dispose:function(a){a=this;var b=0,c=a.ha;for(b in c)E.apply(s,c[b]);for(b in a)(c=a[b])&&c.dispose&&c.dispose();a.__proto__=s;for(b in a)a[b]=s,delete a[b];return s},k:Ha,contract:Ha,J:Ga,uncontract:Ga});C.Observer=l({init:function(){this.va={}},on:function(a,b,c,d){d=this.va;d[a]||(d[a]=[]);d[a].push(b)},one:function(a,b,c){function d(e){b(e);c.off(a,d)}c=this;c.on(a,d)},off:function(a,b){var c=this.va,d=c[a],e;if(!b)return delete c[a];if(d)for(e=
d.length;e--;)if(b==d[e])return d.splice(e,1),0==d.length&&delete c[a],k;return f},fire:function(a,b){var c=this.va[a],d,e,g,A;if(c){d=pa(arguments).slice(1);g=0;for(A=c.length;g<A;g++)(e=c[g])&&e.apply(s,d)}}});q=C.Event=l({SWITCHCLICK:y?"touchstart":"click",SWITCHDOWN:y?"touchstart":"mousedown",SWITCHMOVE:y?"touchmove":"mousemove",SWITCHUP:y?"touchend":"mouseup",SWITCHOVER:y?"touchstart":"mouseover",SWITCHOUT:y?"touchend":"mouseout",LOAD:"load",CHANGE:"change",CLICK:"click",MOUSEDOWN:"mousedown",
MOUSEMOVE:"mousemove",MOUSEUP:"mouseup",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",TOUCHSTART:"touchstart",TOUCHMOVE:"touchmove",TOUCHEND:"touchend",RESIZE:"resize"});q=C.e=new q;C.ease={linear:function(a,b,c,d){return c*a/d+b},inCubic:function(a,b,c,d){return c*Math.pow(a/d,3)+b},outCubic:function(a,b,c,d){return c*(Math.pow(a/d-1,3)+1)+b},inOutCubic:function(a,b,c,d){return 1>(a/=d/2)?c/2*Math.pow(a,3)+b:c/2*(Math.pow(a-2,3)+2)+b},inQuart:function(a,b,c,d){return c*Math.pow(a/d,4)+b},outQuart:function(a,
b,c,d){return-c*(Math.pow(a/d-1,4)-1)+b},inOutQuart:function(a,b,c,d){return 1>(a/=d/2)?c/2*Math.pow(a,4)+b:-c/2*(Math.pow(a-2,4)-2)+b},inQuint:function(a,b,c,d){return c*Math.pow(a/d,5)+b},outQuint:function(a,b,c,d){return c*(Math.pow(a/d-1,5)+1)+b},inOutQuint:function(a,b,c,d){return 1>(a/=d/2)?c/2*Math.pow(a,5)+b:c/2*(Math.pow(a-2,5)+2)+b},inSine:function(a,b,c,d){return c*(1-Math.cos(a/d*(Math.PI/2)))+b},outSine:function(a,b,c,d){return c*Math.sin(a/d*(Math.PI/2))+b},inOutSine:function(a,b,c,
d){return c/2*(1-Math.cos(Math.PI*a/d))+b},inExpo:function(a,b,c,d){return c*Math.pow(2,10*(a/d-1))+b},outExpo:function(a,b,c,d){return c*(-Math.pow(2,-10*a/d)+1)+b},inOutExpo:function(a,b,c,d){return 1>(a/=d/2)?c/2*Math.pow(2,10*(a-1))+b:c/2*(-Math.pow(2,-10*--a)+2)+b},inCirc:function(a,b,c,d){return c*(1-Math.sqrt(1-(a/=d)*a))+b},outCirc:function(a,b,c,d){return c*Math.sqrt(1-(a=a/d-1)*a)+b},inOutCirc:function(a,b,c,d){return 1>(a/=d/2)?c/2*(1-Math.sqrt(1-a*a))+b:c/2*(Math.sqrt(1-(a-=2)*a)+1)+b},
inQuad:function(a,b,c,d){return c*(a/=d)*a+b},outQuad:function(a,b,c,d){return-c*(a/=d)*(a-2)+b},inOutQuad:function(a,b,c,d){return 1>(a/=d/2)?c/2*a*a+b:-c/2*(--a*(a-2)-1)+b},inBack:function(a,b,c,d){return c*(a/=d)*a*((I+1)*a-I)+b},outBack:function(a,b,c,d){return c*((a=a/d-1)*a*((I+1)*a+I)+1)+b},inOutBack:function(a,b,c,d){return 1>(a/=d/2)?c/2*a*a*(((I*=1.525)+1)*a-I)+b:c/2*((a-=2)*a*(((I*=1.525)+1)*a+I)+2)+b}};C.ssease={linear:"linear",inCubic:m("0.55,0.055,0.675,0.19"),outCubic:m("0.215,0.61,0.355,1"),
inOutCubic:m("0.645,0.045,0.355,1"),inQuart:m("0.895,0.03,0.685,0.22"),outQuart:m("0.165,0.84,0.44,1"),inOutQuart:m("0.77,0,0.175,1"),inQuint:m("0.755,0.05,0.855,0.06"),outQuint:m("0.23,1,0.32,1"),inOutQuint:m("0.86,0,0.07,1"),inSine:m("0.47,0,0.745,0.715"),outSine:m("0.39,0.575,0.565,1"),inOutSine:m("0.445,0.05,0.55,0.95"),inExpo:m("0.95,0.05,0.795,0.035"),outExpo:m("0.19,1,0.22,1"),inOutExpo:m("1,0,0,1"),inCirc:m("0.6,0.04,0.98,0.335"),outCirc:m("0.075,0.82,0.165,1"),inOutCirc:m("0.785,0.135,0.15,0.86"),
inQuad:m("0.55,0.085,0.68,0.53"),outQuad:m("0.25,0.46,0.45,0.94"),inOutQuad:m("0.455,0.03,0.515,0.955"),inBack:[m("0.6,0,0.735,0.045"),m("0.6,-0.28,0.735,0.045")],outBack:[m("0.175,0.885,0.32,1"),m("0.175,0.885,0.32,1.275")],inOutBack:[m("0.68,0,0.265,1"),m("0.68,-0.55,0.265,1.55")]};(function(){var a=Ea(["animation","webkitAnimation"],"Animation"),b=a.prefix,c=a.mb,d=a.ob,e=a.sheet,g=C.SSAnime=T({Za:function(){var a=this.b,b=this.Cb;E(a,d+"End",b);E(a,"animationend",b)},init:function(a,b,d,f){f=
this;f._super();O(f,d);d=d||u;f.wa=d.oncomplete||t;f.b=a;g.id++;f.u="ciranim"+g.id;a=d.duration||g.duration;var k=d.ease||Xa,h,l={};for(h in b)l[h]=b[h],K(l[h])&&(l[h]+="px");f.Ub=l;l=v(v(JSON.stringify(l),'"',n),",",";");e.insertRule("@"+c+"keyframes "+f.u+"{to"+l+"}",e.cssRules.length);Y(k)||(k=[k]);b=f.u;h=0;for(var l=k.length,m=n;h<l;h++)m+=c+"animation:"+b+" "+a+"ms "+k[h]+" 0s 1 normal both;";e.insertRule("."+b+"{"+m+"}",e.cssRules.length);d.manual||f.start()},dispose:oa,p:P,q:Q,start:function(a,
c){function g(d){var f=e.cssRules,h=f.length,k;a.Za();if("webkit"==b){for(;h--;)k=f[h].name||(n+f[h].selectorText).split(".")[1],k==a.u&&e.deleteRule(h);ba(c,a.u);x(c,a.Ub)}a.p(d)}a=this;c=a.b;a.q();a.Cb=g;F(c,d+"End",g);F(c,"animationend",g);aa(c,a.u)},stop:function(){var a={};this.fire("stop");a[c+"animation-play-state"]="paused";x(this.b,a);this.Za()}},a.qb);g.id=0;g.duration=500})();(function(){var a=Ea(["transitionProperty","webkitTransitionProperty"],"Transition"),b=a.mb,c=a.ob,d=a.sheet,e;
e=C.SSTrans=T({init:function(a,c,r,f){f=this;f._super();O(f,r);r=r||u;e.id++;f.u="cirtrans"+e.id;var h=[];X({},c);var k,l=r.duration||e.duration,m=r.ease||Xa;Y(m)||(m=[m]);for(k in c)h.push(k);k=0;for(var p=m.length,q=n,q=q+(b+"transition-property:"+h.join(" ")+";"+b+"transition-duration:"+l+"ms;");k<p;k++)q+=b+"transition-timing-function:"+m[k]+";";d.insertRule("."+f.u+"{"+q+"}",d.cssRules.length);f.b=a;f.U=c;r.manual||f.start()},dispose:oa,p:P,q:Q,start:function(a){a=this;a.q();a.ia=function(b){a.ba();
setTimeout(function(){a.Ra||a.p(b)},1)};F(a.b,c+"End",a.ia);F(a.b,"transitionend",a.ia);aa(a.b,a.u);x(a.b,a.U)},ba:function(a){a=this;var b=d.cssRules,e=b.length,f;E(a.b,c+"End",a.ia);E(a.b,"transitionend",a.ia);for(ba(a.b,a.u);e--;)if(f=b[e].name||(n+b[e].selectorText).split(".")[1],f==a.u){d.deleteRule(e);break}},Ra:f,stop:function(){this.Ra=k;this.fire("stop");this.ba()}},a.qb);e.id=0;e.duration=500})();var Da={request:function(a){return this.tb.call(h,a)},cancel:function(a){return this.wb.call(h,
a)}};(function(){var a=["webkit","moz","o","ms"],b,c,d;if(h.requestAnimationFrame)c=h.requestAnimationFrame,d=h.cancelAnimationFrame;else{for(b=a.length;b--;)if(h[a[b]+"RequestAnimationFrame"]){c=h[a[b]+"RequestAnimationFrame"];d=h[a[b]+"CancelAnimationFrame"];break}c||(c=function(a){return setTimeout(a,1E3/C.AnimeFrame.fps)},d=function(a){clearTimeout(a)})}Da.tb=c;Da.wb=d})();C.AnimeFrame=l(Da);C.AnimeFrame.fps=30;C.animeframe=new C.AnimeFrame;z=C.Tweener=T({init:function(a,b,c,d,e,g){g=this;g._super();
O(g,c);c=c||u;g.jb=a;g.U=[];for(d in b)e=b[d],e.name=d,e.Qb=e.to-e.from,e.prefix=e.prefix||n,e.suffix=e.suffix||(e.suffix===n?n:"px"),g.U.push(e);g.Ma=c.duration||z.duration;g.Bb=c.ease||g.rb;c.manual||g.start()},dispose:oa,rb:function(a,b,c,d){return c*(-Math.pow(2,-10*a/d)+1)+b},p:P,aa:function(){for(var a=this,b=z.na,c,d=G(),e,g=b.length,f,r;g--;)if(c=b[g],f=c.U.length,e=d-c.Ob,e<c.Ma)for(;f--;)r=c.U[f],z.eb(c.jb,r,c.Bb(e,r.from,r.Qb,c.Ma));else{for(;f--;)r=c.U[f],z.eb(c.jb,r,r.to);c.p();b.splice(g,
1)}b.length?C.animeframe.request(function(){a.aa()}):a.ba()},q:Q,start:function(a){a=this;a.q();a.Ob=G();z.na.push(a);z.Ha||(z.Ha=1,C.animeframe.request(function(){a.aa&&a.aa()}))},ba:function(){z.na=[];C.animeframe.cancel(z.Ha);z.Ha=s},stop:function(){this.fire("stop");this.ba()}});z.eb=function(a,b,c){a[b.name]=b.prefix||b.suffix?b.prefix+c+b.suffix:c};z.na=[];z.duration=500;C.$=function(a,b,c,d,e){c="string"==typeof a?(b||p).querySelectorAll(a):[a];d=new Ta;for(e=d.length=c.length;e--;)d[e]=c[e];
return d};ma=C.$.Yb={querySelectorAll:function(a){return this[0].querySelectorAll(a)},find:function(a){return C.$(a,this)},parent:function(){return C.$(ca(this[0]))},on:function(){return B(this,F,arguments)},off:function(){return B(this,E,arguments)},delegate:function(a,b,c){var d;this.ra||(this.ra={});d=this.ra;d[b]||(d[b]={});d=d[b];d[a]||(d[a]=[]);d=d[a];return B(this,function(){var a=Oa.apply(s,arguments);d.push([c,a])},arguments)},undelegate:function(a,b,c){var d=this.ra;if(!d)return f;d=d[b];
if(!d)return f;d=d[a];if(!d)return f;a=d.length;if(c){for(;a--;)if(d[a][0]===c)return this.off(b,d[a][1]),d.splice(a,1),k;return f}for(;a--;)this.off(b,d[a][1]),d.splice(a,1);return k},show:function(){return B(this,ja)},hide:function(){return B(this,ka)},hasClass:function(){return V(this,$,arguments)},addClass:function(){return B(this,aa,arguments)},removeClass:function(){return B(this,ba,arguments)},toggleClass:function(){return B(this,La,arguments)},css:function(){return B(this,x,arguments)},html:function(){return V(this,
M,arguments)},val:function(){return V(this,Sa,arguments)},attr:function(){return V(this,ia,arguments)},removeAttr:function(){return B(this,Ma,arguments)},append:function(){return B(this,N,arguments)},before:function(){return V(this,Pa,arguments)},after:function(){return V(this,Qa,arguments)},insertBefore:function(){return V(this,Ra,arguments)},remove:function(){return B(this,da,arguments)}};(function(){function a(a,g,f,r,h){U(f)&&(h=f,f=s);U(r)&&!h&&(h=r,r=s);r&&(r=d[r]);f={duration:f,ease:r,oncomplete:h};
if(c)g=new b(a,g,f);else{r=C.Tweener;h=a.style;var k;a=la(a);var l,m,n={};for(k in g)l=J(g[k]),m=a.getPropertyValue(k),m=!m||"none"==m?0:+J(m)[2],n[k]={from:m,to:+l[2]||0,prefix:l[1],suffix:l[3]};g=new r(h,n,f)}this.P.push(g)}var b=C.SSAnime||u,c=b.support,d=u;c&&C.cssease?d=C.cssease:C.ease&&(d=C.ease);ma.animate=function(){this.P||(this.P=[]);return B(this,a,arguments)};ma.stop=function(a,b){a=this;if(a.P){for(b=a.P.length;b--;)a.P[b].stop();a.P=s}return a}})();C.HashQuery=l({typeCast:function(a){var b=
va(a);return a==b&&(a=a.match("^[\"'](.*)[\"']$"))?a[1]:b},makeHash:function(a){var b="#"+a.mode;a=a.vars;var c="?",d;for(d in a)b+=c+d+"="+JSON.stringify(a[d]),c="&";return encodeURI(b)},setHash:function(a){location.hash=this.makeHash(a)},parseHash:function(a){var b=decodeURIComponent(a).split("#")[1],c,d,e;if(!b)return f;b=b.split("?");a=b[0];if(b[1]){c={};b=b[1].split("&");for(e=b.length;e--;)b[e]&&(d=b[e].split("="),c[d[0]]=this.typeCast(d[1]))}return{mode:a,vars:c}},getHash:function(){return this.parseHash(location.hash)}});
Ba=l({init:function(a){var b=this,c=a.autoplay,d=a.loop,e,g=a.el||p.body;a.preload="auto";a.autoplay=a.loop=f;switch(a.type){case "Audio":e=C.Audio(a);break;default:e=C.Video(a)}if(b.b=e){if(c){var h;h=b.k(e,"canplay",function(){b.J(h);b.play()})}d&&b.loop(k);a.oncanplay&&b.k(e,"canplay",a.oncanplay);a.onended&&b.k(e,"ended",a.onended);N(g,e)}},dispose:function(){da(this.b);this._super()},getElement:ea("b"),getCurrent:function(){return this.b.currentTime},getDuration:function(){return this.b.duration},
setCurrent:function(a){this.b.currentTime=a},loop:function(a,b){b=this;b.C&&(b.J(b.C),delete b.C);a&&(b.C=b.k(b.b,"ended",function(){b.stop();b.play()}))},play:function(){this.b.play()},pause:function(){this.b.pause()},stop:function(){this.setCurrent(0);this.pause()}});C.Audio=function(a){a.type="audio";a.suffix=C.Audio.support;return Va(a)};C.Audio.support=Wa("Audio",[["mp3","mpeg"],["wav","wav"],["ogg","ogg"],["m4a","mp4"]]);C.Sound=function(a){a.type="Audio";return new Ba(a)};C.Sound.support=C.Audio.support;
C.Video=function(a){a.type="video";a.suffix=C.Video.support;return Va(a)};C.Video.support=Wa("Video",[["webm","webm"],["mp4","mp4"],["ogv","ogg"]]);C.Movie=function(a){a.type="Video";return new Ba(a)};C.Movie.support=C.Video.support;C.Ajax=T({dispose:function(){this.stop();this._super()},init:function(a){this._super();a=X({},a);var b=this,c=a.url,d=a.type||"GET",e=n,g=b.Ga=new XMLHttpRequest;"json"==a.dataType&&b.Fb(a);O(b,a);a.cache||b.vb(a);a.query&&(e=b.za(a));g.onreadystatechange=function(){if(4==
g.readyState){if(200==g.status)return b.fire("complete",g.responseText,g);b.fire("error",g)}};"GET"==d&&(c=W(c,"?")?c+"&":c+"?",c+=e,e=n);this.za=e;g.open(d,c);"POST"==d&&g.setRequestHeader("Content-Type","application/x-www-form-urlencoded");a.manual||b.start()},q:Q,start:function(){this.q();this.Ga.send(this.za)},stop:function(){this.Ga.abort();this.fire("stop",this.Ga)},za:function(a){a=a.query;S(a)&&(a=encodeURI(qa(a)));return a},vb:function(a){a.query||(a.query={});a.query["cir"+G()]="0"},Fb:function(a){var b=
a.oncomplete,c=a.onerror;b&&(a.oncomplete=function(a){b(fa(a))});c&&(a.onerror=function(a){c(a)})}});Ya=C.Progress=l({ma:0,ta:0,O:0,t:function(a,b,c){b=this;L(a)&&b.K.push(a);b.O=b.ma/b.Fa;1<b.O&&(b.O=1);b.$a(b.O);b.ta&&(c=Error("miss"));if(b.ma==b.Fa||b.ta)b.wa(c,b.K),b.wa=b.$a=t},init:function(a,b,c){b=this;c=a.waits;Y(c)&&(c=c.length);b.Fa=c;b.wa=a.oncomplete;b.$a=a.onprogress||t;b.K=[]},getProgress:ea("O"),pass:function(a){this.ma++;this.t(a)},miss:function(a){this.ta++;this.t(a)},exit:function(a,
b){b=this;b.ma=b.Fa;b.t(a)}});y=T({init:function(a){this._super();a=a||u;var b=Z(a.queue)||[];O(this,a);this.resetQueue(b);this.Q=D(this,this.Q)},q:Q,start:function(){this.q();this.T=f;this.Na()},restart:function(a){this.resetQueue(a);this.start()},stop:function(){this.o=s;this.fire("stop")},pause:function(){this.T=k;this.fire("pause")},resume:function(){this.T&&(this.fire("resume"),this.T=f,this.Na())},resetQueue:function(a){a&&(this.Ib=Z(a));a=this.o=Z(this.Ib);for(var b in a)a[b].resetQueue&&a[b].resetQueue();
this.fire("reset")},ua:function(){this.fire("change",this.getQueue())},setQueue:function(a){this.o=Z(a);this.ua()},getQueue:function(){return Z(this.o)},addTask:function(a,b){if(!K(b)||b>this.o.length)b=this.o.length;this.o.splice(b,0,a);this.ua()},removeTask:function(a){for(var b=0,c=this.o.length;b<c;b++)if(this.o[b]===a){this.o.splice(b,1);this.ua();break}},Na:function(){this.T||this.sa()},Ia:function(a){var b=this;return a.one&&a.start?(a.one("complete",D(b,b.Q)),D(a,a.start)):Ka(a)?D(b,a):function(c){a.call(b);
c()}}});C.Parallel=C.Async=H(y,{p:P,sa:function(){if(this.o){if(0===this.o.length)return this.p();for(this.bb=this.o.length;!this.T&&this.o&&this.o[0];)this.Ia(this.o.shift())(this.Q)}},X:ta,Q:function(){this.X();this.bb--;0==this.bb&&this.p()}});C.Serial=C.Sync=H(y,{p:P,sa:function(){if(this.o&&!this.T){if(this.o[0])return this.Ia(this.o.shift())(this.Q);this.p()}},X:ta,Q:function(){this.X();this.sa()}});C.Anvas=l({init:function(a,b){b=this;b.ea=a.canvas;b.xb=b.ea.getContext("2d");b.setSize(a)},
setSize:function(a){a.width&&(this.ea.width=a.width);a.height&&(this.ea.height=a.height)},pigment:function(a){var b=this,c=w("canvas"),d=w("img");d.onload=function(){c.width=a.width;c.height=a.height;c.getContext("2d").drawImage(d,0,0);a.onload.apply(b,[c,d])};d.src=a.src;return{image:c,x:a.x||0,y:a.y||0}},pigments:function(a,b){function c(a){var c=a.onload||t;a.onload=function(a,e){c(a,e);g--;0==g&&b.call(d,f)};f[e]=d.pigment(a);g++}var d=this,e,g=0,f={};b=b||t;for(e in a)c(a[e]);return f},draw:function(a){var b=
0,c=a.length,d=this.xb,e=this.ea;for(d.clearRect(0,0,e.width,e.height);b<c;b++)(e=a[b])&&d.drawImage(e.image,e.x,e.y)}},!!h.HTMLCanvasElement);(function(){function a(a){a=+a;10>a&&(a="0"+a);return n+a}var b="Sun Mon Tue Wed Thu Fri Sat".split(" "),c="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),d="January February March April May June July August September October November December".split(" "),e="Jan Feb Mar Apr May June July Aug Sep Oct Nov Dec".split(" "),g={d:function(b){return a(g.j(b))},
j:function(a){return a.getDate()},D:function(a){return b[a.getDay()]},l:function(a){return c[a.getDay()]},F:function(a){return d[a.getMonth()]},M:function(a){return e[a.getMonth()]},m:function(b){return a(g.n(b))},n:function(a){return a.getMonth()+1},Y:function(a){return a.getFullYear()},y:function(a){a=g.Y(a);a=n+a;return a.slice(a.length-2)},a:function(a){return g.A(a).toLowerCase()},A:function(a){return 12>g.G(a)?"AM":"PM"},g:function(a){a=g.G(a);return 12==a||0==a||24==a?12:a%12},G:function(a){return a.getHours()},
h:function(b){return a(g.g(b))},H:function(b){return a(g.G(b))},i:function(b){return a(g.I(b))},s:function(b){return a(g.S(b))},I:function(a){return a.getMinutes()},S:function(a){return a.getSeconds()}},f=/%([djDlFMmnYyaAgGhHisIS])/g;C.DateFactory=l({make:function(a){switch(k){case wa(a):return a=a.split(/[T:\-\+\/\s]/),new Date(+a[0],a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);case K(a):return new Date(a);case R("Date",a):return a}return new Date},format:function(a,b){b=this.make(b);return a.replace(f,
function(a,c){return g[c](b)})}})})();C.Rollover=l({init:function(a,b){b=this;var c=a.toggleClass||n,d=a.over||t,e=a.out||t;b.B=a.els;b.Kb=function(){aa(b,c);d()};b.ib=function(){ba(b,c);e()};a.manual||b.attach()},dispose:function(){this.detach();this._super()},attach:function(){this.W(F)},detach:function(){this.W(E)},W:function(a,b,c){b=this;for(c=b.B.length;c--;)a(b.B[c],q.SWITCHOVER,b.Kb),a(b.B[c],q.SWITCHOUT,b.ib),a(b.B[c],q.MOUSEOUT,b.ib)}});C.DataStore=l({fa:function(){return!this.ca?{}:[]},
init:function(a){a=a||u;this.ca=a.array||f;this.reset()},set:function(a,b){var c;S(a)||(c={},c[a]=b,a=c);for(c in a)this.ga[c]=a[c]},get:function(a){var b=this.fa(),c=this.ga,d;if(a)return c[a];for(d in c)b[d]=c[d];return b},remove:function(a){L(this.ga[a])&&(this.ca?this.data.splice(a,1):delete this.ga[a])},reset:function(){this.ga=this.fa()}});Ca=l({fa:function(){return!this.ca?{}:[]},init:function(a){this.ca=a.array||f;this.R=a.namespace?a.namespace+"-":n;this.V=h[a.type+"Storage"]},set:function(a,
b){var c;S(a)||(c={},c[a]=b,a=c);for(c in a)this.V.setItem(this.R+c,JSON.stringify(a[c]))},get:function(a,b){b=this;var c=this.fa(),d,e=b.V;if(a)return fa(e.getItem(b.R+a));for(d in e)b.R?(a=d.split(b.R)[1])&&(c[a]=fa(e[d])):c[d]=fa(e[d]);return c},remove:function(a,b){b=this;a=b.R+a;L(b.V.getItem(a))&&b.V.removeItem(a)},reset:function(a,b){a=this;if(!a.R)return a.V.clear();for(b in a.V)a.remove(b)}});C.LocalStorage=function(a){a=a||{};a.type="local";return new Ca(a)};C.SessionStorage=function(a){a=
a||{};a.type="session";return new Ca(a)};C.DragFlick=l({Ca:function(a){return a.changedTouches?a.changedTouches[0]:a},sb:function(a){var b=this,c,d,e=f;b.f.push(b.k(a.el,q.SWITCHDOWN,function(a){var f=b.Ca(a);c=f.pageX;d=f.pageY;e=k;ya(a)}),b.k(h,q.SWITCHUP,function(g){e&&(g=b.Ca(g),a.callback({x:g.pageX-c,y:g.pageY-d}),e=f)}))},zb:function(a){this.sb({el:a.el,callback:function(b){var c=a.boundary||0,d={change:f,top:f,right:f,bottom:f,left:f,amount:b};Math.abs(b.x)>c&&(0<b.x?d.right=k:0>b.x&&(d.left=
k),d.change=k);Math.abs(b.y)>c&&(0<b.y?d.bottom=k:0>b.y&&(d.top=k),d.change=k);a.callback(d)}})},init:function(a,b){b=this;b.f=[];a=(b.c=a)||u;a.manual||b.attach()},attach:function(){function a(a,c,d){b.f.push(b.k(a,c,function(a){d(b.Ca(a))}))}var b=this,c=this.c,d=c.el,e=c.start||t,g=c.move||t,h=c.end||t,l=f,m=0,n=0;c.direction&&b.zb({el:d,boundary:c.boundary,callback:c.direction});a(d,q.SWITCHDOWN,function(a){l=k;m=a.pageX;n=a.pageY;e({e:a,move:{x:m,y:n}})});a(p,q.SWITCHMOVE,function(a){l&&g({e:a,
move:{x:a.pageX-m,y:a.pageY-n}})});a(p,q.SWITCHUP,function(a){l&&(h({e:a,move:{x:a.pageX-m,y:a.pageY-n}}),l=f)})},detach:function(a){a=this;for(var b=a.f,c=b.length;c--;)a.J(b[c]);a.f=[]}});C.ExternalInterface=function(a){a=a||u;return a.android?new Za(a):new $a};Za=H(C.HashQuery,{init:function(a){this.c=a},call:function(a){this.c.android[a.mode](this.makeHash(a))},addCallback:function(a,b,c){c=this;c.c.externalObj[a]=function(a){b(c.parseHash(a).vars)}},removeCallback:function(a){delete this.c.externalObj[a]}});
$a=H(C.HashQuery,{init:function(){this.Z={}},dispose:function(a){for(a in this.Z)this.removeCallback(a);this._super()},call:function(a){this.setHash(a)},addCallback:function(a,b,c){c=this;c.Z[a]=function(d){d=c.getHash();d.mode==a&&b(d.vars)};F(h,"hashchange",c.Z[a])},removeCallback:function(a){E(h,"hashchange",this.Z[a]);delete this.Z[a]}});C.Facebook=l({shareURL:function(a){return"https://www.facebook.com/dialog/feed?app_id="+a.app_id+"&redirect_uri="+a.redirect_uri+qa({link:a.link,picture:a.picture,
name:a.name,caption:a.caption,description:a.description})}});C.FPS=l({ya:0,Hb:0,C:0,init:function(a,b){b=this;b.qa=b.Ba=a.criterion;b.Ya=b.Oa(b.qa);b.Db=a.enterframe;a.manual||b.start()},dispose:oa,getCriterion:ea("qa"),getSurver:ea("Ba"),getFrameTime:ea("Ya"),enter:function(a){a=this;a.Db({criterion:a.qa,surver:a.Ba})},start:function(a){a=this;a.ya=G();a.C=setInterval(a.aa,a.Ya,a)},aa:function(a,b){b=a.Hb=G();a.Ba=a.Oa(b-a.ya);a.ya=b;a.enter()},Oa:function(a){return Math.round(1E3/a)},stop:function(){clearInterval(this.C)}});
y=T({Da:n,p:P,X:ta,init:function(a,b){b=this;b._super();b.Aa=a.srcs;b.Ta=[];b.f=[];b.O=new Ya({waits:b.Aa,onprogress:function(a){b.X(a)},oncomplete:function(){for(var a=b.f.length;a--;)b.J(b.f[a]);b.f=[];b.p(b.Ta)}});O(b,a);a.manual||b.start()},q:Q,start:function(){function a(){b.O.pass()}var b=this,c,d=0,e=b.Aa.length;b.q();if(!b.Jb)for(b.Jb=k;d<e;d++)c=w(b.Da),c.src=b.Aa[d],b.f.push(b.k(c,q.LOAD,a)),b.Ta.push(c),b.Ua(c)},Ua:t});C.ImgLoad=H(y,{Da:"img"});C.ScriptLoad=H(y,{Da:"script",Ua:function(a){N(p.body,
a)}});(function(){function a(){b=k;E(h,q.LOAD,a)}var b=f;F(h,q.LOAD,a);C.WindowLoad=T({init:function(a){this._super();O(this,a);a.manual||this.start()},p:P,q:Q,start:function(){var a=this;a.q();if(!a.Vb)if(a.Vb=k,b)a.p();else var d=a.k(h,q.LOAD,function(){a.J(d);a.p()})}})})();y=C.Mobile=l({getZoom:function(){return p.body.clientWidth/h.innerWidth},isAndroid:function(a){return ha(/Android/i,a)},isIOS:function(a){return ha(/iPhone|iPad|iPod/i,a)},isWindows:function(a){return ha(/IEMobile/i,a)},isFBAPP:function(a){return ha(/FBAN/,
a)},isMobile:function(a){a=this;return a.isAndroid()||a.isIOS()||a.isWindows()||a.isFBAPP()},hideAddress:function(){function a(){0==h.pageYOffset&&ua()}function b(){setTimeout(a,100)}this.k(h,q.LOAD,b,f);this.k(h,"orientationchange",b,f)}});C.mobile=new y;(function(){var a=h.navigator.userAgent.toLowerCase(),b;b=W(a,"opera")?"opera":W(a,"msie")?"ie":W(a,"chrome")?"chrome":W(a,"safari")?"safari":W(a,"gecko")?"gecko":"ather";ab=C.PC=l({isChrome:function(){return"chrome"==b},isSafari:function(){return"safari"==
b},isGecko:function(){return"gecko"==b},isOpera:function(){return"opera"==b},isIE:function(){return"ie"==b}});C.pc=new ab})();C.Orientation=l({init:function(a,b){b=this;b.c=a;b.f=[];b.ab={portrait:k,landscape:f};b.Sa={portrait:f,landscape:k};b.attach()},get:function(a){a=this;return K(h.orientation)?90!=Math.abs(h.orientation)?a.ab:a.Sa:h.innerWidth<h.innerHeight?a.ab:a.Sa},fire:function(a){a=this;if(a.get().portrait)return a.c.portrait();a.c.landscape()},attach:function(a,b){b=this;var c=D(b,b.fire);
b.f.push(b.k(h,q.LOAD,c),b.k(h,"orientationchange",c),b.k(h,q.RESIZE,c))},detach:function(a){a=this;for(var b=a.f.length;b--;)a.J(a.f[b]);a.f=[]}},"onorientationchange"in h);C.Modal=l({Ka:function(a){a=this;for(var b=a.f.length;b--;)a.J(a.f[b]);a.f=[]},init:function(a,b,c){b=this;a=a||u;b.c=a;c={display:"none",position:"absolute"};b.cb=new C.Scroll;b.f=[];b.L=w("div",{"class":"cir-modal-bg"});x(b.L,X({"z-index":"9998",top:0,left:0,width:"100%",height:"200%"},c));N(p.body,b.L);b.v=w("div",{"class":"cir-modal-content"});
x(b.v,X({"z-index":"9999",top:"50%",left:"50%"},c));N(p.body,b.v);a.manual||b.open()},dispose:function(a){a=this;a.close();da(a.L);da(a.v);this._super()},open:function(a,b){b=this;b.cb.kill();x(b.L,{top:p.body.scrollTop});ja(b.L);b.inner(a)},close:function(a){a=this;a.Ka();M(a.v,n);ka(a.v);ka(a.L);a.cb.revival()},inner:function(a,b,c,d,e){b=this;b.Ka();a=a||b.c.html;M(b.v,a);ja(b.v);c=la(b.v);x(b.v,{"margin-top":p.body.scrollTop-J(c.height)[2]/2,"margin-left":-(J(c.width)[2]/2)});b.c.bgClose&&b.k(b.L,
q.CLICK,D(b,b.close));if(b.c.closeSelector){d=sa(b.c.closeSelector,b.v);for(e=d.length;e--;)b.f.push(b.k(d[e],q.CLICK,D(b,b.close)))}}});Aa=l({init:function(a){this.c=a;this.attach()},attach:function(a){a=this;a.detach();a.ub=a.k(h,a.c.e,a.c.callback)},detach:function(){this.J(this.ub)}});C.DeviceOrientation=function(a){a.e="deviceorientation";return Aa(a)};C.DeviceOrientation.support="ondeviceorientation"in h;C.DeviceMotion=function(a){a.e="devicemotion";return Aa(a)};C.DeviceMotion.support="ondevicemotion"in
h;(function(){var a,b;C.DeviceOrientation.support?(a=C.DeviceOrientation,b=function(a){return a}):C.DeviceMotion.support&&(a=C.DeviceMotion,b=function(a){return a.rotationRate});C.DeviceShake=l({Pb:{x:"gamma",y:"beta",z:"alpha"},init:function(b,d){d=this;d.fb=new a;d.c=b;d.attach()},attach:function(){var a,d=this.c,e=this.Pb[d.direction];this.fb.attach(function(g){g=b(g);a||(a=g);Math.abs(g[e]-a[e])>d.limit&&(a=s,d.callback(g),setTimeout(function(){},d.waittime))})},detach:function(){this.fb.detach()}},
a?k:f)})();C.FontImg=l({init:function(a,b){a=a||u;this.Mb=(b=a.type)?b+"_":n;this.Lb=a.tag||"span"},make:function(a){a=(n+a).split(n);for(var b=this.Lb,c=n,d=a.length;d--;)c="<"+b+' class="font_'+this.Mb+a[d]+'"></'+b+">"+c;return c}});C.PreRender=T({init:function(a,b){b=this;b._super();b.B=a.els;b.Pa=a.guesslimit||30;b.Wa=a.looptime||100;b.Gb=b.Wa+(a.loopblur||20);O(b,a);a.manual||b.start()},dispose:function(){clearInterval(this.C);this._super()},p:P,q:Q,start:function(){var a,b=this,c=G();b.q();
for(a=b.B.length;a--;)ja(b.B[a]);b.C=setInterval(function(){var a=G(),e=a-c;c=a;if(e<b.Gb&&(b.Pa--,1>b.Pa)){clearInterval(b.C);for(a=b.B.length;a--;)ka(b.B[a]);b.p()}},b.Wa,b)}});C.Route=l({init:function(a){this.c=a;a.manual||this.start()},start:function(){this.fire(this.c.target)},fire:function(a){var b,c=this.c,d=c.action;if(c.noregex&&d[a])return d[a](a);for(b in d)if(a.match(b))d[b](b)}});(function(){function a(a){return d?c.getResponseHeader(a):f}function b(a){var b=new XMLHttpRequest;b.onload=
function(){a(b)};b.open("HEAD",location.href+"?update"+G()+"=1");b.send(s);return b}var c,d=f;C.ServerMeta=l({init:function(a){a=a||u;var g=a.callback||t;c?g(c):c=b(function(){d=k;g(c)})},date:function(a){return b(function(b){a(b.getResponseHeader("Date"))})},connection:function(){return a("Connection")},contentLength:function(){return a("Content-Length")},lastModified:function(){return a("Last-Modified")},server:function(){return a("Server")},contentType:function(){return a("Content-Type")},acceptRanges:function(){return a("Accept-Ranges")},
keepAlive:function(){return a("Keep-Alive")}})})();C.Surrogate=l({init:function(a){this.yb=a.delay;this.da=a.callback},dispose:function(){this.clear();this._super()},request:function(a,b){b=this;b.K=a;b.clear();b.Ea=setTimeout(b.flush,b.yb,b)},flush:function(a){a=a||this;a.da(a.K)},clear:function(){clearTimeout(this.Ea)}});C.Throttle=l({init:function(a){this.Nb=a.waittime;this.da=a.callback},dispose:function(){this.unlock();this._super()},request:function(a,b){b=this;b.Va?b.K=a:(b.da(a),b.lock(),
b.Ea=setTimeout(function(){b.K&&(b.da(b.K),b.K=s);b.unlock()},b.Nb,b))},lock:function(){this.Va=k},unlock:function(a){a=a||this;a.Va=f;clearTimeout(a.Ea)}});C.Timer=function(a){function b(){s=G();var a=g-(s-p)/1E3;0>a&&(a=0);u=c(a);l(u);s>t?(w.stop(),m()):v=setTimeout(b,h)}function c(a){var b;b=(n+a).split(".");a=b[0];b=b[1]?b[1]:n;a=d({pb:a,nb:q.Sb});b=d({pb:b,nb:q.Rb,Tb:k});return a+"."+b}function d(a){var b=n+a.pb,c=a.nb,d=c-b.length;return!a.Tb?-1<d?e(d,0)+b:e(c,9):0<d?b+e(d,0):b.slice(0,c)}function e(a,
b){var c=n;for(b=n+b;0<a;)c+=b,a--;return c}var g=a.limit,f=1E3*g,h=1E3*a.interval,l=a.onupdate,m=a.ontimeup,q=function(a){a=a.split(".");return{Sb:a[0].length,Rb:a[1].length}}(a.template),p=0,s=0,t=f,u=c(g),v,w={getLimit:function(){return g},getTime:function(){return u},getProgress:function(){return 1-(t-s)/f},setUpdate:function(a){l=a},setTimeup:function(a){m=a},countDown:function(){s=p=G();t=p+f;b()},stop:function(){clearTimeout(v)}};return w};C.Twitter=l({shareURL:function(a){var b=a.name,c=a.hash,
b=b?" \u300c"+b+"\u300d":n,c=c?" "+c:n;return"https://twitter.com/intent/tweet?"+qa({url:a.redirect_uri,text:(a.caption||n)+b+c})}});C.XML=l({init:function(a){this.b=w("div");M(this.b,a.data)},$:function(a){return this.b.querySelector(a)},$$:function(a){return sa(a,this.b)}});C.Model=l({la:function(a,b,c,d){d=this;d.w.fire(a,d.r.get());b&&d.w.fire(a+":"+b,c)},init:function(a,b){b=this;a=a||u;var c,d=a.defaults||b.defaults||u,e=a.events||b.events;b.kb=a.validate||b.validate||{};b.r=a.store||b.store||
new C.DataStore;b.w=new C.Observer;for(c in d)b.set(c,d[c]);for(c in e)b.on(c,e[c])},set:function(a,b,c){c=this;var d;S(a)||(d={},d[a]=b,a=d);c.xa=c.r.get();for(d in a){b=a[d];if(c.kb[d]&&!c.kb[d](d,b))return c.la("fail",d,b);c.r.set(d,b);c.w.fire(q.CHANGE+":"+d,b)}c.w.fire(q.CHANGE,c.r.get())},prev:function(a){return!a?this.xa:this.xa[a]},get:function(a){return this.r.get(a)},remove:function(a,b){b=this;if(a){var c=b.r.get(a),d=b.r.remove(a);b.la("remove",a,c);return d}},reset:function(){this.r.reset();
this.la("reset")},on:function(a,b,c){c=D(this,b);this.w.on(a,c);return c},off:function(a,b){this.w.off(a,b)},fire:function(a,b){return this.w.fire.apply(this.w,arguments)}});C.View=l({init:function(a,b){b=this;a=a?ra(b,a):ra(b,b,{});b.el=C.$(a.el||b.el||w("div"));b.attach();a.init&&b.init()},dispose:function(){this.detach();this._super()},W:function(a,b,c,d,e,f){b=this;f=b.events;for(c in f)for(d in e="me"==c?b.el:b.el.find(c),f[c])e[a](d,b[f[c][d]])},attach:function(){this.W("on")},detach:function(){this.W("off")}});
C.Ollection=H(C.Model,{init:function(a,b){b=this;a=a||u;var c,d=a.defaults||b.defaults||[],e=a.events||b.events;b.r=a.store||b.store||new C.DataStore({array:k});b.w=new C.Observer;for(c in d)b.set(c,d[c]);for(c in e)b.on(c,e[c])},set:function(a,b,c){c=this;var d;S(a)||(d={},d[a]=b,a=d);c.xa=c.r.get();for(d in a){b=a[d];if(!K(+d))return c.la("fail",a,b);c.r.set(a,b);c.w.fire(q.CHANGE,b,+d,c.r.get())}},add:function(a){var b=this.r.get().length;this.set(b,a);return b},each:function(a){var b,c=this.get();
for(b in c)a.apply(this,[c[b],b,c])},map:function(a){var b,c=this.get();for(b in c)this.set(b,a.apply(this,[c[b],b,c]))}});C.Validate=l({t:function(a,b,c,d){if(a(c))return k;this.displayError(b,d)},init:function(a,b){b=this;a=a||{};b.Wb=a.level;ra(b,b,a)},displayError:function(a,b){b="Validate Error:"+a+" is "+b+".";switch(this.Xb){case "log":return console.log(b),f;case "error":throw Error(b);case "off":return f}console.warn(b);return f},isObject:function(a,b){return this.t(S,a,b,"Object")},isNumber:function(a,
b){return this.t(K,a,b,"Number")},isString:function(a,b){return this.t(wa,a,b,"String")},isFunction:function(a,b){return this.t(U,a,b,"Function")},isBoolean:function(a,b){return this.t(xa,a,b,"Boolean")},isArray:function(a,b){return this.t(Y,a,b,"Array")}});C.validate=new C.Validate;C.Scroll=l({dispose:function(){this.revival();clearInterval(this.gb);this._super()},to:ga,toTop:ua,toBottom:function(){ga(p.height)},checkBottom:function(a){return p.body.scrollHeight-h.innerHeight-p.body.scrollTop<=(a||
0)?k:f},scrollY:function(a){a=h.pageYOffset;return a!==na?a:(p.documentElement||p.body.parentNode||p.body).scrollTop},smooth:function(a,b,c,d){c=this;b=b||t;c.hb||(c.hb=k,K(a)||(a=a.offsetTop),d=p.height-h.innerHeight,a>d&&(a=d),c.Ja=c.scrollY(),c.gb=setInterval(function(d){d=c.scrollY();d=0.3*(a-d)+d;if(1>Math.abs(a-d)||c.Ja==d)return ga(a),clearInterval(c.gb),b(a),delete c.hb;c.Ja=d;ga(d)},50))},kill:function(a){a=this;a.ja||(x(p.body,{overflow:"hidden"}),a.ja=a.k(p,q.TOUCHMOVE,ya))},revival:function(a){a=
this;a.ja&&(x(p.body,{overflow:"auto"}),a.J(a.ja),delete a.ja)}});C.LimitText=l({Xa:8,oa:function(a){M(this.N,a);N(ca(this.b),this.N)},pa:function(){M(this.N,n);da(this.N)},init:function(a){var b=this.b=a.el;la(b);var b=this.N=w(b.tagName,{"class":ia(b,"class"),style:ia(b,"style")}),c=this.La=la(b);this.lb=a.width;this.Qa=a.height;this.oa(0);L(a.width)||(this.lb=+J(c.width)[2]);L(a.height)||(this.Qa=+J(c.height)[2]);x(b,{height:"auto"});this.Eb=+J(c.fontSize)[2];this.pa()},ka:function(){return+J(this.La.width)[2]<=
this.lb&&+J(this.La.height)[2]<=this.Qa?k:f},getLimitFontSize:function(a){a=n+a;var b=this,c=b.Eb,d;x(b.N,{fontSize:c});b.oa(a);b.ka()?d=c:za(b.Xa-1,c,function(a){x(b.N,{fontSize:a});return b.ka()},function(a){d=a});b.pa();d<b.Xa&&(d=0);return d},getLimitTextLength:function(a){a=n+a;var b=this,c=a.length,d;b.oa(a);b.ka()?d=c:za(0,c,function(c){M(b.N,a.slice(0,c));return b.ka()},function(a){d=a});b.pa();return d}});ma&&(Ta.prototype=ma)})();
})();
