var C={};
(function(){var b=C;(function(a,c){function d(a,c){return Object.prototype.toString.call(c)==="[object "+a+"]"?!0:!1}function e(a){var c=""+a;return c.match("^{.*}$")?JSON.parse(c):c.match("^[0-9.]+$")?1*c:"true"===c?!0:"false"===c?!1:a}Date.now||(Date.now=function(){return+new Date});b.utility={win:a,doc:c,pageTop:function(){a.scrollTo(0,1)},override:function(a,c){for(var d in c)a[d]=c[d];return a},replaceAll:function(a,c,d){return a.split(c).join(d)},windowOpen:function(c,d){return a.open(c,d)},
typeCast:e,makeQueryString:function(a){var c="",d="",b;for(b in a)if(a[b]){d=d+(c+b+"="+encodeURIComponent(a[b]));c="&"}return d},parseQueryString:function(a){var a=a.replace(/^\#/,"").replace(/^\?/,""),a=a.split("&"),c,d,b={};for(c=a.length;c--;){d=a[c].split("=");b[d[0]]=e(decodeURIComponent(d[1]))}return b},is:d,isObject:function(a){return d("Object",a)},isNumber:function(a){return d("Number",a)},isString:function(a){return d("String",a)},isFunction:function(a){return d("Function",a)},isBoolean:function(a){return d("Boolean",
a)},isTouchDevice:function(){return"ontouchstart"in a},nullFunction:function(){return null}}})(window,document);(function(){function a(a,c){var d=c.querySelectorAll(a),b=[];b.push.apply(b,d);return b}function c(a,c){for(var d=a.className,d=d?d.split(" "):[],b=0,e=d.length;b<e;b++)if(c&&c===d[b])return!0;return!1}function d(a,d){var b="";if(c(a,d))return!1;a.className&&(b=" ");a.className=a.className+b+d;return!0}function e(a,d){var b,e=[],g,f;if(!c(a,d))return!1;b=a.className.split(" ");g=0;for(f=
b.length;g<f;g++)d!==b[g]&&e.push(b[g]);a.className=e.join(" ");return!0}function f(a,c,d){var b;if(g.isObject(c)){for(b in c)a.setAttribute(b,c[b]);return!0}return d||""===d?a.setAttribute(c,d):a.getAttribute(c)}var g=b.utility,h=g.doc;b.element={$:function(a){return h.querySelector(a)},$$:function(c){return a(c,h)},$child:function(a,c){return c.querySelector(a)},$$child:a,$id:function(a){return h.getElementById(a)},on:function(a,c,d){a.addEventListener(c,d)},off:function(a,c,d){a.removeEventListener(c,
d)},create:function(a,c){var d=h.createElement(a);c&&f(d,c);return d},show:function(a){a.style.display="block"},hide:function(a){a.style.display="none"},opacity:function(a,c){a.style.opacity=c},hasClass:c,addClass:d,removeClass:e,toggleClass:function(a,b){return c(a,b)?e(a,b):d(a,b)},css:function(a,c){var d=a.style,b,e,f;for(b in c)e=b,f=c[b],g.isNumber(f)&&(f+="px"),d[e]=f},computedStyle:function(a){return h.defaultView.getComputedStyle(a,null)},append:function(a,c){a.appendChild(c)},attr:f,removeAttr:function(a,
c){a.removeAttribute(c)},html:function(a,c){if(!c)return a.innerHTML;a.innerHTML=c}}})();b.klass=function(a){var c=b.utility.override,d=a.init||function(){},e=a.properties;(a=a.extend)&&b.extend(d,a);c(d.prototype,e);return d};b.extend=function(a,c){function d(){this.init=a}d.prototype=c.prototype;a.prototype=new d;var b=a.prototype;b._superclass=c;b._super=function(){var a=this._prevctor,a=a?a.prototype._superclass:this._prevctor=c;a.apply(this,arguments)}};b.$=function(a,c){var d=b.$,e=b.utility,
f,g=0,h,c=c||document;e.isString(a)?e=c.querySelectorAll(a):(e=[a],a="");h=e.length;f=function(){};f.prototype=d.methods;d=new f;d.length=h;d._selector=a;for(d._parent=c;g<h;g++)d[g]=e[g];return d};(function(){function a(a,c,b){for(var e=0,i=a.length,b=d(b);e<i;e++)b[0]=a[e],c.apply(a,b);return a}function c(a,c,b){b=d(b);b[0]=a[0];return c.apply(null,b)}function d(a){var c=[null];c.push.apply(c,a);return c}var e=b.element;b.$.methods={_forexe:a,_exe:c,_argary:d,querySelectorAll:function(a){return this[0].querySelectorAll(a)},
find:function(a){return b.$(a,this._parent)},parent:function(){return b.$(this[0].parentNode)},on:function(){return a(this,e.on,arguments)},off:function(){return a(this,e.off,arguments)},show:function(){return a(this,e.show)},hide:function(){return a(this,e.hide)},opacity:function(){return a(this,e.opacity,arguments)},hasClass:function(){return c(this,e.hasClass,arguments)},addClass:function(){return a(this,e.addClass,arguments)},removeClass:function(){return a(this,e.removeClass,arguments)},toggleClass:function(){return a(this,
e.toggleClass,arguments)},css:function(){return a(this,e.css,arguments)},html:function(){return c(this,e.html,arguments)},attr:function(){return c(this,e.attr,arguments)},removeAttr:function(){return a(this,e.removeAttr,arguments)},append:function(){return a(this,e.append,arguments)}}})();(function(){function a(a,d,g,f,j){e.isFunction(g)&&(j=g,g=null);e.isFunction(f)&&!j&&(j=f,f=null);this._animate.push(new b.Tweener(a.style,c(a,d),{duration:g,ease:f,onComplete:j}))}function c(a,c){var b,e=f.computedStyle(a),
g,k={};for(b in c)g=d(c[b]),k[b]={from:1*d(e.getPropertyValue(b))[1]||0,to:1*g[1]||0,suffix:g[2]};return k}function d(a){return(""+(a||"")).match(/^([0-9\.]+)(.*)/)}var e=b.utility,f=b.element,g=b.$.methods;g.animate=function(){this._animate||(this._animate=[]);return g._forexe(this,a,arguments)};g.stop=function(){if(this._animate){for(var a=this._animate,c=0,b=a.length;c<b;c++)a[c].stop();this._animate=null}return this}})();b.ease={inCubic:function(a,c,b,e){return b*Math.pow(a/e,3)+c},outCubic:function(a,
c,b,e){return b*(Math.pow(a/e-1,3)+1)+c},inOutCubic:function(a,c,b,e){return 1>(a/=e/2)?b/2*Math.pow(a,3)+c:b/2*(Math.pow(a-2,3)+2)+c},inQuart:function(a,c,b,e){return b*Math.pow(a/e,4)+c},outQuart:function(a,c,b,e){return-b*(Math.pow(a/e-1,4)-1)+c},inOutQuart:function(a,c,b,e){return 1>(a/=e/2)?b/2*Math.pow(a,4)+c:-b/2*(Math.pow(a-2,4)-2)+c},inQuint:function(a,c,b,e){return b*Math.pow(a/e,5)+c},outQuint:function(a,c,b,e){return b*(Math.pow(a/e-1,5)+1)+c},inOutQuint:function(a,c,b,e){return 1>(a/=
e/2)?b/2*Math.pow(a,5)+c:b/2*(Math.pow(a-2,5)+2)+c},inSine:function(a,c,b,e){return b*(1-Math.cos(a/e*(Math.PI/2)))+c},outSine:function(a,c,b,e){return b*Math.sin(a/e*(Math.PI/2))+c},inOutSine:function(a,c,b,e){return b/2*(1-Math.cos(Math.PI*a/e))+c},inExpo:function(a,c,b,e){return b*Math.pow(2,10*(a/e-1))+c},outExpo:function(a,c,b,e){return b*(-Math.pow(2,-10*a/e)+1)+c},inOutExpo:function(a,c,b,e){return 1>(a/=e/2)?b/2*Math.pow(2,10*(a-1))+c:b/2*(-Math.pow(2,-10*--a)+2)+c},inCirc:function(a,c,b,
e){return b*(1-Math.sqrt(1-(a/=e)*a))+c},outCirc:function(a,c,b,e){return b*Math.sqrt(1-(a=a/e-1)*a)+c},inOutCirc:function(a,c,b,e){return 1>(a/=e/2)?b/2*(1-Math.sqrt(1-a*a))+c:b/2*(Math.sqrt(1-(a-=2)*a)+1)+c},inQuad:function(a,c,b,e){return b*(a/=e)*a+c},outQuad:function(a,c,b,e){return-b*(a/=e)*(a-2)+c},inOutQuad:function(a,c,b,e){return 1>(a/=e/2)?b/2*a*a+c:-b/2*(--a*(a-2)-1)+c}};(function(){var a=b.utility.isTouchDevice();b.Event=b.klass({init:function(a){a=a||{};if(a.single&&b.Event.instance)return b.Event.instance;
a.single&&(b.Event.instance=this)},properties:{switchclick:a?"touchstart":"click",switchdown:a?"touchstart":"mousedown",switchmove:a?"touchmove":"mousemove",switchup:a?"touchend":"mouseup",load:"load",change:"change",hashchange:"hashchange",click:"click",mousedown:"mousedown",mousemove:"mousemove",mouseup:"mouseup",touchstart:"touchstart",touchmove:"touchmove",touchend:"touchend",orientationchange:"orientationchange",resize:"resize"}});b.Event.instance=null;b.event=new b.Event})();b.HashController=
b.klass({properties:{typeCast:function(a){var c=b.utility.typeCast(a);return a===c&&(a=a.match("^[\"'](.*)[\"']$"))?a[1]:c},makeHash:function(a){var c="#"+a.mode,a=a.vars,b="?",e;for(e in a)c+=b+e+"="+JSON.stringify(a[e]),b="&";return encodeURI(c)},setHash:function(a){location.hash=this.makeHash(a);return!0},parseHash:function(a){var c,b,e,f;c=decodeURIComponent(a).split("#")[1];if(!c)return!1;c=c.split("?");a=c[0];if(c[1]){b={};c=c[1].split("&");for(f=c.length;f--;)c[f]&&(e=c[f].split("="),b[e[0]]=
this.typeCast(e[1]))}return{mode:a,vars:b}},getHash:function(){return this.parseHash(location.hash)}}});b.Ajax=b.klass({init:function(){this.xhr=new XMLHttpRequest},properties:{request:function(a){var c=a.url,d=a.callback||b.utility.nullFunction,e=a.error||b.utility.nullFunction,f=a.type||"GET",g="",h;a.cash||(a.query||(a.query={}),a.query["ajaxcash"+Date.now()]="0");a.query&&(g=a.query,b.utility.isObject(g)&&(g=b.utility.makeQueryString(g),g=encodeURI(g)));h=this.xhr=new XMLHttpRequest;h.onreadystatechange=
function(){return h.readyState!=4?false:h.status==200?d(h.responseText,h):e(h)};h.open(f,c);"POST"===f&&h.setRequestHeader("Content-Type","application/x-www-form-urlencoded");h.send(g)},abort:function(){this.xhr.abort()},getJSON:function(a){var c=a.callback,b=a.error;a.callback=function(a){c(JSON.parse(a))};a.error=function(a){b&&b(a)};this.request(a)}}});b.Bind=b.klass({init:function(a){this.handler=a;this.add()},properties:{getHandler:function(){return this.handler},add:function(){return this._exe(!0)},
remove:function(){return this._exe(!1)},_exe:function(a){var c=b.element,a=a?c.on:c.off,d;for(d in this.handler.events)a(this.handler.element,d,this.handler.events[d]);return this.handler}}});(function(){var a=b.element.create;b.CanvasImg=function(c){var b=a("canvas"),e=a("img"),f=c.src,g=c.width,h=c.height,m=c.onload;e.onload=function(){b.width=g;b.height=h;b.getContext("2d").drawImage(e,0,0);m(b,e)};e.src=f;return b}})();b.CanvasRender=b.klass({init:function(a){this.canvas=a.canvas;this.ctx=this.canvas.getContext("2d");
this.canvasWidth=this.canvas.width;this.canvasHeight=this.canvas.height;this.setSize(a)},properties:{setSize:function(a){a.width&&(this.canvas.width=this.canvasWidth=a.width);a.height&&(this.canvas.height=this.canvasHeight=a.height)},draw:function(a){this.ctx.clearRect(0,0,this.canvasWidth,this.canvasHeight);for(var b=0,d=a.length,e;b<d;b++)e=a[b],this.ctx.drawImage(e.image,e.x,e.y)}}});b.DataStore=b.klass({init:function(a){a=a||{};if(a.single&&b.DataStore.instance)return b.DataStore.instance;this.d=
{};a.single&&(b.DataStore.instance=this)},properties:{set:function(a,b){this.d[a]=b;return!0},get:function(a){var b=this.d;if(a)return b[a];var a={},d;for(d in b)a[d]=b[d];return a},remove:function(a){var b=this.d;if(!b[a])return!1;delete b[a];return!0},reset:function(){this.d={};return!0}}});b.DataStore.instance=null;b.Deferred=b.klass({init:function(){this.queue=[];this.data=null},properties:{isResolve:function(){return!this.queue},resolve:function(a){if(this.isResolve())return this;var b=this.queue,
d=b.length,e=0;this.queue=null;for(this.data=a;e<d;++e)b[e](a);return this},done:function(a){this.queue?this.queue.push(a):a(this.data);return this}}});b.DragFlick=b.klass({init:function(a){a&&this.bind(a)},properties:{_getEventTarget:function(a){return a.changedTouches?a.changedTouches[0]:a},amount:function(a){var c=this,d,e,f=!1;b.element.on(a.element,b.event.switchdown,function(a){var b=c._getEventTarget(a);d=b.pageX;e=b.pageY;f=!0;a.preventDefault()});b.element.on(b.utility.win,b.event.switchup,
function(b){f&&(b=c._getEventTarget(b),a.callback({x:b.pageX-d,y:b.pageY-e}),f=!1)})},direction:function(a){this.amount({element:a.element,callback:function(b){var d=a.boundary||0,e={change:!1,top:!1,right:!1,bottom:!1,left:!1,amount:b};Math.abs(b.x)>d&&(0<b.x?e.right=!0:0>b.x&&(e.left=!0),e.change=!0);Math.abs(b.y)>d&&(0<b.y?e.bottom=!0:0>b.y&&(e.top=!0),e.change=!0);a.callback(e)}})},bind:function(a){function c(a,b,c){g.on(a,b,function(a){a=d._getEventTarget(a);c(a)})}var d=this,e=a.element,f=b.event,
g=b.element,h=b.utility,m=a.start||h.nullFunction,i=a.move||h.nullFunction,n=a.end||h.nullFunction,j=!1,k=0,l=0;a.direction&&d.direction({element:e,boundary:a.boundary,callback:a.direction});c(e,f.switchdown,function(a){j=!0;k=a.pageX;l=a.pageY;m({e:a,move:{x:k,y:l}})});c(h.doc,f.switchmove,function(a){j&&i({e:a,move:{x:a.pageX-k,y:a.pageY-l}})});c(h.doc,f.switchup,function(a){j&&(n({e:a,move:{x:a.pageX-k,y:a.pageY-l}}),j=!1)})}}});b.ExternalInterface=function(a){var a=a||{},c;if(a.single&&b.ExternalInterface.instance)return b.ExternalInterface.instance;
c=a.android?new b.ExternalInterface.Android(a):new b.ExternalInterface.IOS(a);a.single&&(b.ExternalInterface.instance=c);return c};b.ExternalInterface.instance=null;b.ExternalInterface.Android=b.klass({init:function(a){a=a||{};this.android=a.android;this.externalObj=a.externalObj;this.externalObj||(b.EXTERNAL_ANDROID={},this.externalObj=b.EXTERNAL_ANDROID)},extend:b.HashController,properties:{call:function(a){this.android[a.mode](this.makeHash(a))},addCallback:function(a,b){var d=this;d.externalObj[a]=
function(a){a=d.parseHash(a);return b(a.vars)}},removeCallback:function(a){delete this.externalObj[a]}}});b.ExternalInterface.IOS=b.klass({init:function(){this.ios={}},extend:b.HashController,properties:{call:function(a){this.setHash(a)},addCallback:function(a,c){var d=this;d.ios[a]=function(){var b=d.getHash();return b.mode===a?(c(b.vars),!0):!1};b.element.on(b.utility.win,b.event.hashchange,this.ios[a])},removeCallback:function(a){b.element.off(b.utility.win,b.event.hashchange,this.ios[a]);delete this.ios[a]}}});
b.Facebook=b.klass({properties:{_b:"https://www.facebook.com/dialog/feed?",getShareURL:function(a){var c=this._b+"app_id="+a.app_id+"&redirect_uri="+a.redirect_uri;return c+=b.utility.makeQueryString({link:a.link,picture:a.picture,name:a.name,caption:a.caption,description:a.description})}}});(function(){function a(b){b.nexttime<=Date.now()&&(c(b),b.nexttime=b.nowtime+b.msecFrame);1===b.loopid&&f(function(){a(b)})}function c(a){a.nowtime=Date.now();a.surver=Math.round(1E3/(a.nowtime-a.prevtime));a.prevtime=
a.nowtime;a.enter()}var d,e=b.utility.win,f=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||!1;b.FPS=b.klass({init:function(a){a=a||{};a.criterion||(a.criterion=20);if(a.single&&d)return d;this.surver=this.criterion=a.criterion;this.enterframe=a.enterframe;this.msecFrame=Math.round(1E3/this.criterion);this.prevtime=this.nowtime=this.nexttime=this.loopid=0;a.manual||this.start();a.single&&(d=this)},properties:{getCriterion:function(){return this.criterion},
getSurver:function(){return this.surver},getFrameTime:function(){return this.msecFrame},enter:function(){this.enterframe({criterion:this.criterion,surver:this.surver})},start:function(){this.prevtime=Date.now();this.nexttime=this.prevtime+this.msecFrame;f?(this.loopid=1,a(this)):this.loopid=setInterval(c,this.msecFrame,this)},stop:function(){clearInterval(this.loopid);this.loopid=0}}})})();b.ImgLoad=b.klass({init:function(a){this.srcs=a.srcs;this.srccount=this.srcs.length;this.loadedsrcs=[];this.onload=
a.onload||b.utility.nullFunction;this.onprogress=a.onprogress||b.utility.nullFunction;this.progress=this.loadcount=0;this.started=!1;a.manual||this.start()},properties:{_c:function(){this.loadcount++;this.progress=this.loadcount/this.srccount;this.onprogress(this.progress);if(this.loadcount>=this.srccount)this.onload(this.loadedsrcs)},start:function(){if(this.started)return!1;this.started=!0;var a=this,c,d,e;d=0;for(e=a.srccount;d<e;d++)c=b.element.create("img"),c.src=a.srcs[d],b.element.on(c,b.event.load,
function(){a._c()}),a.loadedsrcs.push(c)},getProgress:function(){return this.progress}}});b.WindowLoad=b.klass({init:function(a){if(a&&a.onload)this.onload(a.onload)},properties:{onload:function(a){b.element.on(b.utility.win,b.event.load,a)}}});b.LocalStorage=b.klass({init:function(a){a=a||{};if(a.single&&b.LocalStorage.instance)return b.LocalStorage.instance;this._n=a.namespace?a.namespace+"-":"";a.single&&(b.LocalStorage.instance=this)},properties:{_s:b.utility.win.localStorage,set:function(a,b){this._s.setItem(this._n+
a,JSON.stringify(b));return!0},get:function(a){if(a)return JSON.parse(this._s.getItem(this._n+a));var b={},d;for(d in this._s)this._n?(a=d.split(this._n)[1])&&(b[a]=JSON.parse(this._s[d])):b[d]=JSON.parse(this._s[d]);return b},remove:function(a){a=this._n+a;if(!this._s.getItem(a))return!1;this._s.removeItem(a);return!0},reset:function(){if(!this._n)return this._s.clear(),!0;for(var a in this._s)this.remove(a)}}});b.LocalStorage.instance=null;(function(){function a(a){a.preventDefault();return!1}function c(a,
b){a=a?a:f;return a.match(b)?!0:!1}function d(){0===win.pageYOffset&&b.utility.pageTop()}function e(){setTimeout(d,100)}var f=navigator.userAgent;b.Mobile=b.klass({properties:{isAndroid:function(a){return c(a,/Android/i)},isIOS:function(a){return c(a,/iPhone|iPad|iPod/i)},isWindows:function(a){return c(a,/IEMobile/i)},isFBAPP:function(a){return c(a,/FBAN/)},isMobile:function(){return this.isAndroid()||this.isIOS()||this.isWindows()||this.isFBAPP()},killScroll:function(c){c||b.utility.pageTop();b.element.on(b.utility.doc,
b.event.touchmove,a)},revivalScroll:function(c){c||b.utility.pageTop();b.element.off(b.utility.doc,b.event.touchmove,a)},hideAddress:function(){b.element.on(b.utility.win,b.event.load,e,!1);b.element.on(b.utility.win,b.event.orientationchange,e,!1)},getOrientation:function(){return 90!==Math.abs(b.utility.win.orientation)&&b.utility.win.innerWidth<b.utility.win.innerHeight?{portrait:!0,landscape:!1}:{portrait:!1,landscape:!0}},bindOrientation:function(a){function c(a,d){a(b.utility.win,b.event.load,
d);a(b.utility.win,b.event.orientationchange,d);a(b.utility.win,b.event.resize,d)}function d(){e();c(b.element.off,d)}function e(){if(f.getOrientation().portrait)return a.portrait(),!0;a.landscape()}var f=this;a.immediately&&e();if(a.one)return c(b.element.on,d),function(){c(b.element.off,d)};c(b.element.on,e);return function(){c(b.element.off,e)}}}})})();b.FontImg=b.klass({init:function(a){a=a||{type:""};this.type=a.type?a.type+"_":""},properties:{make:function(a){var a=(""+a).split(""),b="",d;for(d=
a.length;d--;)b='<span class="font_'+(this.type+a[d])+'">&nbsp;</span>'+b;return b}}});b.Observer=b.klass({init:function(a){a=a||{single:!1};if(a.single&&b.Observer.instance)return b.Observer.instance;this.observed={};a.single&&(b.Observer.instance=this)},properties:{getObserved:function(){return this.observed},on:function(a,b){var d=this.observed;d[a]||(d[a]=[]);d[a].push(b)},one:function(a,b){var d=this,e=function(f){b(f);d.off(a,e)};d.on(a,e)},off:function(a,b){var d=this.observed;if(!b)return delete d[a],
!0;var e=d[a],f;if(!e)return!1;for(f=e.length;f--;)if(b===e[f])return e.splice(f,1),0===e.length&&delete d[a],!0;return!1},fire:function(a,b){var d=this.observed[a],e,f;if(!d)return!1;for(f=d.length;f--;)(e=d[f])&&e(b);return!0}}});b.Observer.instance=null;b.PreRender=b.klass({init:function(a){a=a||{};a.loopblur||(a.loopblur=20);this.elements=a.elements||[];this.guesslimit=a.guesslimit||30;this.onrendered=a.onrendered||b.utility.nullFunction;this.looptime=a.looptime||100;this.loopblur=this.looptime+
a.loopblur;this.loopid=this.prevtime=null;a.manual||this.start()},properties:{start:function(){var a;for(a=this.elements.length;a--;)b.element.show(this.elements[a]);this.prevtime=Date.now();this.loopid=setInterval(function(a){var d=Date.now(),e=d-a.prevtime;a.prevtime=d;if(e<a.loopblur&&(a.guesslimit--,1>a.guesslimit)){clearInterval(a.loopid);for(d=a.elements.length;d--;)b.element.hide(a.elements[d]);a.onrendered()}},this.looptime,this)}}});b.Route=b.klass({init:function(a){if(a.single&&b.Route.instance)return b.Route.instance;
this.target=a.target||"";this.noregex=a.noregex;this.action=a.action;a.manual||this.start();a.single&&(b.Route.instance=this)},properties:{start:function(){this.fire(this.target)},fire:function(a){var b;if(this.noregex&&this.action[a])return this.action[a]();for(b in this.action)if(a.match(b))this.action[b]()}}});b.ScriptLoad=b.klass({properties:{requests:function(a){for(var b=0,d=a.length;b<d;b++)this.request(a[b])},request:function(a){var c=b.element.create("script");c.type="text/javascript";c.src=
a.src;b.element.append(b.utility.doc.body,c);if(a.callback)b.element.on(c,b.event.load,a.callback)}}});(function(){function a(a){return e?d.getResponseHeader(a):!1}function c(a){var b=new XMLHttpRequest;b.onload=function(){a(b)};b.open("HEAD",location.href+"?update"+Date.now()+"=1");b.send(null);return b}var d,e=!1;b.ServerMeta=b.klass({init:function(a){var a=a||{},g=a.callback||b.utility.nullFunction;d?g(d):d=c(function(){e=!0;g(d)})},properties:{date:function(a){return c(function(b){b=new Date(b.getResponseHeader("Date"));
a(b)})},connection:function(){return a("Connection")},contentLength:function(){return a("Content-Length")},lastModified:function(){return a("Last-Modified")},server:function(){return a("Server")},contentType:function(){return a("Content-Type")},acceptRanges:function(){return a("Accept-Ranges")},keepAlive:function(){return a("Keep-Alive")}}})})();b.SessionStorage=b.klass({init:function(a){a=a||{};if(a.single&&b.SessionStorage.instance)return b.SessionStorage.instance;this._n=a.namespace?a.namespace+
"-":"";a.single&&(b.SessionStorage.instance=this)},properties:{_s:b.utility.win.sessionStorage,set:function(a,b){this._s.setItem(this._n+a,JSON.stringify(b));return!0},get:function(a){if(a)return JSON.parse(this._s.getItem(this._n+a));var b={},d;for(d in this._s)this._n?(a=d.split(this._n)[1])&&(b[a]=JSON.parse(this._s[d])):b[d]=JSON.parse(this._s[d]);return b},remove:function(a){a=this._n+a;if(!this._s.getItem(a))return!1;this._s.removeItem(a);return!0},reset:function(){if(!this._n)return this._s.clear(),
!0;for(var a in this._s)this.remove(a)}}});b.SessionStorage.instance=null;b.Surrogate=b.klass({init:function(a){this.delay=a.delay;this.callback=a.callback;this.waitid=this.args=null},properties:{request:function(a){this.args=a;this.clear();this.waitid=setTimeout(this.flush,this.delay,this)},flush:function(a){a=a||this;a.callback(a.args)},clear:function(){clearInterval(this.waitid)}}});b.Throttle=b.klass({init:function(a){this.waittime=a.waittime;this.callback=a.callback;this.locked=!1;this.waitarg=
this.waitid=null},properties:{request:function(a){var b=this;if(b.locked)return b.waitarg=a,!1;b.callback(a);b.lock();b.waitid=setTimeout(function(){b.waitarg&&(b.callback(b.waitarg),b.waitarg=null);b.unlock()},b.waittime,b)},lock:function(){this.locked=!0},unlock:function(a){a=a||this;a.locked=!1;clearInterval(a.waitid)}}});b.Timer=function(a){function b(){l=Date.now();var a=g-(l-k)/1E3;0>a&&(a=0);p=d(a);i(p);if(l>o)return r.stop(),n(),!0;q=setTimeout(b,m);return!1}function d(a){var b;b=(""+a).split(".");
a=b[0];b=b[1]?b[1]:"";a=e({num:a,digit:j.integer});b=e({num:b,digit:j.few,isFew:!0});return a+"."+b}function e(a){var b=""+a.num,c=a.digit,d=c-b.length;return!a.isFew?-1<d?f(d,0)+b:f(c,9):0<d?b+f(d,0):b.slice(0,c)}function f(a,b){for(var c="",b=""+b;0<a;)c+=b,a--;return c}var g=a.limit,h=1E3*g,m=1E3*a.interval,i=a.onupdate,n=a.ontimeup,j=function(a){a=a.split(".");return{integer:a[0].length,few:a[1].length}}(a.template),k=0,l=0,o=h,p=d(g),q,r={getLimit:function(){return g},getTime:function(){return p},
getProgress:function(){return 1-(o-l)/h},setUpdate:function(a){i=a},setTimeup:function(a){n=a},countDown:function(){l=k=Date.now();o=k+h;b()},stop:function(){clearInterval(q)}};return r};b.Tweener=b.klass({init:function(a,c,d){var e,d=d||{};this.target=a;this.property=[];for(e in c)a=c[e],a.name=e,a.distance=a.to-a.from,a.prefix=a.prefix||"",a.suffix=a.suffix||"px",this.property.push(a);this.duration=d.duration||b.Tweener.Duration;this.ease=d.ease||this._ease;this.onComplete=d.onComplete;this.begin=
Date.now();b.Tweener.Items.push(this);b.Tweener.timerId||this.start()},properties:{_ease:function(a,b,d,e){return d*a/e+b},_requestAnimationFrame:function(){var a=b.utility.win;return a.requestAnimationFrame?function(a){requestAnimationFrame(a)}:a.webkitRequestAnimationFrame?function(a){webkitRequestAnimationFrame(a)}:a.mozRequestAnimationFrame?function(a){mozRequestAnimationFrame(a)}:a.oRequestAnimationFrame?function(a){oRequestAnimationFrame(a)}:a.msRequestAnimationFrame?function(a){msRequestAnimationFrame(a)}:
function(a){setTimeout(a,1E3/b.Tweener.FPS)}}(),loop:function(){for(var a=this,c=b.Tweener.Items,d,e=Date.now(),f,g=c.length,h,m,i;g--;)if(d=c[g],m=d.property.length,f=e-d.begin,f<d.duration)for(h=0;h<m;h++)i=d.property[h],b.Tweener._setProp(d.target,i,d.ease(f,i.from,i.distance,d.duration));else{for(h=0;h<m;h++)i=d.property[h],b.Tweener._setProp(d.target,i,i.to);if(d.onComplete)d.onComplete();c.splice(g,1)}if(c.length)return a._requestAnimationFrame(function(){a.loop()}),!0;this.stop()},start:function(){var a=
this;b.Tweener.timerId=1;a._requestAnimationFrame(function(){a.loop()})},stop:function(){b.Tweener.Items=[];clearInterval(b.Tweener.timerId);b.Tweener.timerId=null}}});b.Tweener._setProp=function(a,b,d){a[b.name]=b.prefix+d+b.suffix};b.Tweener.timerId=null;b.Tweener.Items=[];b.Tweener.FPS=30;b.Tweener.Duration=500;b.Twitter=b.klass({properties:{_b:"https://twitter.com/intent/tweet?",getShareURL:function(a){var c=a.redirect_uri,d=a.caption||"",e=a.name||"",a=a.hash||"",f=this._b;return f+=b.utility.makeQueryString({url:c,
text:d+(e?" \u300c"+e+"\u300d":"")+(a?" "+a:"")})}}});b.XML=b.klass({init:function(a){this.element=b.element.create("div");this.data={};a&&a.data&&this.setData(a.data)},properties:{getData:function(){return this.data},setData:function(a){this.data=this.element.innerHTML=a},$:function(a){return b.element.$child(a,this.element)},$$:function(a){return b.element.$$child(a,this.element)}}})})();
