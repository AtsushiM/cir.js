/*! cir.js v0.8.10 | (c) 2013 Atsushi Mizoue. */(function(){
function h(a){return function(){return this[a]}}function j(a){return"cubic-bezier("+a+")"}function aa(a,b){for(var c=k("p"),d=l,e,f=m,g=a.length,p,s=RegExp("^(.*?)"+a[0]+"$","i");g--;)if(c.style[a[g]]!==n){d=q;(e=a[g].match(s)[1])?(f=e.toLowerCase(),b=f+b,f="-"+f+"-"):b=b.toLowerCase();c=r(ba("head"),k("style",{type:"text/css"}));p=c.sheet;break}return{ya:b,Ba:d,prefix:e,wa:f,sheet:p}}function t(a){return u.JSON.parse(a)}function ca(a){return u.JSON.stringify(a)}
function da(a){a=a||m;a=m+a;return a.match(/^(.*?)([0-9\.]+)(.*)$/)}function v(){return Date.now()}function w(a){u.scrollTo(0,a)}function ea(){w(1)}function x(a,b,c){for(c in b)a[c]=b[c];return a}function fa(a,b){b=m+a;return b.match("^{.*}$")?t(b):b.match("^[0-9.]+$")?1*b:"true"===b?q:"false"===b?l:a}function ha(a,b,c){return a.split(b).join(c)}function ia(a,b,c,d){b=c=m;for(d in a)a[d]&&(c+=b+d+"="+encodeURIComponent(a[d]),b="&");return c}
function y(a,b){return Object.prototype.toString.call(b)=="[object "+a+"]"?q:l}function ja(a){return y("Object",a)}function z(a){return y("Number",a)}function ka(a){return y("String",a)}function A(a){return y("Function",a)}function la(a){return y("Boolean",a)}function ma(a){return y("Array",a)}function na(a){return!y("Undefind",a)}function oa(){return"ontouchstart"in u}function B(){}function pa(a){a.preventDefault();return l}function D(a,b){b=b||navigator.userAgent;return!!b.match(a)}
function E(a,b){return function(){return b.apply(a,arguments)}}function qa(a,b,c,d){b=b||a;c=c||b;for(d in b)A(b[d])&&(c[d]=E(a,b[d]));x(a,c);return c}function ba(a){return F.querySelector(a)}function ra(a,b,c,d){c=b.querySelectorAll(a);d=[];d.push.apply(d,c);return d}function G(a,b,c,d,e){d=(c=a.className)?c.split(" "):[];for(e=d.length;e--;)if(b==d[e])return q;return l}function H(a,b,c,d){G(a,b)||(c=m,(d=a.className)&&(c=" "),a.className=d+c+b)}
function I(a,b,c,d,e){if(G(a,b)){d=[];c=a.className.split(" ");for(e=c.length;e--;)b!=c[e]&&d.push(c[e]);a.className=d.join(" ")}}function sa(a,b){if(G(a,b))return I(a,b);H(a,b)}function ta(a,b,c,d){if(ja(b)){for(d in b)a.setAttribute(d,b[d]);return q}return c||c==m?a.setAttribute(b,c):a.getAttribute(b)}function ua(a,b){a.removeAttribute(b)}function k(a,b,c){c=F.createElement(a);b&&ta(c,b);return c}function J(a,b,c){a.addEventListener(b,c,l)}function L(a,b,c){a.removeEventListener(b,c,l)}
function M(a){a.style.display="block"}function va(a){a.style.display="none"}function N(a,b,c,d,e,f){c=a.style;for(d in b)e=d,f=b[d],z(f)&&(f+="px"),c[e]=f}function wa(a){return F.defaultView.getComputedStyle(a,O)}function xa(a){return a.parentNode}function r(a,b){return a.appendChild(b)}function ya(a,b){return xa(a).insertBefore(b,a)}function za(a,b){return xa(a).insertBefore(b,a.nextSibling)}function Aa(a){return xa(a).removeChild(a)}function Ba(a,b){if(!b)return a.innerHTML;a.innerHTML=b}
function Ca(a,b,c,d){for(c=[];!d;)a[b]&&c[c.length-1]!=a[b]&&c.push(a[b]),a.Q&&a.Q.prototype?a=a.Q.prototype:d=q;return c}function Da(a,b,c){return C.klass({extend:a,init:b,prop:c})}function P(a,b){return Da(C.Base,a,b)}function Q(a,b,c){var d=a.length;for(c=Ea(c);d--;)c[0]=a[d],b.apply(a,c);return a}function Fa(a,b,c){c=Ea(c);c[0]=a[0];return b.apply(O,c)}function Ea(a){var b=[O];b.push.apply(b,a);return b}
function Ga(a){var b=k(a.type);b.controls=a.controls?q:l;b.preload=a.preload||"auto";b.autoplay=a.autoplay?q:l;b.loop=a.loop?q:l;b.src=a.dir+a.name+"."+a.suffix[0][0];return b}function Ha(a,b){if(!u["HTML"+a+"Element"])return l;a=a.toLowerCase();for(var c=k(a),d=[],e=0,f=b.length;e<f;e++)c.canPlayType(a+"/"+b[e][1])&&d.push(b[e]);return d.length?d:l}var u=window,F=document,q=!0,l=!1,O=null,m="",R={},n=void 0,S=oa(),T,Ia=j("0.19,1,0.22,1"),U=1.70158,Ja,Na,Pa,Qa,V,Ra,Sa,Ta;C={};
Date.now||(Date.now=function(){return 1*new Date});
C.util={win:u,doc:F,pageTop:ea,override:x,replaceAll:ha,template:function(a,b,c){for(c in b)a=ha(a,"<%= "+c+" %>",b[c]);return a},windowOpen:function(a,b,c,d,e){e=[];for(d in c)la(c[d])&&(c[d]===q?c[d]="yes":c[d]===l&&(c[d]="no")),e.push(d+"="+c[d]);return u.open(a,b,e.join(","))},typeCast:fa,makeQueryString:ia,parseQueryString:function(a,b,c,d,e){a=a.replace(/^[\#\?]/,m);b=a.split("&");c=b.length;for(e={};c--;)d=b[c].split("="),e[d[0]]=fa(decodeURIComponent(d[1]));return e},is:y,isObject:ja,isNumber:z,
isString:ka,isFunction:A,isBoolean:la,isArray:ma,isDefined:na,isTouchable:oa,nullFunction:B,eventPrevent:pa,eventStop:function(a){a.stopPropagation();return l},checkUserAgent:D,proxy:E,owner:qa};
C.dom={$:ba,$$:function(a){return ra(a,F)},$child:function(a,b){return b.querySelector(a)},$$child:ra,$id:function(a){return F.getElementById(a)},on:J,off:L,create:k,show:M,hide:va,hasClass:G,addClass:H,removeClass:I,toggleClass:sa,css:N,computedStyle:wa,append:r,parent:xa,before:ya,after:za,remove:Aa,attr:ta,removeAttr:ua,html:Ba};
C.klass=function(a){function b(){for(var a=Ca(this,"_init"),b=a.length;b--;)a[b].apply(this,arguments)}var c=a.init||function(){},d=a.prop;(a=a.extend)&&C.extend(b,a);b.prototype._init=c;x(b.prototype,d);return b};C.klass.ancestors=Ca;C.extend=function(a,b){function c(){}c.prototype=b.prototype;a.prototype=new c;a.prototype.Q=b};
C.Base=Da(n,function(){this.u={}},{J:0,dispose:function(){for(var a=Ca(this,"disposeInternal"),b=0,c=a.length;b<c;b++)a[b].call(this);for(b in this.u)L.apply(O,this.u[b]);for(b in this)this[b]&&A(this[b].dispose)&&this[b].dispose();this.__proto__=O;for(b in this)this[b]=O,delete this[b];return O},contract:function(a,b,c){J(a,b,c);this.J++;this.u[this.J]=[a,b,c];return this.J},uncontract:function(a){if(a){var b=this.u[a];delete this.u[a];L(b[0],b[1],b[2])}}});
T=P(n,{SWITCHCLICK:S?"touchstart":"click",SWITCHDOWN:S?"touchstart":"mousedown",SWITCHMOVE:S?"touchmove":"mousemove",SWITCHUP:S?"touchend":"mouseup",SWITCHOVER:S?"touchstart":"mouseover",SWITCHOUT:S?"touchend":"mouseout",LOAD:"load",CHANGE:"change",CLICK:"click",MOUSEDOWN:"mousedown",MOUSEMOVE:"mousemove",MOUSEUP:"mouseup",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",TOUCHSTART:"touchstart",TOUCHMOVE:"touchmove",TOUCHEND:"touchend",RESIZE:"resize"});C.Event=T;T=C.e=new T;
C.ease={linear:function(a,b,c,d){return c*a/d+b},inCubic:function(a,b,c,d){return c*Math.pow(a/d,3)+b},outCubic:function(a,b,c,d){return c*(Math.pow(a/d-1,3)+1)+b},inOutCubic:function(a,b,c,d){return 1>(a/=d/2)?c/2*Math.pow(a,3)+b:c/2*(Math.pow(a-2,3)+2)+b},inQuart:function(a,b,c,d){return c*Math.pow(a/d,4)+b},outQuart:function(a,b,c,d){return-c*(Math.pow(a/d-1,4)-1)+b},inOutQuart:function(a,b,c,d){return 1>(a/=d/2)?c/2*Math.pow(a,4)+b:-c/2*(Math.pow(a-2,4)-2)+b},inQuint:function(a,b,c,d){return c*
Math.pow(a/d,5)+b},outQuint:function(a,b,c,d){return c*(Math.pow(a/d-1,5)+1)+b},inOutQuint:function(a,b,c,d){return 1>(a/=d/2)?c/2*Math.pow(a,5)+b:c/2*(Math.pow(a-2,5)+2)+b},inSine:function(a,b,c,d){return c*(1-Math.cos(a/d*(Math.PI/2)))+b},outSine:function(a,b,c,d){return c*Math.sin(a/d*(Math.PI/2))+b},inOutSine:function(a,b,c,d){return c/2*(1-Math.cos(Math.PI*a/d))+b},inExpo:function(a,b,c,d){return c*Math.pow(2,10*(a/d-1))+b},outExpo:function(a,b,c,d){return c*(-Math.pow(2,-10*a/d)+1)+b},inOutExpo:function(a,
b,c,d){return 1>(a/=d/2)?c/2*Math.pow(2,10*(a-1))+b:c/2*(-Math.pow(2,-10*--a)+2)+b},inCirc:function(a,b,c,d){return c*(1-Math.sqrt(1-(a/=d)*a))+b},outCirc:function(a,b,c,d){return c*Math.sqrt(1-(a=a/d-1)*a)+b},inOutCirc:function(a,b,c,d){return 1>(a/=d/2)?c/2*(1-Math.sqrt(1-a*a))+b:c/2*(Math.sqrt(1-(a-=2)*a)+1)+b},inQuad:function(a,b,c,d){return c*(a/=d)*a+b},outQuad:function(a,b,c,d){return-c*(a/=d)*(a-2)+b},inOutQuad:function(a,b,c,d){return 1>(a/=d/2)?c/2*a*a+b:-c/2*(--a*(a-2)-1)+b},inBack:function(a,
b,c,d){return c*(a/=d)*a*((U+1)*a-U)+b},outBack:function(a,b,c,d){return c*((a=a/d-1)*a*((U+1)*a+U)+1)+b},inOutBack:function(a,b,c,d){return 1>(a/=d/2)?c/2*a*a*(((U*=1.525)+1)*a-U)+b:c/2*((a-=2)*a*(((U*=1.525)+1)*a+U)+2)+b}};
C.cssease={linear:"linear",inCubic:j("0.55,0.055,0.675,0.19"),outCubic:j("0.215,0.61,0.355,1"),inOutCubic:j("0.645,0.045,0.355,1"),inQuart:j("0.895,0.03,0.685,0.22"),outQuart:j("0.165,0.84,0.44,1"),inOutQuart:j("0.77,0,0.175,1"),inQuint:j("0.755,0.05,0.855,0.06"),outQuint:j("0.23,1,0.32,1"),inOutQuint:j("0.86,0,0.07,1"),inSine:j("0.47,0,0.745,0.715"),outSine:j("0.39,0.575,0.565,1"),inOutSine:j("0.445,0.05,0.55,0.95"),inExpo:j("0.95,0.05,0.795,0.035"),outExpo:j("0.19,1,0.22,1"),inOutExpo:j("1,0,0,1"),
inCirc:j("0.6,0.04,0.98,0.335"),outCirc:j("0.075,0.82,0.165,1"),inOutCirc:j("0.785,0.135,0.15,0.86"),inQuad:j("0.55,0.085,0.68,0.53"),outQuad:j("0.25,0.46,0.45,0.94"),inOutQuad:j("0.455,0.03,0.515,0.955"),inBack:[j("0.6,0,0.735,0.045"),j("0.6,-0.28,0.735,0.045")],outBack:[j("0.175,0.885,0.32,1"),j("0.175,0.885,0.32,1.275")],inOutBack:[j("0.68,0,0.265,1"),j("0.68,-0.55,0.265,1.55")]};
var Ua=aa(["animation","webkitAnimation"],"Animation"),Va=Ua.Ba,Wa=Ua.prefix,Xa=Ua.wa,Ya=Ua.ya,W=Ua.sheet,X=C.Animation=P(function(a,b,c){c=c||R;this.p=c.onComplete||B;this.b=a;X.id++;this.d="ciranim"+X.id;a=c.duration||X.duration;var d=c.ease||Ia,e,f={};for(e in b)f[e]=b[e],z(f[e])&&(f[e]+="px");this.Va=f;f=ha(ha(ca(f),'"',m),",",";");W.insertRule("@"+Xa+"keyframes "+this.d+"{to"+f+"}",W.cssRules.length);ma(d)||(d=[d]);b=this.d;e=0;for(var f=d.length,g=m;e<f;e++)g+=Xa+"animation:"+b+" "+a+"ms "+
d[e]+" 0s 1 normal both;";W.insertRule("."+b+"{"+g+"}",W.cssRules.length);c.manual||this.start()},{ia:function(){L(this.b,Ya+"End",this.Z);L(this.b,"animationend",this.Z)},disposeInternal:function(){this.stop()},start:function(){function a(a){var d=W.cssRules,e=d.length,f;b.ia();if("webkit"==Wa){for(;e--;)f=d[e].name||(m+d[e].selectorText).split(".")[1],f==b.d&&W.deleteRule(e);I(b.b,b.d);N(b.b,b.Va)}b.p(a)}var b=this;b.Z=a;J(b.b,Ya+"End",a);J(b.b,"animationend",a);H(b.b,b.d)},stop:function(){var a=
{};a[Xa+"animation-play-state"]="paused";N(this.b,a);this.ia()}});X.id=0;X.duration=500;X.support=Va;var Za=aa(["transitionProperty","webkitTransitionProperty"],"Transition"),$a=Za.Ba,ab=Za.wa,bb=Za.ya,cb=Za.sheet,Y;
Y=C.Transition=P(function(a,b,c){c=c||R;Y.id++;this.d="cirtrans"+Y.id;var d=[];x({},b);var e,f=c.duration||Y.duration,g=c.ease||Ia;ma(g)||(g=[g]);for(e in b)d.push(e);e=0;for(var p=g.length,s=m,s=s+(ab+"transition-property:"+d.join(" ")+";"+ab+"transition-duration:"+f+"ms;");e<p;e++)s+=ab+"transition-timing-function:"+g[e]+";";cb.insertRule("."+this.d+"{"+s+"}",cb.cssRules.length);this.b=a;this.q=b;this.p=c.onComplete||B;c.manual||this.start()},{disposeInternal:function(){this.stop()},start:function(){var a=
this;a.C=function(b){a.stop();setTimeout(function(){a.p(b)},1)};J(a.b,bb+"End",a.C);J(a.b,"transitionend",a.C);H(a.b,a.d);N(a.b,a.q)},stop:function(){var a=cb.cssRules,b=a.length,c;L(this.b,bb+"End",this.C);L(this.b,"transitionend",this.C);for(I(this.b,this.d);b--;)if(c=a[b].name||(m+a[b].selectorText).split(".")[1],c==this.d){cb.deleteRule(b);break}}});Y.id=0;Y.support=$a;Y.duration=500;
V=C.Tweener=P(function(a,b,c,d,e){c=c||R;this.ta=a;this.q=[];for(d in b)e=b[d],e.name=d,e.Ra=e.to-e.from,e.prefix=e.prefix||m,e.suffix=e.suffix||"px",this.q.push(e);this.Y=c.duration||V.duration;this.Ia=c.ease||this.Ca;this.p=c.onComplete;c.manual||this.start()},{disposeInternal:function(){this.stop()},Ca:function(a,b,c,d){return c*(-Math.pow(2,-10*a/d)+1)+b},la:u.requestAnimationFrame?function(a){requestAnimationFrame(a)}:u.webkitRequestAnimationFrame?function(a){webkitRequestAnimationFrame(a)}:
u.mozRequestAnimationFrame?function(a){mozRequestAnimationFrame(a)}:u.oRequestAnimationFrame?function(a){oRequestAnimationFrame(a)}:u.msRequestAnimationFrame?function(a){msRequestAnimationFrame(a)}:function(a){setTimeout(a,1E3/V.Za)},F:function(){for(var a=this,b=V.H,c,d=v(),e,f=b.length,g,p;f--;)if(c=b[f],g=c.q.length,e=d-c.Pa,e<c.Y)for(;g--;)p=c.q[g],V.na(c.ta,p,c.Ia(e,p.from,p.Ra,c.Y));else{for(;g--;)p=c.q[g],V.na(c.ta,p,p.to);c.p&&c.p();b.splice(f,1)}b.length?a.la(function(){a.F()}):this.stop()},
start:function(){var a=this;a.Pa=v();V.H.push(a);V.U||(V.U=1,a.la(function(){a.F()}))},stop:function(){V.H=[];clearInterval(V.U);V.U=O}});V.na=function(a,b,c){a[b.name]=b.prefix+c+b.suffix};V.H=[];V.fps=30;V.duration=500;C.$=function(a,b,c,d,e){function f(){}f.prototype=C.$.za;ka(a)?(b=b||F,c=b.querySelectorAll(a)):(c=[a],a=m);e=c.length;d=new f;for(d.length=e;e--;)d[e]=c[e];return d};
C.$.za={querySelectorAll:function(a){return this[0].querySelectorAll(a)},find:function(a){return C.$(a,this.Ya)},parent:function(){return C.$(xa(this[0]))},on:function(){return Q(this,J,arguments)},off:function(){return Q(this,L,arguments)},show:function(){return Q(this,M)},hide:function(){return Q(this,va)},hasClass:function(){return Fa(this,G,arguments)},addClass:function(){return Q(this,H,arguments)},removeClass:function(){return Q(this,I,arguments)},toggleClass:function(){return Q(this,sa,arguments)},
css:function(){return Q(this,N,arguments)},html:function(){return Fa(this,Ba,arguments)},attr:function(){return Fa(this,ta,arguments)},removeAttr:function(){return Q(this,ua,arguments)},append:function(){return Q(this,r,arguments)},before:function(){return Fa(this,ya,arguments)},after:function(){return Fa(this,za,arguments)},remove:function(){return Q(this,Aa,arguments)}};
function db(a,b,c,d,e){A(c)&&(e=c,c=O);A(d)&&!e&&(e=d,d=O);d&&(d=eb[d]);c={duration:c,ease:d,onComplete:e};if(fb)b=new gb(a,b,c);else{d=C.Tweener;e=a.style;var f;a=wa(a);var g,p,s={};for(f in b)g=da(b[f]),p=a.getPropertyValue(f),p=!p||"none"==p?0:1*da(p)[2],s[f]={from:p,to:1*g[2]||0,prefix:g[1],suffix:g[3]};b=new d(e,s,c)}this.m.push(b)}var hb=C.$.za,gb=C.Animation||{},fb=gb.support,eb={};fb&&C.cssease?eb=C.cssease:C.ease&&(eb=C.ease);hb.animate=function(){this.m||(this.m=[]);return Q(this,db,arguments)};
hb.stop=function(){if(this.m){for(var a=this.m.length;a--;)this.m[a].stop();this.m=O}return this};
C.HashQuery=P(n,{typeCast:function(a){var b=fa(a);return a==b&&(a=a.match("^[\"'](.*)[\"']$"))?a[1]:b},makeHash:function(a){var b="#"+a.mode;a=a.vars;var c="?",d;for(d in a)b+=c+d+"="+ca(a[d]),c="&";return encodeURI(b)},setHash:function(a){location.hash=this.makeHash(a)},parseHash:function(a){var b=decodeURIComponent(a).split("#")[1],c,d,e;if(!b)return l;b=b.split("?");a=b[0];if(b[1]){c={};b=b[1].split("&");for(e=b.length;e--;)b[e]&&(d=b[e].split("="),c[d[0]]=this.typeCast(d[1]))}return{mode:a,vars:c}},
getHash:function(){return this.parseHash(location.hash)}});
Qa=P(function(a){var b=this,c=a.autoplay,d=a.loop,e,f=a.el||F.body;a.preload="auto";a.autoplay=a.loop=l;switch(a.type){case "Audio":e=C.Audio(a);break;default:e=C.Video(a)}if(b.b=e){if(c){var g;g=this.contract(e,"canplay",function(){b.uncontract(g);b.play()})}d&&this.loop(q);a.oncanplay&&this.contract(e,"canplay",a.oncanplay);a.onended&&this.contract(e,"ended",a.onended);r(f,e)}},{disposeInternal:function(){Aa(this.b)},getElement:h("b"),getCurrent:function(){return this.b.currentTime},getDuration:function(){return this.b.duration},
setCurrent:function(a){this.b.currentTime=a},loop:function(a){var b=this;b.r&&(b.uncontract(b.r),delete b.r);a&&(b.r=b.contract(b.b,"ended",function(){b.stop();b.play()}))},play:function(){this.b.play()},pause:function(){this.b.pause()},stop:function(){this.setCurrent(0);this.pause()}});C.Audio=function(a){a.type="audio";a.suffix=C.Audio.support;return Ga(a)};C.Audio.support=Ha("Audio",[["mp3","mpeg"],["wav","wav"],["ogg","ogg"],["m4a","mp4"]]);C.Sound=function(a){a.type="Audio";return new Qa(a)};
C.Sound.support=C.Audio.support;C.Video=function(a){a.type="video";a.suffix=C.Video.support;return Ga(a)};C.Video.support=Ha("Video",[["webm","webm"],["mp4","mp4"],["ogv","ogg"]]);C.Movie=function(a){a.type="Video";return new Qa(a)};C.Movie.support=C.Video.support;
C.Ajax=P(function(a){a&&this.request(a)},{request:function(a){if("json"==a.dataType)return delete a.dataType,this.json(a);var b=a.url,c=a.callback||B,d=a.error||B,e=a.type||"GET",f=m,g=this.va=new XMLHttpRequest;a.cash||(a.query||(a.query={}),a.query["cir"+v()]="0");a.query&&(f=a.query,ja(f)&&(f=encodeURI(ia(f))));g.onreadystatechange=function(){if(4==g.readyState){if(200==g.status)return c(g.responseText,g);d(g)}};"GET"==e&&(b=-1!=b.indexOf("?")?b+"&":b+"?",b+=f,f=m);g.open(e,b);"POST"==e&&g.setRequestHeader("Content-Type",
"application/x-www-form-urlencoded");g.send(f)},abort:function(){this.va&&this.va.abort()},json:function(a){var b=a.callback,c=a.error;a.callback=function(a){b(t(a))};a.error=function(a){c&&c(a)};this.request(a)}});C.Handle=P(function(a){this.a=a;this.attach()},{disposeInternal:function(){this.detach()},attach:function(){this.n(J)},detach:function(){this.n(L)},n:function(a){for(var b in this.a.events)a(this.a.el,b,this.a.events[b])}});
C.Brush=P(function(a){this.t=a.canvas;this.X=this.t.getContext("2d");this.setSize(a)},{setSize:function(a){a.width&&(this.t.width=a.width);a.height&&(this.t.height=a.height)},pigment:function(a){var b=k("canvas"),c=k("img");c.onload=function(){b.width=a.width;b.height=a.height;b.getContext("2d").drawImage(c,0,0);a.onload(b,c)};c.src=a.src;return{image:b,x:a.x||0,y:a.y||0}},pigments:function(a,b){function c(a){var c=a.onload||B;a.onload=function(a,d){c(a,d);f--;0==f&&b(g)};g[e]=d.pigment(a);f++}var d=
this,e,f=0,g={};b=b||B;for(e in a)c(a[e]);return g},draw:function(a){var b=0,c=a.length,d;for(this.X.clearRect(0,0,this.t.width,this.t.height);b<c;b++)d=a[b],this.X.drawImage(d.image,d.x,d.y)}});C.Brush.support=!!u.HTMLCanvasElement;C.Datetime=function(a){if(!a||z(a))return new Date(a);a=a.split(/[T:\-\+\/\s]/);3==a.length&&a.push(0,0,0);return new Date(1*a[0],a[1]-1,1*a[2],1*a[3],1*a[4],1*a[5])};
C.DataStore=P(function(){this.g={}},{set:function(a,b){this.g[a]=b},get:function(a){if(a)return this.g[a];a={};for(var b in this.g)a[b]=this.g[b];return a},remove:function(a){na(this.g[a])&&delete this.g[a]},reset:function(){this.g={}}});
Ra=P(function(a){this.o=a.namespace?a.namespace+"-":m;this.h=u[a.type+"Storage"]},{set:function(a,b){this.h.setItem(this.o+a,ca(b))},get:function(a){var b={},c;if(a)return t(this.h.getItem(this.o+a));for(c in this.h)this.o?(a=c.split(this.o)[1])&&(b[a]=t(this.h[c])):b[c]=t(this.h[c]);return b},remove:function(a){a=this.o+a;na(this.h.getItem(a))&&this.h.removeItem(a)},reset:function(){if(!this.o)return this.h.clear();for(var a in this.h)this.remove(a)}});
C.LocalStorage=function(a){a=a||{};a.type="local";return new Ra(a)};C.SessionStorage=function(a){a=a||{};a.type="session";return new Ra(a)};C.Deferred=P(function(){this.A=[]},{isResolve:function(){return!this.A},resolve:function(a){if(this.isResolve())return this;var b=this.A,c=b.length,d=0;this.A=O;for(this.g=a;d<c;++d)b[d](a);return this},done:function(a){this.A?this.A.push(a):a(this.g);return this}});
C.DragFlick=P(function(a){this.c=[];a=(this.a=a)||R;a.manual||this.attach()},{S:function(a){return a.changedTouches?a.changedTouches[0]:a},Da:function(a){var b=this,c,d,e=l;this.c.push(this.contract(a.el,T.SWITCHDOWN,function(a){var g=b.S(a);c=g.pageX;d=g.pageY;e=q;pa(a)}),this.contract(u,T.SWITCHUP,function(f){e&&(f=b.S(f),a.callback({x:f.pageX-c,y:f.pageY-d}),e=l)}))},Ha:function(a){this.Da({el:a.el,callback:function(b){var c=a.boundary||0,d={change:l,top:l,right:l,bottom:l,left:l,amount:b};Math.abs(b.x)>
c&&(0<b.x?d.right=q:0>b.x&&(d.left=q),d.change=q);Math.abs(b.y)>c&&(0<b.y?d.bottom=q:0>b.y&&(d.top=q),d.change=q);a.callback(d)}})},attach:function(){function a(a,c,d){b.c.push(b.contract(a,c,function(a){d(b.S(a))}))}var b=this,c=this.a,d=c.el,e=c.start||B,f=c.move||B,g=c.end||B,p=l,s=0,K=0;c.direction&&b.Ha({el:d,boundary:c.boundary,callback:c.direction});a(d,T.SWITCHDOWN,function(a){p=q;s=a.pageX;K=a.pageY;e({e:a,move:{x:s,y:K}})});a(F,T.SWITCHMOVE,function(a){p&&f({e:a,move:{x:a.pageX-s,y:a.pageY-
K}})});a(F,T.SWITCHUP,function(a){p&&(g({e:a,move:{x:a.pageX-s,y:a.pageY-K}}),p=l)})},detach:function(){for(var a=this.c.length;a--;)this.uncontract(this.c[a]);this.c=[]}});C.ExternalInterface=function(a){a=a||R;var b=Pa;a.android&&(b=Na);return new b(a)};Na=Da(C.HashQuery,function(a){this.a=a},{call:function(a){this.a.android[a.mode](this.makeHash(a))},addCallback:function(a,b){var c=this;c.a.externalObj[a]=function(a){b(c.parseHash(a).vars)}},removeCallback:function(a){delete this.a.externalObj[a]}});
Pa=Da(C.HashQuery,function(){this.v={}},{disposeInternal:function(){for(var a in this.v)this.removeCallback(a)},call:function(a){this.setHash(a)},addCallback:function(a,b){var c=this;c.v[a]=function(){var d=c.getHash();d.mode==a&&b(d.vars)};J(u,"hashchange",c.v[a])},removeCallback:function(a){L(u,"hashchange",this.v[a]);delete this.v[a]}});
C.Facebook=P(n,{shareURL:function(a){return"https://www.facebook.com/dialog/feed?app_id="+a.app_id+"&redirect_uri="+a.redirect_uri+ia({link:a.link,picture:a.picture,name:a.name,caption:a.caption,description:a.description})}});
C.FPS=P(function(a){this.I=this.R=a.criterion;this.ha=this.aa(this.I);this.Ja=a.enterframe;a.manual||this.start()},{N:0,L:0,fa:0,disposeInternal:function(){this.stop()},getCriterion:h("I"),getSurver:h("R"),getFrameTime:h("ha"),enter:function(){this.Ja({criterion:this.I,surver:this.R})},start:function(){this.N=v();this.fa=setInterval(this.F,this.ha,this)},F:function(a){a.L=v();a.R=a.aa(a.L-a.N);a.N=a.L;a.enter()},aa:function(a){return Math.round(1E3/a)},stop:function(){clearInterval(this.fa)}});
C.ImgLoad=P(function(a){this.ra=a.srcs;this.P=this.ra.length;this.da=[];this.c=[];this.M=a.onload||B;this.La=a.onprogress||B;a.manual||this.start()},{K:0,O:0,Fa:function(){this.K++;this.O=this.K/this.P;this.La(this.O);if(this.K>=this.P){for(var a=this.c.length;a--;)this.uncontract(this.c[a]);this.c=[];this.M(this.da)}},start:function(){function a(){b.Fa()}if(!this.Wa){this.Wa=q;for(var b=this,c,d=b.P;d--;)c=k("img"),c.src=b.ra[d],b.c.push(b.contract(c,T.LOAD,a)),b.da.push(c)}},getProgress:h("O")});
C.WindowLoad=P(function(a){a&&this.M(a.onload)},{M:function(a){var b=this,c;c=b.contract(u,T.LOAD,function(){b.uncontract(c);a()})}});
Sa=C.Mobile=P(n,{getZoom:function(){return F.body.clientWidth/u.innerWidth},isAndroid:function(a){return D(/Android/i,a)},isIOS:function(a){return D(/iPhone|iPad|iPod/i,a)},isWindows:function(a){return D(/IEMobile/i,a)},isFBAPP:function(a){return D(/FBAN/,a)},isMobile:function(){return this.isAndroid()||this.isIOS()||this.isWindows()||this.isFBAPP()},hideAddress:function(){function a(){0==u.pageYOffset&&ea()}function b(){setTimeout(a,100)}this.contract(u,T.LOAD,b,l);this.contract(u,"orientationchange",
b,l)}});C.mobile=new Sa;var ib=u.navigator.userAgent.toLowerCase(),Z;Z=-1!=ib.indexOf("opera")?"opera":-1!=ib.indexOf("msie")?"ie":-1!=ib.indexOf("chrome")?"chrome":-1!=ib.indexOf("safari")?"safari":-1!=ib.indexOf("gecko")?"gecko":"ather";Ta=C.PC=P(n,{isChrome:function(){return"chrome"==Z},isSafari:function(){return"safari"==Z},isGecko:function(){return"gecko"==Z},isOpera:function(){return"opera"==Z},isIE:function(){return-1!=Z.indexOf("ie")}});C.pc=new Ta;
C.Orientation=P(function(a){this.a=a;this.c=[];this.ja={portrait:q,landscape:l};this.ca={portrait:l,landscape:q};this.attach()},{get:function(){return z(u.orientation)?90!=Math.abs(u.orientation)?this.ja:this.ca:u.innerWidth<u.innerHeight?this.ja:this.ca},fire:function(){if(this.get().portrait)return this.a.portrait();this.a.landscape()},attach:function(){var a=E(this,this.fire);this.c.push(this.contract(u,T.LOAD,a),this.contract(u,"orientationchange",a),this.contract(u,T.RESIZE,a))},detach:function(){for(var a=
this.c.length;a--;)this.uncontract(this.c[a]);this.c=[]}});C.Orientation.support="onorientationchange"in u;
C.Modal=P(function(a){this.a=a=a||R;var b={display:"none",position:"absolute"};this.ma=new C.Scroll;this.c=[];this.i=k("div",{"class":"cir-modal-bg"});N(this.i,x({zIndex:9998,top:0,left:0,width:"100%",height:"300%"},b));r(F.body,this.i);this.f=k("div",{"class":"cir-modal-content"});N(this.f,x({zindex:9999,top:"50%",left:"50%"},b));r(F.body,this.f);a.manual||this.open()},{W:function(){for(var a=this.c.length;a--;)this.uncontract(this.c[a]);this.c=[]},disposeInternal:function(){this.close();Aa(this.i);
Aa(this.f)},open:function(a){this.ma.kill();N(this.i,{top:F.body.scrollTop});M(this.i);this.inner(a)},close:function(){this.W();Ba(this.f,"");va(this.f);va(this.i);this.ma.revival()},inner:function(a){this.W();a=a||this.a.html;Ba(this.f,a);M(this.f);a=wa(this.f);N(this.f,{"margin-top":F.body.scrollTop-da(a.height)[2]/2,"margin-left":-(da(a.width)[2]/2)});this.a.bgClose&&this.contract(this.i,T.CLICK,E(this,this.close));if(this.a.closeSelector){a=ra(this.a.closeSelector,this.f);for(var b=a.length;b--;)this.c.push(this.contract(a[b],
T.CLICK,E(this,this.close)))}}});Ja=P(function(a){this.a=a;this.attach()},{attach:function(){this.detach();this.Ea=this.contract(u,this.a.e,this.a.callback)},detach:function(){this.uncontract(this.Ea)}});C.DeviceOrientation=function(a){a.e="deviceorientation";return Ja(a)};C.DeviceOrientation.support="ondeviceorientation"in u;C.DeviceMotion=function(a){a.e="devicemotion";return Ja(a)};C.DeviceMotion.support="ondevicemotion"in u;var jb,mb;
C.DeviceOrientation.support?(jb=C.DeviceOrientation,mb=function(a){return a}):C.DeviceMotion.support&&(jb=C.DeviceMotion,mb=function(a){return a.rotationRate});C.DeviceShake=P(function(a){this.oa=new jb;this.a=a;this.attach()},{Qa:{x:"gamma",y:"beta",z:"alpha"},attach:function(){var a=this,b,c=a.Qa[a.a.direction];a.oa.attach(function(d){d=mb(d);b||(b=d);Math.abs(d[c]-b[c])>a.a.limit&&(b=O,a.a.callback(d),setTimeout(function(){},a.a.waittime))})},detach:function(){this.oa.detach()}});
C.DeviceShake.support=jb?q:l;C.FontImg=P(function(a){a=a||R;this.Na=a.type?a.type+"_":m;this.sa=a.tag||"span"},{make:function(a){a=(m+a).split(m);for(var b=m,c=a.length;c--;)b="<"+this.sa+' class="font_'+this.Na+a[c]+'"></'+this.sa+">"+b;return b}});
C.Observer=P(function(){this.k={}},{on:function(a,b){this.k[a]||(this.k[a]=[]);this.k[a].push(b)},one:function(a,b){function c(e){b(e);d.off(a,c)}var d=this;d.on(a,c)},off:function(a,b){if(!b)return delete this.k[a];var c=this.k[a],d;if(c)for(d=c.length;d--;)if(b==c[d])return c.splice(d,1),0==c.length&&delete this.k[a],q;return l},fire:function(a,b){var c=this.k[a],d,e;if(c)for(e=c.length;e--;)(d=c[e])&&d(b)}});
C.PreRender=P(function(a){this.j=a.els;this.ba=a.guesslimit||30;this.Ma=a.onrendered;this.ga=a.looptime||100;this.Ka=this.ga+(a.loopblur||20);a.manual||this.start()},{disposeInternal:function(){clearInterval(this.r)},start:function(){var a,b=this,c=v();for(a=b.j.length;a--;)M(b.j[a]);b.r=setInterval(function(){var a=v(),e=a-c;c=a;if(e<b.Ka&&(b.ba--,1>b.ba)){clearInterval(b.r);for(a=b.j.length;a--;)va(b.j[a]);b.Ma()}},this.ga,this)}});
C.Route=P(function(a){this.a=a;a.manual||this.start()},{start:function(){this.fire(this.a.target)},fire:function(a){var b;if(this.a.noregex&&this.a.action[a])return this.a.action[a](a);for(b in this.a.action)if(a.match(b))this.a.action[b](b)}});
C.ScriptLoad=P(function(a){this.j=[];a&&this.requests(a)},{requests:function(a,b){function c(c){var f=a[c].callback;a[c].callback=function(a){f(a);e--;0==e&&b(d.j)};d.request(a[c])}for(var d=this,e=0,f=a.length;e<f;e++)c(e)},request:function(a){var b=this,c=k("script"),d;c.src=a.src;r(F.body,c);b.j.push(c);a.callback&&(d=b.contract(c,T.LOAD,function(){b.uncontract(d);a.callback.apply(this,arguments)}))}});function $(a){return nb?ob.getResponseHeader(a):l}
function pb(a){var b=new XMLHttpRequest;b.onload=function(){a(b)};b.open("HEAD",location.href+"?update"+v()+"=1");b.send(O);return b}var ob,nb=l;
C.ServerMeta=P(function(a){a=a||R;var b=a.callback||B;ob?b(ob):ob=pb(function(){nb=q;b(ob)})},{date:function(a){return pb(function(b){a(b.getResponseHeader("Date"))})},connection:function(){return $("Connection")},contentLength:function(){return $("Content-Length")},lastModified:function(){return $("Last-Modified")},server:function(){return $("Server")},contentType:function(){return $("Content-Type")},acceptRanges:function(){return $("Accept-Ranges")},keepAlive:function(){return $("Keep-Alive")}});
C.Surrogate=P(function(a){this.Ga=a.delay;this.B=a.callback},{disposeInternal:function(){this.clear()},request:function(a){this.s=a;this.clear();this.T=setTimeout(this.flush,this.Ga,this)},flush:function(a){a=a||this;a.B(a.s)},clear:function(){clearInterval(this.T)}});
C.Throttle=P(function(a){this.Oa=a.waittime;this.B=a.callback},{disposeInternal:function(){this.unlock()},request:function(a){var b=this;b.ea?b.s=a:(b.B(a),b.lock(),b.T=setTimeout(function(){b.s&&(b.B(b.s),b.s=O);b.unlock()},b.Oa,b))},lock:function(){this.ea=q},unlock:function(a){a=a||this;a.ea=l;clearInterval(a.T)}});
C.Timer=function(a){function b(){ga=v();var a=f-(ga-La)/1E3;0>a&&(a=0);Oa=c(a);s(Oa);ga>Ma?(kb.stop(),K()):lb=setTimeout(b,p)}function c(a){var b;b=(m+a).split(".");a=b[0];b=b[1]?b[1]:m;a=d({Aa:a,xa:Ka.Ta});b=d({Aa:b,xa:Ka.Sa,Ua:q});return a+"."+b}function d(a){var b=m+a.Aa,c=a.xa,d=c-b.length;return!a.Ua?-1<d?e(d,0)+b:e(c,9):0<d?b+e(d,0):b.slice(0,c)}function e(a,b){var c=m;for(b=m+b;0<a;)c+=b,a--;return c}var f=a.limit,g=1E3*f,p=1E3*a.interval,s=a.onupdate,K=a.ontimeup,Ka;a=a.template.split(".");
Ka={Ta:a[0].length,Sa:a[1].length};var La=0,ga=0,Ma=g,Oa=c(f),lb,kb={getLimit:function(){return f},getTime:function(){return Oa},getProgress:function(){return 1-(Ma-ga)/g},setUpdate:function(a){s=a},setTimeup:function(a){K=a},countDown:function(){ga=La=v();Ma=La+g;b()},stop:function(){clearInterval(lb)}};return kb};
C.Twitter=P(n,{shareURL:function(a){var b=a.name,c=a.hash,b=b?" \u300c"+b+"\u300d":m,c=c?" "+c:m;return"https://twitter.com/intent/tweet?"+ia({url:a.redirect_uri,text:(a.caption||m)+b+c})}});C.XML=P(function(a){this.b=k("div");Ba(this.b,a.data)},{$:function(a){return this.b.querySelector(a)},$$:function(a){return ra(a,this.b)}});
C.Model=P(function(a){a=a||R;var b,c=a.defaults||this.defaults||{},d=a.events||this.events;this.ua=a.validate||this.validate||{};this.l=a.store||this.store||new C.DataStore;this.w=new C.Observer;for(b in c)this.set(b,c[b]);for(b in d)this.on(b,d[b])},{G:function(a,b,c){this.w.fire(a,this.l.get());b&&this.w.fire(a+":"+b,c)},set:function(a,b){if(this.ua[a]&&!this.ua[a](a,b))return this.G("fail",a,b);this.ka=this.l.get();this.l.set(a,b);this.G(T.CHANGE,a,b)},prev:function(a){return!a?this.ka:this.ka[a]},
get:function(a){return this.l.get(a)},remove:function(a){if(a){var b=this.l.get(a),c=this.l.remove(a);this.G("remove",a,b);return c}},reset:function(){this.l.reset();this.G("reset")},on:function(a,b){var c=E(this,b);this.w.on(a,c);return c},off:function(a,b){this.w.off(a,b)},fire:function(a,b){return this.w.fire(a,b)}});
C.View=P(function(a){a=a?qa(this,a):qa(this,this,{});this.el=C.$(a.el||this.el||k("div"));this.attach();a.init&&this.init()},{disposeInternal:function(){this.n("off")},n:function(a){var b,c,d,e=this.events;for(b in e)for(c in d="me"==b?this.el:this.el.find(b),e[b])d[a](c,this[e[b][c]])},attach:function(){this.n("on")},detach:function(){this.n("off")}});
C.Validate=P(function(a){a=a||{};this.Xa=a.level;qa(this,this,a)},{displayError:function(a,b){b="Validate Error:"+a+" is "+b+".";switch(this.$a){case "log":return console.log(b),l;case "error":throw Error(b);case "off":return l;default:return console.warn(b),l}},isObject:function(a,b){if(ja(b))return q;this.displayError(a,"Object")},isNumber:function(a,b){if(z(b))return q;this.displayError(a,"Number")},isString:function(a,b){if(ka(b))return q;this.displayError(a,"String")},isFunction:function(a,b){if(A(b))return q;
this.displayError(a,"Function")},isBoolean:function(a,b){if(la(b))return q;this.displayError(a,"Boolean")},isArray:function(a,b){if(ma(b))return q;this.displayError(a,"Array")}});C.validate=new C.Validate;
C.Scroll=P(n,{disposeInternal:function(){this.revival();clearInterval(this.pa)},to:w,toTop:ea,toBottom:function(){w(F.height)},smooth:function(a,b){var c=this,d;b=b||B;c.qa||(c.qa=q,z(a)||(a=a.offsetTop),d=F.height-u.innerHeight,a>d&&(a=d),c.V=u.scrollY,c.pa=setInterval(function(){var d=0.3*(a-u.scrollY)+u.scrollY;if(1>Math.abs(a-d)||c.V==d)return w(a),clearInterval(c.pa),b(a),delete c.qa;c.V=d;w(d)},50))},kill:function(){this.D||(N(F.body,{overflow:"hidden"}),this.D=this.contract(F,T.TOUCHMOVE,pa))},
revival:function(){this.D&&(N(F.body,{overflow:"auto"}),this.uncontract(this.D),delete this.D)}});C.beer=function(){console.log("\n   \u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000\u3000,. -\u2010\uff1d=\uff64\uff64\n\u3000\u3000\u3000\u3000\u3000\u3000 \u3000\u3000\u3000\u3000\u3000\u3000 ,. =\uff1d=\uff64\uff64\u3000\uff4f \u3000 \u25cbo. \u3000i \u3000\u3000 \u3000\u3000 :::\u30c8\uff64\n\u3000\u3000\u3000\u3000\u3000\u3000 \u3000\u3000\u3000\u3000\u3000_,/ \u3000 \u3000 \u3000\uff40\u30fe\u00b4\u00b4`\u30fd\u3001\u3000\uff9f\u3000.\uff4c \u3000 \u3000\u3000 \u3000:::\uff84\uff64\uff3cYEAHHHHHHHHHHHHHHHHHHHH!\n\u3000\u3000\u3000\u3000\u3000 \u3000\u3000\u3000\u3000\u3000 // \u3000\u3000\u3000\u3000 .::::/\u3000\u3000:::::!=\uff1d=l\u3000\u3000\u3000\u3000\u3000 :::|\uff7d.\u3000',\n\u3000 \u3000 \u3000 \u3000 \u3000\u3000 \u3000 /./ \u3000 \u3000 \u3000 .::::/\u3000\u3000 ::::l\u3000\u3000\u3000 |\u3000 __ ..... _::::|} \u30fd l-\uff64\n  \u3000 \u3000 \u3000 \u3000 \u3000 ,\uff68\uff78 ,'..__ \u3000\u3000\u3000.::::/ \u3000\u3000 ::::l\u3000\u3000\u3000 :l '\u00b4\u3000\u3000\u3000\u3000\uff40)'\uff40\u30fd \u30fe;\uff3c\n\u3000\u3000\u3000\u3000\u3000 \u3000\uff0f::{\uff9e\u3000\u30fd\u3001 \uff40`\u4e36\uff64;/\u2010\u2010- \uff64::::l\u3000\u3000 \u3000 `'::\u252c\u2010--\uff1c_ \u3000 } ./;:::::\uff3c\n\u3000\u3000\u3000\u3000\u3000\uff0f::::::::!\u3000\u3000 ,\uff1e---\u2010'\uff9e\uff70- ...__)\uff72\u3000,.\u3000-\u2010\u2010-\uff64\uff84\uff64\u3000\u3000 |l::\u30fd \uff0f;';';';';::::\uff3c\n  \u3000 \u3000 \uff0f|::::::;';';'\uff3c\uff0f\uff5d\u3000\uff08\u30fd\u3001\u3000\u3000_/| \u3000 (\u00b4\u3000\u3000\u3000 _,.\uff68!::\u30fd. \u3000\u30fe\uff70'\u00b4;';';';';';';';';:: /\u30fd\u3001\n")};
}());
