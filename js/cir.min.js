/*! cir.js v0.8.2 | (c) 2013 Atsushi Mizoue. */(function(){
function f(a){return function(){return this[a]}}function j(){k.scrollTo(0,1)}function aa(a,b){for(var c in b)a[c]=b[c];return a}function ba(a){var b=""+a;return b.match("^{.*}$")?JSON.parse(b):b.match("^[0-9.]+$")?1*b:"true"===b?l:"false"===b?m:a}function ca(a,b,c){return a.split(b).join(c)}function n(a){var b="",c="",d;for(d in a)a[d]&&(c+=b+d+"="+encodeURIComponent(a[d]),b="&");return c}function r(a,b){return Object.prototype.toString.call(b)==="[object "+a+"]"?l:m}
function da(a){return r("Object",a)}function ea(a){return r("Number",a)}function fa(a){return r("String",a)}function ga(a){return r("Function",a)}function ha(a){return r("Array",a)}function ia(){return"ontouchstart"in k}function s(){return t}function ja(a){a.preventDefault();return m}function u(a,b){b=b?b:navigator.userAgent;return b.match(a)?l:m}function ka(a){return v.querySelector(a)}function la(a,b){var c=b.querySelectorAll(a),d=[];d.push.apply(d,c);return d}
function w(a,b){for(var c=a.className,c=c?c.split(" "):[],d=0,e=c.length;d<e;d++)if(b&&b===c[d])return l;return m}function x(a,b){var c="";if(w(a,b))return m;a.className&&(c=" ");a.className=a.className+c+b;return l}function y(a,b){var c,d=[],e,g;if(!w(a,b))return m;c=a.className.split(" ");e=0;for(g=c.length;e<g;e++)b!==c[e]&&d.push(c[e]);a.className=d.join(" ");return l}function ma(a,b){return w(a,b)?y(a,b):x(a,b)}
function na(a,b,c){var d;if(da(b)){for(d in b)a.setAttribute(d,b[d]);return l}return c||""===c?a.setAttribute(b,c):a.getAttribute(b)}function oa(a,b){a.removeAttribute(b)}function z(a,b){var c=v.createElement(a);b&&na(c,b);return c}function A(a,b,c){a.addEventListener(b,c,m)}function B(a,b,c){a.removeEventListener(b,c,m)}function pa(a){a.style.display="block"}function qa(a){a.style.display="none"}function ra(a,b){a.style.opacity=b}
function D(a,b){var c=a.style,d,e,g;for(d in b)e=d,g=b[d],ea(g)&&(g+="px"),c[e]=g}function sa(a){return v.defaultView.getComputedStyle(a,t)}function E(a,b){return a.appendChild(b)}function ta(a){return a.parentNode.removeChild(a)}function ua(a,b){if(!b)return a.innerHTML;a.innerHTML=b}var k=window,v=document,l=!0,m=!1,t=null,F=ia(),G,I,va="orientationchange",J=1.70158,K,L=k.C={};Date.now||(Date.now=function(){return+new Date});
L.utility={win:k,doc:v,pageTop:j,override:aa,replaceAll:ca,windowOpen:function(a,b){return k.open(a,b)},typeCast:ba,makeQueryString:n,parseQueryString:function(a){a=a.replace(/^\#/,"").replace(/^\?/,"");a=a.split("&");var b,c,d={};for(b=a.length;b--;)c=a[b].split("="),d[c[0]]=ba(decodeURIComponent(c[1]));return d},is:r,isObject:da,isNumber:ea,isString:fa,isFunction:ga,isBoolean:function(a){return r("Boolean",a)},isArray:ha,isTouchDevice:ia,nullFunction:s,eventPrevent:ja,checkUserAgent:u};
L.dom={$:ka,$$:function(a){return la(a,v)},$child:function(a,b){return b.querySelector(a)},$$child:la,$id:function(a){return v.getElementById(a)},on:A,off:B,create:z,show:pa,hide:qa,opacity:ra,hasClass:w,addClass:x,removeClass:y,toggleClass:ma,css:D,computedStyle:sa,append:E,parent:function(a){return a.parentNode},remove:ta,attr:na,removeAttr:oa,html:ua};G=L.klass=function(a){var b=a.init||function(){},c=a.properties;(a=a.extend)&&L.extend(b,a);aa(b.prototype,c);return b};
L.extend=function(a,b){function c(){this.init=a}c.prototype=b.prototype;a.prototype=new c;var d=a.prototype;d._superclass=b;d._super=function(){var a=this.ya,a=a?a.prototype.Ra:this.ya=b;a.apply(this,arguments)}};
I=G({init:function(a){a=a||{};if(a.single&&L.Event.b)return L.Event.b;a.single&&(L.Event.b=this)},properties:{switchclick:F?"touchstart":"click",switchdown:F?"touchstart":"mousedown",switchmove:F?"touchmove":"mousemove",switchup:F?"touchend":"mouseup",load:"load",change:"change",click:"click",mousedown:"mousedown",mousemove:"mousemove",mouseup:"mouseup",touchstart:"touchstart",touchmove:"touchmove",touchend:"touchend",resize:"resize"}});L.Event=I;I=L.event=new I;
K=L.Base=G({init:function(){this.l={}},properties:{H:0,dispose:function(){var a;if(this.l)for(a in this.l)B.apply(t,this.l[a]);for(a in this)delete this[a];return this.__proto__=t},contract:function(a,b,c){A(a,b,c);this.H++;this.l[this.H]=[a,b,c];return this.H},uncontract:function(a){var b=this.l[a];delete this.l[a];B(b[0],b[1],b[2])},d:function(){this.__proto__.__proto__.dispose.call(this)}}});
L.ease={linear:function(a,b,c,d){return c*a/d+b},inCubic:function(a,b,c,d){return c*Math.pow(a/d,3)+b},outCubic:function(a,b,c,d){return c*(Math.pow(a/d-1,3)+1)+b},inOutCubic:function(a,b,c,d){return 1>(a/=d/2)?c/2*Math.pow(a,3)+b:c/2*(Math.pow(a-2,3)+2)+b},inQuart:function(a,b,c,d){return c*Math.pow(a/d,4)+b},outQuart:function(a,b,c,d){return-c*(Math.pow(a/d-1,4)-1)+b},inOutQuart:function(a,b,c,d){return 1>(a/=d/2)?c/2*Math.pow(a,4)+b:-c/2*(Math.pow(a-2,4)-2)+b},inQuint:function(a,b,c,d){return c*
Math.pow(a/d,5)+b},outQuint:function(a,b,c,d){return c*(Math.pow(a/d-1,5)+1)+b},inOutQuint:function(a,b,c,d){return 1>(a/=d/2)?c/2*Math.pow(a,5)+b:c/2*(Math.pow(a-2,5)+2)+b},inSine:function(a,b,c,d){return c*(1-Math.cos(a/d*(Math.PI/2)))+b},outSine:function(a,b,c,d){return c*Math.sin(a/d*(Math.PI/2))+b},inOutSine:function(a,b,c,d){return c/2*(1-Math.cos(Math.PI*a/d))+b},inExpo:function(a,b,c,d){return c*Math.pow(2,10*(a/d-1))+b},outExpo:function(a,b,c,d){return c*(-Math.pow(2,-10*a/d)+1)+b},inOutExpo:function(a,
b,c,d){return 1>(a/=d/2)?c/2*Math.pow(2,10*(a-1))+b:c/2*(-Math.pow(2,-10*--a)+2)+b},inCirc:function(a,b,c,d){return c*(1-Math.sqrt(1-(a/=d)*a))+b},outCirc:function(a,b,c,d){return c*Math.sqrt(1-(a=a/d-1)*a)+b},inOutCirc:function(a,b,c,d){return 1>(a/=d/2)?c/2*(1-Math.sqrt(1-a*a))+b:c/2*(Math.sqrt(1-(a-=2)*a)+1)+b},inQuad:function(a,b,c,d){return c*(a/=d)*a+b},outQuad:function(a,b,c,d){return-c*(a/=d)*(a-2)+b},inOutQuad:function(a,b,c,d){return 1>(a/=d/2)?c/2*a*a+b:-c/2*(--a*(a-2)-1)+b},inBack:function(a,
b,c,d){return c*(a/=d)*a*((J+1)*a-J)+b},outBack:function(a,b,c,d){return c*((a=a/d-1)*a*((J+1)*a+J)+1)+b},inOutBack:function(a,b,c,d){return 1>(a/=d/2)?c/2*a*a*(((J*=1.525)+1)*a-J)+b:c/2*((a-=2)*a*(((J*=1.525)+1)*a+J)+2)+b}};
L.cssease={linear:"linear",inCubic:"cubic-bezier(0.550, 0.055, 0.675, 0.190)",outCubic:"cubic-bezier(0.215, 0.610, 0.355, 1.000)",inOutCubic:"cubic-bezier(0.645, 0.045, 0.355, 1.000)",inQuart:"cubic-bezier(0.895, 0.030, 0.685, 0.220)",outQuart:"cubic-bezier(0.165, 0.840, 0.440, 1.000)",inOutQuart:"cubic-bezier(0.770, 0.000, 0.175, 1.000)",inQuint:"cubic-bezier(0.755, 0.050, 0.855, 0.060)",outQuint:"cubic-bezier(0.230, 1.000, 0.320, 1.000)",inOutQuint:"cubic-bezier(0.860, 0.000, 0.070, 1.000)",inSine:"cubic-bezier(0.470, 0.000, 0.745, 0.715)",
outSine:"cubic-bezier(0.390, 0.575, 0.565, 1.000)",inOutSine:"cubic-bezier(0.445, 0.050, 0.550, 0.950)",inExpo:"cubic-bezier(0.950, 0.050, 0.795, 0.035)",outExpo:"cubic-bezier(0.190, 1.000, 0.220, 1.000)",inOutExpo:"cubic-bezier(1.000, 0.000, 0.000, 1.000)",inCirc:"cubic-bezier(0.600, 0.040, 0.980, 0.335)",outCirc:"cubic-bezier(0.075, 0.820, 0.165, 1.000)",inOutCirc:"cubic-bezier(0.785, 0.135, 0.150, 0.860)",inQuad:"cubic-bezier(0.550, 0.085, 0.680, 0.530)",outQuad:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",
inOutQuad:"cubic-bezier(0.455, 0.030, 0.515, 0.955)",inBack:["cubic-bezier(0.600, 0, 0.735, 0.045)","cubic-bezier(0.600, -0.280, 0.735, 0.045)"],outBack:["cubic-bezier(0.175, 0.885, 0.320, 1)","cubic-bezier(0.175, 0.885, 0.320, 1.275)"],inOutBack:["cubic-bezier(0.680, 0, 0.265, 1)","cubic-bezier(0.680, -0.550, 0.265, 1.550)"]};
for(var wa=["webkitAnimation","animation"],xa=z("p"),Ba=m,M,N="",Ca="animation",O=0,Ea=wa.length,Fa,Q,R;O<Ea;O++)if(void 0!==xa.style[wa[O]]){Ba=l;if(M=wa[O].match(/^(.*?)animation$/i)[1])N="-"+M.toLowerCase()+"-",Ca=M+"Animation";Fa=E(ka("head"),z("style",{type:"text/css"}));Q=Fa.sheet;break}
R=Ba?L.Animation=G({extend:K,init:function(a,b,c){c=c||{};this.D=c.onComplete||s;this.a=a;R.id++;this.c="ciranim"+R.id;a=c.duration||R.Duration;var d=c.ease||"ease",e,g={};for(e in b)g[e]=b[e],ea(g[e])&&(g[e]+="px");this.i=g;g=ca(ca(JSON.stringify(g),'"',""),",",";");Q.insertRule("@"+N+"keyframes "+this.c+"{to"+g+"}",Q.cssRules.length);ha(d)||(d=[d]);b=this.c;e=N;for(var g=0,h=d.length,p="";g<h;g++)p+=e+"animation:"+b+" "+a+"ms "+d[g]+" 0s 1 normal both;";Q.insertRule("."+b+"{"+p+"}",Q.cssRules.length);
c.manual||this.start()},properties:{X:function(){B(this.a,Ca+"End",this.end);B(this.a,"animationend",this.end)},dispose:function(){this.stop();this.d()},start:function(){function a(a){var d=Q.cssRules,e=d.length,g;b.X();if("webkit"===M){for(;e--;)g=d[e].name||(""+d[e].selectorText).split(".")[1],g===b.c&&Q.deleteRule(e);y(b.a,b.c);D(b.a,b.i)}b.D(a)}var b=this;b.end=a;A(b.a,Ca+"End",a);A(b.a,"animationend",a);x(b.a,b.c)},stop:function(){var a={};a[N+"animation-play-state"]="paused";D(this.a,a);this.X()}}}):
L.Animation={};R.id=0;R.Duration=500;R.support=Ba;for(var Ga=["webkitTransitionProperty","transitionProperty"],Ha=z("p"),Ia=m,Ja,Ka="",La="transition",S=0,Ma=Ga.length,Na,T,U;S<Ma;S++)if(void 0!==Ha.style[Ga[S]]){Ia=l;if(Ja=Ga[S].match(/^(.*?)transitionproperty$/i)[1])Ka="-"+Ja.toLowerCase()+"-",La=Ja.toLowerCase()+"Transition";Na=E(ka("head"),z("style",{type:"text/css"}));T=Na.sheet;break}
U=Ia?L.Transition=G({extend:K,init:function(a,b,c){c=c||{};c.onComplete=c.onComplete||s;U.id++;this.c="cirtrans"+U.id;var d=[];aa({},b);var e,g=c.duration||U.Duration,h=c.ease||"ease";ha(h)||(h=[h]);for(e in b)d.push(e);e=Ka;for(var p=0,q=h.length,d=""+(e+"transition-property:"+d.join(" ")+";"+e+"transition-duration:"+g+"ms;");p<q;p++)d+=e+"transition-timing-function:"+h[p]+";";T.insertRule("."+this.c+"{"+d+"}",T.cssRules.length);this.a=a;this.i=b;this.Ma=c;c.manual||this.start()},properties:{dispose:function(){this.stop();
this.d()},start:function(){var a=this;a.t=function(b){a.stop();setTimeout(function(){a.Ma.onComplete(b)},1)};A(a.a,La+"End",a.t);A(a.a,"transitionend",a.t);x(a.a,a.c);D(a.a,a.i)},stop:function(){var a=T.cssRules,b=a.length,c;B(this.a,La+"End",this.t);B(this.a,"transitionend",this.t);for(y(this.a,this.c);b--;)if(c=a[b].name||(""+a[b].selectorText).split(".")[1],c===this.c){T.deleteRule(b);break}}}}):L.Transition={};U.id=0;U.support=Ia;U.Duration=500;
var V=L.Tweener=G({extend:K,init:function(a,b,c){var d;c=c||{};this.u=a;this.i=[];for(d in b)a=b[d],a.name=d,a.Ea=a.to-a.from,a.prefix=a.prefix||"",a.suffix=a.suffix||"px",this.i.push(a);this.U=c.duration||V.Duration;this.Fa=c.ease||this.qa;this.D=c.onComplete;c.manual||this.start()},properties:{dispose:function(){this.stop();this.d()},qa:function(a,b,c,d){return c*(-Math.pow(2,-10*a/d)+1)+b},Y:k.requestAnimationFrame?function(a){requestAnimationFrame(a)}:k.webkitRequestAnimationFrame?function(a){webkitRequestAnimationFrame(a)}:
k.mozRequestAnimationFrame?function(a){mozRequestAnimationFrame(a)}:k.oRequestAnimationFrame?function(a){oRequestAnimationFrame(a)}:k.msRequestAnimationFrame?function(a){msRequestAnimationFrame(a)}:function(a){setTimeout(a,1E3/V.Oa)},loop:function(){for(var a=this,b=V.F,c,d=Date.now(),e,g=b.length,h,p,q;g--;)if(c=b[g],p=c.i.length,e=d-c.Ca,e<c.U)for(h=0;h<p;h++)q=c.i[h],V.Z(c.u,q,c.Fa(e,q.from,q.Ea,c.U));else{for(h=0;h<p;h++)q=c.i[h],V.Z(c.u,q,q.to);c.D&&c.D();b.splice(g,1)}if(b.length)return a.Y(function(){a.loop()}),
l;this.stop()},start:function(){var a=this;a.Ca=Date.now();V.F.push(a);V.P||(V.P=1,a.Y(function(){a.loop()}))},stop:function(){V.F=[];clearInterval(V.P);V.P=t}}});V.Z=function(a,b,c){a[b.name]=b.prefix+c+b.suffix};V.F=[];V.FPS=30;V.Duration=500;L.$=function(a,b){var c,d,e=0,g;b=b||v;fa(a)?c=b.querySelectorAll(a):(c=[a],a="");g=c.length;d=function(){};d.prototype=L.$.ia;d=new d;d.length=g;for(d.xa=b;e<g;e++)d[e]=c[e];return d};
function W(a,b,c){var d=0,e=a.length;for(c=Oa(c);d<e;d++)c[0]=a[d],b.apply(a,c);return a}function X(a,b,c){c=Oa(c);c[0]=a[0];return b.apply(t,c)}function Oa(a){var b=[t];b.push.apply(b,a);return b}
L.$.ia={ra:W,Qa:X,Pa:Oa,querySelectorAll:function(a){return this[0].querySelectorAll(a)},find:function(a){return L.$(a,this.xa)},parent:function(){return L.$(this[0].parentNode)},on:function(){return W(this,A,arguments)},off:function(){return W(this,B,arguments)},show:function(){return W(this,pa)},hide:function(){return W(this,qa)},opacity:function(){return W(this,ra,arguments)},hasClass:function(){return X(this,w,arguments)},addClass:function(){return W(this,x,arguments)},removeClass:function(){return W(this,
y,arguments)},toggleClass:function(){return W(this,ma,arguments)},css:function(){return W(this,D,arguments)},html:function(){return X(this,ua,arguments)},attr:function(){return X(this,na,arguments)},removeAttr:function(){return W(this,oa,arguments)},append:function(){return W(this,E,arguments)},remove:function(){return W(this,ta,arguments)}};
function Pa(a,b,c,d,e){ga(c)&&(e=c,c=t);ga(d)&&!e&&(e=d,d=t);d&&(d=Qa[d]);c={duration:c,ease:d,onComplete:e};if(Ra)b=new Sa(a,b,c);else{d=L.Tweener;e=a.style;var g;a=sa(a);var h,p,q={};for(g in b)h=Ta(b[g]),p=a.getPropertyValue(g),p=!p||"none"===p?0:1*Ta(p)[2],q[g]={from:p,to:1*h[2]||0,prefix:h[1],suffix:h[3]};b=new d(e,q,c)}this.k.push(b)}function Ta(a){a=""+(a||"");return a.match(/^(.*?)([0-9\.]+)(.*)$/)}var Ua=L.$.ia,Sa=L.Animation||{},Ra=Sa.support,Qa={};
Ra&&L.cssease?Qa=L.cssease:L.ease&&(Qa=L.ease);Ua.animate=function(){this.k||(this.k=[]);return Ua.ra(this,Pa,arguments)};Ua.stop=function(){if(this.k){for(var a=0,b=this.k.length;a<b;a++)this.k[a].stop();this.k=t}return this};
L.HashQuery=G({extend:K,properties:{typeCast:function(a){var b=ba(a);return a===b&&(a=a.match("^[\"'](.*)[\"']$"))?a[1]:b},makeHash:function(a){var b="#"+a.mode;a=a.vars;var c="?",d;for(d in a)b+=c+d+"="+JSON.stringify(a[d]),c="&";return encodeURI(b)},setHash:function(a){location.hash=this.makeHash(a);return l},parseHash:function(a){var b,c,d,e;b=decodeURIComponent(a).split("#")[1];if(!b)return m;b=b.split("?");a=b[0];if(b[1]){c={};b=b[1].split("&");for(e=b.length;e--;)b[e]&&(d=b[e].split("="),c[d[0]]=
this.typeCast(d[1]))}return{mode:a,vars:c}},getHash:function(){return this.parseHash(location.hash)}}});L.Embed=function(a){if(!k["HTML"+a.type+"Element"])return m;for(var b=a.type.toLowerCase(),c=z(b),d=a.suffix,e,g=0,h=d.length;g<h;g++)if(c.canPlayType(b+"/"+d[g][1])){e=d[g][0];break}if(!e)return m;c.controls=a.controls?l:m;c.preload=a.preload||"auto";c.autoplay=a.autoplay?l:m;c.loop=a.loop?l:m;c.src=a.dir+a.name+"."+e;return c};
L.Media=G({extend:K,init:function(a){this._super();var b=this,c=a.autoplay,d=a.loop,e,g=a.element||v.body;a.preload="auto";a.autoplay=a.loop=m;switch(a.type){case "Audio":e=L.Audio(a);break;case "Video":e=L.Video(a)}b.g=e;if(!e)return m;if(c){var h;h=this.contract(e,"canplay",function(){b.uncontract(h);b.play()})}d&&this.loop(l);a.oncanplay&&this.contract(e,"canplay",a.oncanplay);a.onended&&this.contract(e,"ended",a.onended);g.appendChild(e)},properties:{dispose:function(){ta(this.g);this.d()},getElement:f("g"),
getCurrent:function(){return this.g.currentTime},getDuration:function(){return this.g.duration},setCurrent:function(a){this.g.currentTime=a},loop:function(a){var b=this;b.h&&(b.uncontract(b.h),delete b.h);a&&(b.h=b.contract(b.g,"ended",function(){b.stop();b.play()}))},autoplay:function(){},play:function(){this.g.play()},pause:function(){this.g.pause()},stop:function(){this.setCurrent(0);this.pause()}}});
L.Audio=function(a){a.type="Audio";a.suffix=a.suffix||[["mp3","mpeg"],["wav","wav"],["ogg","ogg"],["m4a","mp4"]];return new L.Embed(a)};L.Sound=function(a){a.type="Audio";return new L.Media(a)};L.Video=function(a){a.type="Video";a.suffix=a.suffix||[["webm","webm"],["mp4","mp4"],["ogv","ogg"]];return new L.Embed(a)};L.Movie=function(a){a.type="Video";return new L.Media(a)};
L.Ajax=G({extend:K,init:function(a){a&&this.request(a)},properties:{request:function(a){if("json"===a.dataType)return delete a.dataType,this.Sa(a);var b=a.url,c=a.callback||s,d=a.error||s,e=a.type||"GET",g="",h;a.cash||(a.query||(a.query={}),a.query["cirajaxcash"+Date.now()]="0");a.query&&(g=a.query,da(g)&&(g=n(g),g=encodeURI(g)));h=this.S=new XMLHttpRequest;h.onreadystatechange=function(){return 4!=h.readyState?m:200==h.status?c(h.responseText,h):d(h)};"GET"===e&&(b=-1!==b.indexOf("?")?b+"&":b+"?",
b+=g,g="");h.open(e,b);"POST"===e&&h.setRequestHeader("Content-Type","application/x-www-form-urlencoded");h.send(g)},abort:function(){this.S&&this.S.abort()},json:function(a){var b=a.callback,c=a.error;a.callback=function(a){b(JSON.parse(a))};a.error=function(a){c&&c(a)};this.request(a)}}});
L.Bind=G({extend:K,init:function(a){this.A=a;this.add()},properties:{dispose:function(){this.remove();this.d()},getHandler:f("A"),add:function(){this.V(l)},remove:function(){this.V(m)},V:function(a){a=a?A:B;for(var b in this.A.events)a(this.A.element,b,this.A.events[b])}}});
L.Brush=G({extend:K,init:function(a){this.p=a.canvas;this.ba=this.p.getContext("2d");this.setSize(a)},properties:{setSize:function(a){a.width&&(this.p.width=a.width);a.height&&(this.p.height=a.height)},pigment:function(a){var b=z("canvas"),c=z("img");c.onload=function(){b.width=a.width;b.height=a.height;b.getContext("2d").drawImage(c,0,0);a.onload(b,c)};c.src=a.src;return{image:b,x:a.x||0,y:a.y||0}},pigments:function(a,b){function c(a){var c=a.onload||s;a.onload=function(a,d){c(a,d);g--;0===g&&b(h)};
h[e]=d.pigment(a);g++}var d=this,e,g=0,h={};b=b||s;for(e in a)c(a[e]);return h},draw:function(a){var b=0,c=a.length,d;for(this.ba.clearRect(0,0,this.p.width,this.p.height);b<c;b++)d=a[b],this.ba.drawImage(d.image,d.x,d.y)}}});
L.DataStore=G({extend:K,init:function(a){a=a||{};if(a.single&&L.DataStore.b)return L.DataStore.b;this.data={};a.single&&(L.DataStore.b=this)},properties:{set:function(a,b){this.data[a]=b},get:function(a){var b={},c;if(a)return this.data[a];for(c in this.data)b[c]=this.data[c];return b},remove:function(a){if(!this.data[a])return m;delete this.data[a]},reset:function(){this.data={}}}});
L.WebStorage=G({extend:K,init:function(a){var b=a.type+"Storage";if(a.single&&L[b].b)return L[b].b;this.m=a.namespace?a.namespace+"-":"";this.f=k[a.type.toLowerCase()+"Storage"];a.single&&(L[b].b=this)},properties:{set:function(a,b){this.f.setItem(this.m+a,JSON.stringify(b));return l},get:function(a){var b={},c;if(a)return JSON.parse(this.f.getItem(this.m+a));for(c in this.f)this.m?(a=c.split(this.m)[1])&&(b[a]=JSON.parse(this.f[c])):b[c]=JSON.parse(this.f[c]);return b},remove:function(a){a=this.m+
a;if(!this.f.getItem(a))return m;this.f.removeItem(a);return l},reset:function(){if(!this.m)return this.f.clear(),l;for(var a in this.f)this.remove(a)}}});L.LocalStorage=function(a){a=a||{};a.type="Local";return new L.WebStorage(a)};L.SessionStorage=function(a){a=a||{};a.type="Session";return new L.WebStorage(a)};
L.Deferred=G({extend:K,init:function(){this.r=[]},properties:{isResolve:function(){return!this.r},resolve:function(a){if(this.isResolve())return this;var b=this.r,c=b.length,d=0;this.r=t;for(this.data=a;d<c;++d)b[d](a);return this},done:function(a){this.r?this.r.push(a):a(this.data);return this}}});
L.DragFlick=G({extend:K,init:function(a){this._super();a&&this.bind(a)},properties:{I:function(a){return a.changedTouches?a.changedTouches[0]:a},amount:function(a){var b=this,c,d,e=m;this.contract(a.element,I.switchdown,function(a){var h=b.I(a);c=h.pageX;d=h.pageY;e=l;ja(a)});this.contract(k,I.switchup,function(g){e&&(g=b.I(g),a.callback({x:g.pageX-c,y:g.pageY-d}),e=m)})},direction:function(a){this.amount({element:a.element,callback:function(b){var c=a.boundary||0,d={change:m,top:m,right:m,bottom:m,
left:m,amount:b};Math.abs(b.x)>c&&(0<b.x?d.right=l:0>b.x&&(d.left=l),d.change=l);Math.abs(b.y)>c&&(0<b.y?d.bottom=l:0>b.y&&(d.top=l),d.change=l);a.callback(d)}})},bind:function(a){function b(a,b,d){c.contract(a,b,function(a){d(c.I(a))})}var c=this,d=a.element,e=a.start||s,g=a.move||s,h=a.end||s,p=m,q=0,H=0;a.direction&&c.direction({element:d,boundary:a.boundary,callback:a.direction});b(d,I.switchdown,function(a){p=l;q=a.pageX;H=a.pageY;e({e:a,move:{x:q,y:H}})});b(v,I.switchmove,function(a){p&&g({e:a,
move:{x:a.pageX-q,y:a.pageY-H}})});b(v,I.switchup,function(a){p&&(h({e:a,move:{x:a.pageX-q,y:a.pageY-H}}),p=m)})}}});L.ExternalInterface=function(a){a=a||{};var b=L.ExternalInterface,c;if(a.single&&b.b)return b.b;c=a.android?new b.Android(a):new b.IOS(a);a.single&&(b.b=c);return c};
L.ExternalInterface.Android=G({extend:L.HashQuery,init:function(a){a=a||{};this.Aa=a.android;this.da=a.externalObj},properties:{call:function(a){this.Aa[a.mode](this.makeHash(a))},addCallback:function(a,b){var c=this;c.da[a]=function(a){a=c.parseHash(a);return b(a.vars)}},removeCallback:function(a){delete this.da[a]}}});
L.ExternalInterface.IOS=G({extend:L.HashQuery,init:function(){this.q={}},properties:{dispose:function(){for(var a in this.q)this.removeCallback(a);this.d()},call:function(a){this.setHash(a)},addCallback:function(a,b){var c=this;c.q[a]=function(){var d=c.getHash();return d.mode===a?(b(d.vars),l):m};A(k,"hashchange",c.q[a])},removeCallback:function(a){B(k,"hashchange",this.q[a]);delete this.q[a]}}});
L.Facebook=G({extend:K,properties:{G:"https://www.facebook.com/dialog/feed?",shareURL:function(a){var b=this.G+"app_id="+a.app_id+"&redirect_uri="+a.redirect_uri;return b+=n({link:a.link,picture:a.picture,name:a.name,caption:a.caption,description:a.description})}}});
L.FPS=G({extend:K,init:function(a){a=a||{};a.criterion||(a.criterion=20);if(a.single&&L.FPS.b)return L.FPS.b;this.O=this.w=a.criterion;this.Ga=a.enterframe;this.ja=this.W(this.w);this.n=this.K=this.h=0;a.manual||this.start();a.single&&(L.FPS.b=this)},properties:{dispose:function(){this.stop();this.d()},getCriterion:f("w"),getSurver:f("O"),getFrameTime:f("ja"),enter:function(){this.Ga({criterion:this.w,surver:this.O})},start:function(){this.n=Date.now();this.h=setInterval(this.ta,this.ja,this)},ta:function(a){a.K=
Date.now();a.O=a.W(a.K-a.n);a.n=a.K;a.enter()},W:function(a){return Math.round(1E3/a)},stop:function(){clearInterval(this.h)}}});
L.ImgLoad=G({extend:K,init:function(a){this._super();this.la=a.srcs;this.N=this.la.length;this.fa=[];this.z=[];this.va=a.onload||s;this.wa=a.onprogress||s;this.M=this.J=0;this.ma=m;a.manual||this.start()},properties:{oa:function(){this.J++;this.M=this.J/this.N;this.wa(this.M);if(this.J>=this.N){for(var a=this.z.length;a--;)this.uncontract(this.z[a]);this.z=[];this.va(this.fa)}},start:function(){function a(){b.oa()}if(this.ma)return m;this.ma=l;for(var b=this,c,d=0,e=b.N;d<e;d++)c=z("img"),c.src=b.la[d],
b.z.push(b.contract(c,I.load,a)),b.fa.push(c)},getProgress:f("M")}});L.WindowLoad=G({extend:K,init:function(a){this._super();if(a&&a.onload)this.onload(a.onload)},properties:{onload:function(a){var b=this,c;c=this.contract(k,I.load,function(){b.uncontract(c);a()})}}});
L.Mobile=G({extend:K,init:function(){this._super()},properties:{getZoom:function(){return v.body.clientWidth/k.innerWidth},isAndroid:function(a){return u(/Android/i,a)},isIOS:function(a){return u(/iPhone|iPad|iPod/i,a)},isWindows:function(a){return u(/IEMobile/i,a)},isFBAPP:function(a){return u(/FBAN/,a)},isMobile:function(){return this.isAndroid()||this.isIOS()||this.isWindows()||this.isFBAPP()},killScroll:function(a){if(this.B)return m;a||j();this.B=this.contract(v,I.touchmove,ja)},revivalScroll:function(a){if(!this.B)return m;
a||j();this.uncontract(this.B);delete this.B},hideAddress:function(){function a(){0===k.pageYOffset&&j()}function b(){setTimeout(a,100)}this.contract(k,I.load,b,m);this.contract(k,va,b,m)},getOrientation:function(){return 90!==Math.abs(k.orientation)&&k.innerWidth<k.innerHeight?{portrait:l,landscape:m}:{portrait:m,landscape:l}},bindOrientation:function(a){function b(a){h.push(g.contract(k,I.load,a));h.push(g.contract(k,va,a));h.push(g.contract(k,I.resize,a))}function c(){for(var a=h.length;a--;)g.uncontract(h[a]);
h=[]}function d(){e();c()}function e(){if(g.getOrientation().portrait)return a.portrait(),l;a.landscape()}var g=this,h=[];a.immediately&&e();if(a.one)return b(d),function(){c()};b(e);return function(){c()}}}});var Va="ondeviceorientation"in k;L.DeviceOrientation=Va?G({extend:K,init:function(){this._super()},properties:{bind:function(a){this.unbind();this.o=this.contract(k,"deviceorientation",a)},unbind:function(){this.o&&this.uncontract(this.o)}}}):{};L.DeviceOrientation.support=Va;
var Ya="ondevicemotion"in k;L.DeviceMotion=Ya?G({extend:K,init:function(){this._super()},properties:{bind:function(a){this.unbind();this.o=this.contract(k,"devicemotion",a)},unbind:function(){this.o&&this.uncontract(this.o)}}}):{};L.DeviceMotion.support=Ya;var Y,Za,$a=new C.Mobile;$a.isMobile()&&(L.DeviceOrientation.support?(Y=L.DeviceOrientation,Za=function(a){return a}):L.DeviceMotion.support&&(Y=L.DeviceMotion,Za=function(a){return a.rotationRate}));$a=$a.dispose();
Y?(L.DeviceShake=G({extend:K,init:function(a){this._super();this.aa=new Y;this.sa=a.limit;this.za=a.waittime;this.pa=a.callback;this.bind()},properties:{dispose:function(){this.unbind();this.d()},bind:function(){var a=this,b,c;a.aa.bind(function(d){d=Za(d);b||(b=d);c=Math.abs(d.beta-b.beta);c>a.sa&&(b=t,a.pa(d),setTimeout(function(){},a.za))})},unbind:function(){this.aa.unbind()}}}),L.DeviceShake.support=l):L.DeviceShake={support:m};
L.FontImg=G({extend:K,init:function(a){a=a||{type:""};this.type=a.type?a.type+"_":"";this.na=a.tag||"span"},properties:{make:function(a){a=(""+a).split("");var b="",c;for(c=a.length;c--;)b="<"+this.na+' class="font_'+this.type+a[c]+'">&nbsp;</'+this.na+">"+b;return b}}});
L.Observer=G({extend:K,init:function(a){a=a||{};if(a.single&&L.Observer.b)return L.Observer.b;this.L={};a.single&&(L.Observer.b=this)},properties:{on:function(a,b){var c=this.L;c[a]||(c[a]=[]);c[a].push(b)},one:function(a,b){function c(e){b(e);d.off(a,c)}var d=this;d.on(a,c)},off:function(a,b){var c=this.L;if(!b)return delete c[a],l;var d=c[a],e;if(!d)return m;for(e=d.length;e--;)if(b===d[e])return d.splice(e,1),0===d.length&&delete c[a],l;return m},fire:function(a,b){var c=this.L[a],d,e;if(!c)return m;
for(e=c.length;e--;)(d=c[e])&&d(b);return l}}});
L.PreRender=G({extend:K,init:function(a){a=a||{};a.loopblur||(a.loopblur=20);this.j=a.elements||[];this.ea=a.guesslimit||30;this.La=a.onrendered||s;this.ha=a.looptime||100;this.Ka=this.ha+a.loopblur;a.manual||this.start()},properties:{start:function(){var a;for(a=this.j.length;a--;)pa(this.j[a]);this.n=Date.now();this.h=setInterval(function(a){var c=Date.now(),d=c-a.n;a.n=c;if(d<a.Ka&&(a.ea--,1>a.ea)){clearInterval(a.h);for(c=a.j.length;c--;)qa(a.j[c]);a.La()}},this.ha,this)}}});
L.Route=G({extend:K,init:function(a){if(a.single&&L.Route.b)return L.Route.b;this.u=a.target||"";this.ua=a.noregex;this.s=a.action;a.manual||this.start();a.single&&(L.Route.b=this)},properties:{start:function(){this.fire(this.u)},fire:function(a){var b;if(this.ua&&this.s[a])return this.s[a](a);for(b in this.s)if(a.match(b))this.s[b](b)}}});
L.ScriptLoad=G({extend:K,init:function(){this._super();this.j=[]},properties:{requests:function(a,b){function c(c){var g=a[c].callback;a[c].callback=function(a){g(a);e--;0===e&&b(d.j)};d.request(a[c])}for(var d=this,e=0,g=a.length;e<g;e++)c(e)},request:function(a){var b=this,c=z("script"),d;c.src=a.src;v.body.appendChild(c);b.j.push(c);a.callback&&(d=b.contract(c,I.load,function(){b.uncontract(d);a.callback.apply(this,arguments)}))}}});function Z(a){return ab?$.getResponseHeader(a):m}
function bb(a){var b=new XMLHttpRequest;b.onload=function(){a(b)};b.open("HEAD",location.href+"?update"+Date.now()+"=1");b.send(t);return b}var $,ab=m;
L.ServerMeta=G({extend:K,init:function(a){a=a||{};var b=a.callback||s;$?b($):$=bb(function(){ab=l;b($)})},properties:{date:function(a){return bb(function(b){b=new Date(b.getResponseHeader("Date"));a(b)})},connection:function(){return Z("Connection")},contentLength:function(){return Z("Content-Length")},lastModified:function(){return Z("Last-Modified")},server:function(){return Z("Server")},contentType:function(){return Z("Content-Type")},acceptRanges:function(){return Z("Accept-Ranges")},keepAlive:function(){return Z("Keep-Alive")}}});
L.Surrogate=G({extend:K,init:function(a){this.Da=a.delay;this.v=a.callback},properties:{dispose:function(){this.clear();this.d()},request:function(a){this.Ba=a;this.clear();this.R=setTimeout(this.flush,this.Da,this)},flush:function(a){a=a||this;a.v(a.Ba)},clear:function(){clearInterval(this.R)}}});
L.Throttle=G({extend:K,init:function(a){this.Na=a.waittime;this.v=a.callback},properties:{dispose:function(){this.unlock();this.d()},request:function(a){var b=this;if(b.ga)return b.Q=a,m;b.v(a);b.lock();b.R=setTimeout(function(){b.Q&&(b.v(b.Q),b.Q=t);b.unlock()},b.Na,b)},lock:function(){this.ga=l},unlock:function(a){a=a||this;a.ga=m;clearInterval(a.R)}}});
L.Timer=function(a){function b(){P=Date.now();var a=g-(P-za)/1E3;0>a&&(a=0);Da=c(a);q(Da);if(P>Aa)return Wa.stop(),H(),l;Xa=setTimeout(b,p);return m}function c(a){var b;b=(""+a).split(".");a=b[0];b=b[1]?b[1]:"";a=d({ka:a,ca:ya.Ia});b=d({ka:b,ca:ya.Ha,Ja:l});return a+"."+b}function d(a){var b=""+a.ka,c=a.ca,d=c-b.length;return!a.Ja?-1<d?e(d,0)+b:e(c,9):0<d?b+e(d,0):b.slice(0,c)}function e(a,b){var c="";for(b=""+b;0<a;)c+=b,a--;return c}var g=a.limit,h=1E3*g,p=1E3*a.interval,q=a.onupdate,H=a.ontimeup,
ya;a=a.template.split(".");ya={Ia:a[0].length,Ha:a[1].length};var za=0,P=0,Aa=h,Da=c(g),Xa,Wa={getLimit:function(){return g},getTime:function(){return Da},getProgress:function(){return 1-(Aa-P)/h},setUpdate:function(a){q=a},setTimeup:function(a){H=a},countDown:function(){P=za=Date.now();Aa=za+h;b()},stop:function(){clearInterval(Xa)}};return Wa};
L.Twitter=G({extend:K,properties:{G:"https://twitter.com/intent/tweet?",shareURL:function(a){var b=a.caption||"",c=a.name,d=a.hash,e=this.G;return e+=n({url:a.redirect_uri,text:b+(c?" \u300c"+c+"\u300d":"")+(d?" "+d:"")})}}});L.XML=G({extend:K,init:function(a){this.a=z("div");this.T={};a&&a.data&&this.setData(a.data)},properties:{getData:f("T"),setData:function(a){this.T=this.a.innerHTML=a},$:function(a){return this.a.querySelector(a)},$$:function(a){return la(a,this.a)}}});
}());
