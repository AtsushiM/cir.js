var C={};
(function(f,j){function q(){f.scrollTo(0,1)}function A(a,b){for(var c in b)a[c]=b[c];return a}function w(a){var b=""+a;return b.match("^{.*}$")?JSON.parse(b):b.match("^[0-9.]+$")?1*b:"true"===b?!0:"false"===b?!1:a}function r(a){var b="",c="",d;for(d in a)a[d]&&(c+=b+d+"="+encodeURIComponent(a[d]),b="&");return c}function o(a,b){return Object.prototype.toString.call(b)==="[object "+a+"]"?!0:!1}function x(a){return o("Object",a)}function B(a){return o("Number",a)}function D(a){return o("String",a)}
function y(a){return o("Function",a)}function E(){return"ontouchstart"in f}function l(){return null}function z(a,b){var c=b.querySelectorAll(a),d=[];d.push.apply(d,c);return d}function s(a,b){for(var c=a.className,c=c?c.split(" "):[],d=0,e=c.length;d<e;d++)if(b&&b===c[d])return!0;return!1}function F(a,b){var c="";if(s(a,b))return!1;a.className&&(c=" ");a.className=a.className+c+b;return!0}function G(a,b){var c,d=[],e,h;if(!s(a,b))return!1;c=a.className.split(" ");e=0;for(h=c.length;e<h;e++)b!==c[e]&&
d.push(c[e]);a.className=d.join(" ");return!0}function H(a,b,c){var d;if(x(b)){for(d in b)a.setAttribute(d,b[d]);return!0}return c||""===c?a.setAttribute(b,c):a.getAttribute(b)}function m(a,b){var c=j.createElement(a);b&&H(c,b);return c}function n(a,b,c){a.addEventListener(b,c)}function p(a,b,c){a.removeEventListener(b,c)}function I(a){a.style.display="block"}function J(a){a.style.display="none"}function K(a){return j.defaultView.getComputedStyle(a,null)}var e=C;Date.now||(Date.now=function(){return+new Date});
e.utility={win:f,doc:j,pageTop:q,override:A,replaceAll:function(a,b,c){return a.split(b).join(c)},windowOpen:function(a,b){return f.open(a,b)},typeCast:w,makeQueryString:r,parseQueryString:function(a){var a=a.replace(/^\#/,"").replace(/^\?/,""),a=a.split("&"),b,c,d={};for(b=a.length;b--;){c=a[b].split("=");d[c[0]]=w(decodeURIComponent(c[1]))}return d},is:o,isObject:x,isNumber:B,isString:D,isFunction:y,isBoolean:function(a){return o("Boolean",a)},isTouchDevice:E,nullFunction:l};e.element={$:function(a){return j.querySelector(a)},
$$:function(a){return z(a,j)},$child:function(a,b){return b.querySelector(a)},$$child:z,$id:function(a){return j.getElementById(a)},on:n,off:p,create:m,show:I,hide:J,opacity:function(a,b){a.style.opacity=b},hasClass:s,addClass:F,removeClass:G,toggleClass:function(a,b){return s(a,b)?G(a,b):F(a,b)},css:function(a,b){var c=a.style,d,e,h;for(d in b){e=d;h=b[d];B(h)&&(h=h+"px");c[e]=h}},computedStyle:K,append:function(a,b){a.appendChild(b)},attr:H,removeAttr:function(a,b){a.removeAttribute(b)},html:function(a,
b){if(!b)return a.innerHTML;a.innerHTML=b}};e.klass=function(a){var b=a.init||function(){},c=a.properties;(a=a.extend)&&e.extend(b,a);A(b.prototype,c);return b};e.extend=function(a,b){function c(){this.init=a}c.prototype=b.prototype;a.prototype=new c;var d=a.prototype;d._superclass=b;d._super=function(){var a=this._prevctor,a=a?a.prototype._superclass:this._prevctor=b;a.apply(this,arguments)}};e.$=function(a,b){var c=e.$,d,k,h=0,g,b=b||j;if(D(a))d=b.querySelectorAll(a);else{d=[a];a=""}g=d.length;
k=function(){};k.prototype=c.methods;c=new k;c.length=g;c._selector=a;for(c._parent=b;h<g;h++)c[h]=d[h];return c};(function(){function a(a,b,d){for(var e=0,i=a.length,d=c(d);e<i;e++){d[0]=a[e];b.apply(a,d)}return a}function b(a,b,d){d=c(d);d[0]=a[0];return b.apply(null,d)}function c(a){var b=[null];b.push.apply(b,a);return b}var d=e.element;e.$.methods={_forexe:a,_exe:b,_argary:c,querySelectorAll:function(a){return this[0].querySelectorAll(a)},find:function(a){return e.$(a,this._parent)},parent:function(){return e.$(this[0].parentNode)},
on:function(){return a(this,d.on,arguments)},off:function(){return a(this,d.off,arguments)},show:function(){return a(this,d.show)},hide:function(){return a(this,d.hide)},opacity:function(){return a(this,d.opacity,arguments)},hasClass:function(){return b(this,d.hasClass,arguments)},addClass:function(){return a(this,d.addClass,arguments)},removeClass:function(){return a(this,d.removeClass,arguments)},toggleClass:function(){return a(this,d.toggleClass,arguments)},css:function(){return a(this,d.css,arguments)},
html:function(){return b(this,d.html,arguments)},attr:function(){return b(this,d.attr,arguments)},removeAttr:function(){return a(this,d.removeAttr,arguments)},append:function(){return a(this,d.append,arguments)}}})();(function(){function a(a,c,d,f,i){if(y(d)){i=d;d=null}if(y(f)&&!i){i=f;f=null}this._animate.push(new e.Tweener(a.style,b(a,c),{duration:d,ease:f,onComplete:i}))}function b(a,b){var d,e=K(a),f,j={};for(d in b){f=c(b[d]);j[d]={from:c(e.getPropertyValue(d))[1]*1||0,to:f[1]*1||0,suffix:f[2]}}return j}
function c(a){return(""+(a||"")).match(/^([0-9\.]+)(.*)/)}var d=e.$.methods;d.animate=function(){if(!this._animate)this._animate=[];return d._forexe(this,a,arguments)};d.stop=function(){if(this._animate){for(var a=this._animate,b=0,c=a.length;b<c;b++)a[b].stop();this._animate=null}return this}})();e.ease={inCubic:function(a,b,c,d){return c*Math.pow(a/d,3)+b},outCubic:function(a,b,c,d){return c*(Math.pow(a/d-1,3)+1)+b},inOutCubic:function(a,b,c,d){return(a=a/(d/2))<1?c/2*Math.pow(a,3)+b:c/2*(Math.pow(a-
2,3)+2)+b},inQuart:function(a,b,c,d){return c*Math.pow(a/d,4)+b},outQuart:function(a,b,c,d){return-c*(Math.pow(a/d-1,4)-1)+b},inOutQuart:function(a,b,c,d){return(a=a/(d/2))<1?c/2*Math.pow(a,4)+b:-c/2*(Math.pow(a-2,4)-2)+b},inQuint:function(a,b,c,d){return c*Math.pow(a/d,5)+b},outQuint:function(a,b,c,d){return c*(Math.pow(a/d-1,5)+1)+b},inOutQuint:function(a,b,c,d){return(a=a/(d/2))<1?c/2*Math.pow(a,5)+b:c/2*(Math.pow(a-2,5)+2)+b},inSine:function(a,b,c,d){return c*(1-Math.cos(a/d*(Math.PI/2)))+b},
outSine:function(a,b,c,d){return c*Math.sin(a/d*(Math.PI/2))+b},inOutSine:function(a,b,c,d){return c/2*(1-Math.cos(Math.PI*a/d))+b},inExpo:function(a,b,c,d){return c*Math.pow(2,10*(a/d-1))+b},outExpo:function(a,b,c,d){return c*(-Math.pow(2,-10*a/d)+1)+b},inOutExpo:function(a,b,c,d){return(a=a/(d/2))<1?c/2*Math.pow(2,10*(a-1))+b:c/2*(-Math.pow(2,-10*--a)+2)+b},inCirc:function(a,b,c,d){return c*(1-Math.sqrt(1-(a=a/d)*a))+b},outCirc:function(a,b,c,d){return c*Math.sqrt(1-(a=a/d-1)*a)+b},inOutCirc:function(a,
b,c,d){return(a=a/(d/2))<1?c/2*(1-Math.sqrt(1-a*a))+b:c/2*(Math.sqrt(1-(a=a-2)*a)+1)+b},inQuad:function(a,b,c,d){return c*(a=a/d)*a+b},outQuad:function(a,b,c,d){return-c*(a=a/d)*(a-2)+b},inOutQuad:function(a,b,c,d){return(a=a/(d/2))<1?c/2*a*a+b:-c/2*(--a*(a-2)-1)+b}};var u=E();e.Event=e.klass({init:function(a){a=a||{};if(a.single&&e.Event.instance)return e.Event.instance;if(a.single)e.Event.instance=this},properties:{switchclick:u?"touchstart":"click",switchdown:u?"touchstart":"mousedown",switchmove:u?
"touchmove":"mousemove",switchup:u?"touchend":"mouseup",load:"load",change:"change",hashchange:"hashchange",click:"click",mousedown:"mousedown",mousemove:"mousemove",mouseup:"mouseup",touchstart:"touchstart",touchmove:"touchmove",touchend:"touchend",orientationchange:"orientationchange",resize:"resize"}});e.Event.instance=null;e.event=new e.Event;e.HashController=e.klass({properties:{typeCast:function(a){var b=w(a);if(a===b)if(a=a.match("^[\"'](.*)[\"']$"))return a[1];return b},makeHash:function(a){var b=
"#"+a.mode,a=a.vars,c="?",d;for(d in a){b=b+(c+d+"="+JSON.stringify(a[d]));c="&"}return encodeURI(b)},setHash:function(a){location.hash=this.makeHash(a);return true},parseHash:function(a){var b,c,d,e;b=decodeURIComponent(a).split("#")[1];if(!b)return false;b=b.split("?");a=b[0];if(b[1]){c={};b=b[1].split("&");for(e=b.length;e--;)if(b[e]){d=b[e].split("=");c[d[0]]=this.typeCast(d[1])}}return{mode:a,vars:c}},getHash:function(){return this.parseHash(location.hash)}}});e.Ajax=e.klass({init:function(){this.xhr=
new XMLHttpRequest},properties:{request:function(a){var b=a.url,c=a.callback||l,d=a.error||l,e=a.type||"GET",h="",g;if(!a.cash){if(!a.query)a.query={};a.query["ajaxcash"+Date.now()]="0"}if(a.query){h=a.query;if(x(h)){h=r(h);h=encodeURI(h)}}g=this.xhr=new XMLHttpRequest;g.onreadystatechange=function(){return g.readyState!=4?false:g.status==200?c(g.responseText,g):d(g)};g.open(e,b);e==="POST"&&g.setRequestHeader("Content-Type","application/x-www-form-urlencoded");g.send(h)},abort:function(){this.xhr.abort()},
getJSON:function(a){var b=a.callback,c=a.error;a.callback=function(a){b(JSON.parse(a))};a.error=function(a){c&&c(a)};this.request(a)}}});e.Bind=e.klass({init:function(a){this.handler=a;this.add()},properties:{getHandler:function(){return this.handler},add:function(){return this._exe(true)},remove:function(){return this._exe(false)},_exe:function(a){var a=a?n:p,b;for(b in this.handler.events)a(this.handler.element,b,this.handler.events[b]);return this.handler}}});e.CanvasImg=function(a){var b=m("canvas"),
c=m("img"),d=a.src,e=a.width,h=a.height,g=a.onload;c.onload=function(){b.width=e;b.height=h;b.getContext("2d").drawImage(c,0,0);g(b,c)};c.src=d;return b};e.CanvasRender=e.klass({init:function(a){this.canvas=a.canvas;this.ctx=this.canvas.getContext("2d");this.canvasWidth=this.canvas.width;this.canvasHeight=this.canvas.height;this.setSize(a)},properties:{setSize:function(a){if(a.width)this.canvas.width=this.canvasWidth=a.width;if(a.height)this.canvas.height=this.canvasHeight=a.height},draw:function(a){this.ctx.clearRect(0,
0,this.canvasWidth,this.canvasHeight);for(var b=0,c=a.length,d;b<c;b++){d=a[b];this.ctx.drawImage(d.image,d.x,d.y)}}}});e.DataStore=e.klass({init:function(a){a=a||{};if(a.single&&e.DataStore.instance)return e.DataStore.instance;this.d={};if(a.single)e.DataStore.instance=this},properties:{set:function(a,b){this.d[a]=b;return true},get:function(a){var b=this.d;if(a)return b[a];var a={},c;for(c in b)a[c]=b[c];return a},remove:function(a){var b=this.d;if(!b[a])return false;delete b[a];return true},reset:function(){this.d=
{};return true}}});e.DataStore.instance=null;e.Deferred=e.klass({init:function(){this.queue=[];this.data=null},properties:{isResolve:function(){return!this.queue},resolve:function(a){if(this.isResolve())return this;var b=this.queue,c=b.length,d=0;this.queue=null;for(this.data=a;d<c;++d)b[d](a);return this},done:function(a){this.queue?this.queue.push(a):a(this.data);return this}}});e.DragFlick=e.klass({init:function(a){a&&this.bind(a)},properties:{_getEventTarget:function(a){return a.changedTouches?
a.changedTouches[0]:a},amount:function(a){var b=this,c,d,k=false;n(a.element,e.event.switchdown,function(a){var e=b._getEventTarget(a);c=e.pageX;d=e.pageY;k=true;a.preventDefault()});n(f,e.event.switchup,function(e){if(k){e=b._getEventTarget(e);a.callback({x:e.pageX-c,y:e.pageY-d});k=false}})},direction:function(a){this.amount({element:a.element,callback:function(b){var c=a.boundary||0,d={change:false,top:false,right:false,bottom:false,left:false,amount:b};if(Math.abs(b.x)>c){if(b.x>0)d.right=true;
else if(b.x<0)d.left=true;d.change=true}if(Math.abs(b.y)>c){if(b.y>0)d.bottom=true;else if(b.y<0)d.top=true;d.change=true}a.callback(d)}})},bind:function(a){function b(a,b,d){n(a,b,function(a){a=c._getEventTarget(a);d(a)})}var c=this,d=a.element,k=e.event,h=a.start||l,g=a.move||l,f=a.end||l,i=false,t=0,v=0;a.direction&&c.direction({element:d,boundary:a.boundary,callback:a.direction});b(d,k.switchdown,function(a){i=true;t=a.pageX;v=a.pageY;h({e:a,move:{x:t,y:v}})});b(j,k.switchmove,function(a){i&&
g({e:a,move:{x:a.pageX-t,y:a.pageY-v}})});b(j,k.switchup,function(a){if(i){f({e:a,move:{x:a.pageX-t,y:a.pageY-v}});i=false}})}}});e.ExternalInterface=function(a){var a=a||{},b;if(a.single&&e.ExternalInterface.instance)return e.ExternalInterface.instance;b=a.android?new e.ExternalInterface.Android(a):new e.ExternalInterface.IOS(a);if(a.single)e.ExternalInterface.instance=b;return b};e.ExternalInterface.instance=null;e.ExternalInterface.Android=e.klass({init:function(a){a=a||{};this.android=a.android;
this.externalObj=a.externalObj;if(!this.externalObj){e.EXTERNAL_ANDROID={};this.externalObj=e.EXTERNAL_ANDROID}},extend:e.HashController,properties:{call:function(a){this.android[a.mode](this.makeHash(a))},addCallback:function(a,b){var c=this;c.externalObj[a]=function(a){a=c.parseHash(a);return b(a.vars)}},removeCallback:function(a){delete this.externalObj[a]}}});e.ExternalInterface.IOS=e.klass({init:function(){this.ios={}},extend:e.HashController,properties:{call:function(a){this.setHash(a)},addCallback:function(a,
b){var c=this;c.ios[a]=function(){var d=c.getHash();if(d.mode===a){b(d.vars);return true}return false};f.addEventListener(e.event.hashchange,this.ios[a])},removeCallback:function(a){f.removeEventListener(e.event.hashchange,this.ios[a]);delete this.ios[a]}}});e.Facebook=e.klass({properties:{_b:"https://www.facebook.com/dialog/feed?",getShareURL:function(a){var b=this._b+"app_id="+a.app_id+"&redirect_uri="+a.redirect_uri;return b=b+r({link:a.link,picture:a.picture,name:a.name,caption:a.caption,description:a.description})}}});
(function(){function a(c){if(c.nexttime<=Date.now()){b(c);c.nexttime=c.nowtime+c.msecFrame}c.loopid===1&&d(function(){a(c)})}function b(a){a.nowtime=Date.now();a.surver=Math.round(1E3/(a.nowtime-a.prevtime));a.prevtime=a.nowtime;a.enter()}var c,d=f.requestAnimationFrame||f.webkitRequestAnimationFrame||f.mozRequestAnimationFrame||f.oRequestAnimationFrame||f.msRequestAnimationFrame||false;e.FPS=e.klass({init:function(a){a=a||{};if(!a.criterion)a.criterion=20;if(a.single&&c)return c;this.surver=this.criterion=
a.criterion;this.enterframe=a.enterframe;this.msecFrame=Math.round(1E3/this.criterion);this.prevtime=this.nowtime=this.nexttime=this.loopid=0;a.manual||this.start();a.single&&(c=this)},properties:{getCriterion:function(){return this.criterion},getSurver:function(){return this.surver},getFrameTime:function(){return this.msecFrame},enter:function(){this.enterframe({criterion:this.criterion,surver:this.surver})},start:function(){this.prevtime=Date.now();this.nexttime=this.prevtime+this.msecFrame;if(d){this.loopid=
1;a(this)}else this.loopid=setInterval(b,this.msecFrame,this)},stop:function(){clearInterval(this.loopid);this.loopid=0}}})})();e.ImgLoad=e.klass({init:function(a){this.srcs=a.srcs;this.srccount=this.srcs.length;this.loadedsrcs=[];this.onload=a.onload||l;this.onprogress=a.onprogress||l;this.progress=this.loadcount=0;this.started=false;a.manual||this.start()},properties:{_c:function(){this.loadcount++;this.progress=this.loadcount/this.srccount;this.onprogress(this.progress);if(this.loadcount>=this.srccount)this.onload(this.loadedsrcs)},
start:function(){if(this.started)return false;this.started=true;var a=this,b,c,d;c=0;for(d=a.srccount;c<d;c++){b=m("img");b.src=a.srcs[c];n(b,e.event.load,function(){a._c()});a.loadedsrcs.push(b)}},getProgress:function(){return this.progress}}});e.WindowLoad=e.klass({init:function(a){if(a&&a.onload)this.onload(a.onload)},properties:{onload:function(a){f.addEventListener(e.event.load,a)}}});e.LocalStorage=e.klass({init:function(a){a=a||{};if(a.single&&e.LocalStorage.instance)return e.LocalStorage.instance;
this._n=a.namespace?a.namespace+"-":"";if(a.single)e.LocalStorage.instance=this},properties:{_s:f.localStorage,set:function(a,b){this._s.setItem(this._n+a,JSON.stringify(b));return true},get:function(a){if(a)return JSON.parse(this._s.getItem(this._n+a));var b={},c;for(c in this._s)if(this._n)(a=c.split(this._n)[1])&&(b[a]=JSON.parse(this._s[c]));else b[c]=JSON.parse(this._s[c]);return b},remove:function(a){a=this._n+a;if(!this._s.getItem(a))return false;this._s.removeItem(a);return true},reset:function(){if(!this._n){this._s.clear();
return true}for(var a in this._s)this.remove(a)}}});e.LocalStorage.instance=null;(function(){function a(a){a.preventDefault();return false}function b(a,b){a=a?a:k;return a.match(b)?true:false}function c(){f.pageYOffset===0&&q()}function d(){setTimeout(c,100)}var k=navigator.userAgent;e.Mobile=e.klass({properties:{isAndroid:function(a){return b(a,/Android/i)},isIOS:function(a){return b(a,/iPhone|iPad|iPod/i)},isWindows:function(a){return b(a,/IEMobile/i)},isFBAPP:function(a){return b(a,/FBAN/)},isMobile:function(){return this.isAndroid()||
this.isIOS()||this.isWindows()||this.isFBAPP()},killScroll:function(b){b||q();j.addEventListener(e.event.touchmove,a)},revivalScroll:function(b){b||q();j.removeEventListener(e.event.touchmove,a)},hideAddress:function(){f.addEventListener(e.event.load,d);f.addEventListener(e.event.orientationchange,d)},getOrientation:function(){return Math.abs(f.orientation)!==90&&f.innerWidth<f.innerHeight?{portrait:true,landscape:false}:{portrait:false,landscape:true}},bindOrientation:function(a){function b(a,c){a(f,
e.event.load,c);a(f,e.event.orientationchange,c);a(f,e.event.resize,c)}function c(){d();b(p,c)}function d(){if(k.getOrientation().portrait){a.portrait();return true}a.landscape()}var k=this;a.immediately&&d();if(a.one){b(n,c);return function(){b(p,c)}}b(n,d);return function(){b(p,d)}}}})})();e.FontImg=e.klass({init:function(a){a=a||{type:""};this.type=a.type?a.type+"_":""},properties:{make:function(a){var a=(""+a).split(""),b="",c;for(c=a.length;c--;)b='<span class="font_'+(this.type+a[c])+'">&nbsp;</span>'+
b;return b}}});e.Observer=e.klass({init:function(a){a=a||{single:false};if(a.single&&e.Observer.instance)return e.Observer.instance;this.observed={};if(a.single)e.Observer.instance=this},properties:{getObserved:function(){return this.observed},on:function(a,b){var c=this.observed;c[a]||(c[a]=[]);c[a].push(b)},one:function(a,b){var c=this,d=function(e){b(e);c.off(a,d)};c.on(a,d)},off:function(a,b){var c=this.observed;if(!b){delete c[a];return true}var d=c[a],e;if(!d)return false;for(e=d.length;e--;)if(b===
d[e]){d.splice(e,1);d.length===0&&delete c[a];return true}return false},fire:function(a,b){var c=this.observed[a],d,e;if(!c)return false;for(e=c.length;e--;)(d=c[e])&&d(b);return true}}});e.Observer.instance=null;e.PreRender=e.klass({init:function(a){a=a||{};if(!a.loopblur)a.loopblur=20;this.elements=a.elements||[];this.guesslimit=a.guesslimit||30;this.onrendered=a.onrendered||l;this.looptime=a.looptime||100;this.loopblur=this.looptime+a.loopblur;this.loopid=this.prevtime=null;a.manual||this.start()},
properties:{start:function(){var a;for(a=this.elements.length;a--;)I(this.elements[a]);this.prevtime=Date.now();this.loopid=setInterval(function(a){var c=Date.now(),d=c-a.prevtime;a.prevtime=c;if(d<a.loopblur){a.guesslimit--;if(a.guesslimit<1){clearInterval(a.loopid);for(c=a.elements.length;c--;)J(a.elements[c]);a.onrendered()}}},this.looptime,this)}}});e.Route=e.klass({init:function(a){if(a.single&&e.Route.instance)return e.Route.instance;this.target=a.target||"";this.noregex=a.noregex;this.action=
a.action;a.manual||this.start();if(a.single)e.Route.instance=this},properties:{start:function(){this.fire(this.target)},fire:function(a){var b;if(this.noregex&&this.action[a])return this.action[a]();for(b in this.action)if(a.match(b))this.action[b]()}}});e.ScriptLoad=e.klass({properties:{requests:function(a){for(var b=0,c=a.length;b<c;b++)this.request(a[b])},request:function(a){var b=m("script");b.type="text/javascript";b.src=a.src;j.body.appendChild(b);a.callback&&b.addEventListener(e.event.load,
a.callback)}}});(function(){function a(a){return d?c.getResponseHeader(a):false}function b(a){var b=new XMLHttpRequest;b.onload=function(){a(b)};b.open("HEAD",location.href+"?update"+Date.now()+"=1");b.send(null);return b}var c,d=false;e.ServerMeta=e.klass({init:function(a){var a=a||{},e=a.callback||l;c?e(c):c=b(function(){d=true;e(c)})},properties:{date:function(a){return b(function(b){b=new Date(b.getResponseHeader("Date"));a(b)})},connection:function(){return a("Connection")},contentLength:function(){return a("Content-Length")},
lastModified:function(){return a("Last-Modified")},server:function(){return a("Server")},contentType:function(){return a("Content-Type")},acceptRanges:function(){return a("Accept-Ranges")},keepAlive:function(){return a("Keep-Alive")}}})})();e.SessionStorage=e.klass({init:function(a){a=a||{};if(a.single&&e.SessionStorage.instance)return e.SessionStorage.instance;this._n=a.namespace?a.namespace+"-":"";if(a.single)e.SessionStorage.instance=this},properties:{_s:f.sessionStorage,set:function(a,b){this._s.setItem(this._n+
a,JSON.stringify(b));return true},get:function(a){if(a)return JSON.parse(this._s.getItem(this._n+a));var b={},c;for(c in this._s)if(this._n)(a=c.split(this._n)[1])&&(b[a]=JSON.parse(this._s[c]));else b[c]=JSON.parse(this._s[c]);return b},remove:function(a){a=this._n+a;if(!this._s.getItem(a))return false;this._s.removeItem(a);return true},reset:function(){if(!this._n){this._s.clear();return true}for(var a in this._s)this.remove(a)}}});e.SessionStorage.instance=null;e.Surrogate=e.klass({init:function(a){this.delay=
a.delay;this.callback=a.callback;this.waitid=this.args=null},properties:{request:function(a){this.args=a;this.clear();this.waitid=setTimeout(this.flush,this.delay,this)},flush:function(a){a=a||this;a.callback(a.args)},clear:function(){clearInterval(this.waitid)}}});e.Throttle=e.klass({init:function(a){this.waittime=a.waittime;this.callback=a.callback;this.locked=false;this.waitarg=this.waitid=null},properties:{request:function(a){var b=this;if(b.locked){b.waitarg=a;return false}b.callback(a);b.lock();
b.waitid=setTimeout(function(){if(b.waitarg){b.callback(b.waitarg);b.waitarg=null}b.unlock()},b.waittime,b)},lock:function(){this.locked=true},unlock:function(a){a=a||this;a.locked=false;clearInterval(a.waitid)}}});e.Timer=function(a){function b(){m=Date.now();var a=f-(m-o)/1E3;a<0&&(a=0);q=c(a);i(q);if(m>p){s.stop();l();return true}r=setTimeout(b,j);return false}function c(a){var b;b=(""+a).split(".");a=b[0];b=b[1]?b[1]:"";a=d({num:a,digit:n.integer});b=d({num:b,digit:n.few,isFew:true});return a+
"."+b}function d(a){var b=""+a.num,c=a.digit,d=c-b.length;return!a.isFew?d>-1?e(d,0)+b:e(c,9):d>0?b+e(d,0):b.slice(0,c)}function e(a,b){for(var c="",b=""+b;a>0;){c=c+b;a--}return c}var f=a.limit,g=f*1E3,j=a.interval*1E3,i=a.onupdate,l=a.ontimeup,n=function(a){a=a.split(".");return{integer:a[0].length,few:a[1].length}}(a.template),o=0,m=0,p=g,q=c(f),r,s={getLimit:function(){return f},getTime:function(){return q},getProgress:function(){return 1-(p-m)/g},setUpdate:function(a){i=a},setTimeup:function(a){l=
a},countDown:function(){m=o=Date.now();p=o+g;b()},stop:function(){clearInterval(r)}};return s};e.Tweener=e.klass({init:function(a,b,c){var d,c=c||{};this.target=a;this.property=[];for(d in b){a=b[d];a.name=d;a.distance=a.to-a.from;a.prefix=a.prefix||"";a.suffix=a.suffix||"px";this.property.push(a)}this.duration=c.duration||e.Tweener.Duration;this.ease=c.ease||this._ease;this.onComplete=c.onComplete;this.begin=Date.now();e.Tweener.Items.push(this);e.Tweener.timerId||this.start()},properties:{_ease:function(a,
b,c,d){return c*a/d+b},_requestAnimationFrame:function(){return f.requestAnimationFrame?function(a){requestAnimationFrame(a)}:f.webkitRequestAnimationFrame?function(a){webkitRequestAnimationFrame(a)}:f.mozRequestAnimationFrame?function(a){mozRequestAnimationFrame(a)}:f.oRequestAnimationFrame?function(a){oRequestAnimationFrame(a)}:f.msRequestAnimationFrame?function(a){msRequestAnimationFrame(a)}:function(a){setTimeout(a,1E3/e.Tweener.FPS)}}(),loop:function(){for(var a=this,b=e.Tweener.Items,c,d=Date.now(),
f,h=b.length,g,j,i;h--;){c=b[h];j=c.property.length;f=d-c.begin;if(f<c.duration)for(g=0;g<j;g++){i=c.property[g];e.Tweener._setProp(c.target,i,c.ease(f,i.from,i.distance,c.duration))}else{for(g=0;g<j;g++){i=c.property[g];e.Tweener._setProp(c.target,i,i.to)}if(c.onComplete)c.onComplete();b.splice(h,1)}}if(b.length){a._requestAnimationFrame(function(){a.loop()});return true}this.stop()},start:function(){var a=this;e.Tweener.timerId=1;a._requestAnimationFrame(function(){a.loop()})},stop:function(){e.Tweener.Items=
[];clearInterval(e.Tweener.timerId);e.Tweener.timerId=null}}});e.Tweener._setProp=function(a,b,c){a[b.name]=b.prefix+c+b.suffix};e.Tweener.timerId=null;e.Tweener.Items=[];e.Tweener.FPS=30;e.Tweener.Duration=500;e.Twitter=e.klass({properties:{_b:"https://twitter.com/intent/tweet?",getShareURL:function(a){var b=a.redirect_uri,c=a.caption||"",d=a.name||"",a=a.hash||"",e=this._b;return e=e+r({url:b,text:c+(d?" \u300c"+d+"\u300d":"")+(a?" "+a:"")})}}});e.XML=e.klass({init:function(a){this.element=m("div");
this.data={};a&&a.data&&this.setData(a.data)},properties:{getData:function(){return this.data},setData:function(a){this.data=this.element.innerHTML=a},$:function(a){return this.element.querySelector(a)},$$:function(a){return z(a,this.element)}}})})(window,document);
