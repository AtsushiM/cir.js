var C={};
(function(h,p){function L(){h.scrollTo(0,1)}function S(a,b){for(var c in b)a[c]=b[c];return a}function T(a){var b=""+a;return b.match("^{.*}$")?JSON.parse(b):b.match("^[0-9.]+$")?1*b:"true"===b?!0:"false"===b?!1:a}function U(a,b,c){return a.split(b).join(c)}function M(a){var b="",c="",d;for(d in a)a[d]&&(c+=b+d+"="+encodeURIComponent(a[d]),b="&");return c}function x(a,b){return Object.prototype.toString.call(b)==="[object "+a+"]"?!0:!1}function V(a){return x("Object",a)}function W(a){return x("Number",a)}
function na(a){return x("String",a)}function X(a){return x("Function",a)}function Y(a){return x("Array",a)}function oa(){return"ontouchstart"in h}function q(){return null}function Z(a){a.preventDefault();return!1}function E(a,b){b=b?b:navigator.userAgent;return b.match(a)?!0:!1}function $(a){return p.querySelector(a)}function aa(a,b){var c=b.querySelectorAll(a),d=[];d.push.apply(d,c);return d}function F(a,b){for(var c=a.className,c=c?c.split(" "):[],d=0,f=c.length;d<f;d++)if(b&&b===c[d])return!0;
return!1}function G(a,b){var c="";if(F(a,b))return!1;a.className&&(c=" ");a.className=a.className+c+b;return!0}function H(a,b){var c,d=[],f,e;if(!F(a,b))return!1;c=a.className.split(" ");f=0;for(e=c.length;f<e;f++)b!==c[f]&&d.push(c[f]);a.className=d.join(" ");return!0}function pa(a,b){return F(a,b)?H(a,b):G(a,b)}function ba(a,b,c){var d;if(V(b)){for(d in b)a.setAttribute(d,b[d]);return!0}return c||""===c?a.setAttribute(b,c):a.getAttribute(b)}function qa(a,b){a.removeAttribute(b)}function u(a,b){var c=
p.createElement(a);b&&ba(c,b);return c}function m(a,b,c){a.addEventListener(b,c,!1)}function s(a,b,c){a.removeEventListener(b,c,!1)}function ca(a){a.style.display="block"}function da(a){a.style.display="none"}function ra(a,b){a.style.opacity=b}function I(a,b){var c=a.style,d,f,e;for(d in b)f=d,e=b[d],W(e)&&(e+="px"),c[f]=e}function sa(a){return p.defaultView.getComputedStyle(a,null)}function N(a,b){return a.appendChild(b)}function ta(a){return a.parentNode.removeChild(a)}function ua(a,b){if(!b)return a.innerHTML;
a.innerHTML=b}var e=C;Date.now||(Date.now=function(){return+new Date});e.utility={win:h,doc:p,pageTop:L,override:S,replaceAll:U,windowOpen:function(a,b){return h.open(a,b)},typeCast:T,makeQueryString:M,parseQueryString:function(a){a=a.replace(/^\#/,"").replace(/^\?/,"");a=a.split("&");var b,c,d={};for(b=a.length;b--;)c=a[b].split("="),d[c[0]]=T(decodeURIComponent(c[1]));return d},is:x,isObject:V,isNumber:W,isString:na,isFunction:X,isBoolean:function(a){return x("Boolean",a)},isArray:Y,isTouchDevice:oa,
nullFunction:q,preventDefault:Z,checkUserAgent:E};e.element={$:$,$$:function(a){return aa(a,p)},$child:function(a,b){return b.querySelector(a)},$$child:aa,$id:function(a){return p.getElementById(a)},on:m,off:s,create:u,show:ca,hide:da,opacity:ra,hasClass:F,addClass:G,removeClass:H,toggleClass:pa,css:I,computedStyle:sa,append:N,parent:function(a){return a.parentNode},remove:ta,attr:ba,removeAttr:qa,html:ua};var j=e.klass=function(a){var b=a.init||function(){},c=a.properties;(a=a.extend)&&e.extend(b,
a);S(b.prototype,c);return b};e.extend=function(a,b){function c(){this.init=a}c.prototype=b.prototype;a.prototype=new c;var d=a.prototype;d._superclass=b;d._super=function(){var a=this._prevctor,a=a?a.prototype._superclass:this._prevctor=b;a.apply(this,arguments)}};var g=oa(),l,O="orientationchange";l=j({init:function(a){a=a||{};if(a.single&&e.Event.instance)return e.Event.instance;a.single&&(e.Event.instance=this)},properties:{switchclick:g?"touchstart":"click",switchdown:g?"touchstart":"mousedown",
switchmove:g?"touchmove":"mousemove",switchup:g?"touchend":"mouseup",load:"load",change:"change",click:"click",mousedown:"mousedown",mousemove:"mousemove",mouseup:"mouseup",touchstart:"touchstart",touchmove:"touchmove",touchend:"touchend",resize:"resize"}});e.Event=l;l=e.event=new l;g=e.Base=j({properties:{dispose:function(){var a;if(this._dispose)for(a=this._dispose.lenght;a--;)s.call(null,this._dispose[a]);for(a in this)delete this[a];this.__proto__=null}}});e.ease={linear:function(a,b,c,d){return c*
a/d+b},inCubic:function(a,b,c,d){return c*Math.pow(a/d,3)+b},outCubic:function(a,b,c,d){return c*(Math.pow(a/d-1,3)+1)+b},inOutCubic:function(a,b,c,d){return 1>(a/=d/2)?c/2*Math.pow(a,3)+b:c/2*(Math.pow(a-2,3)+2)+b},inQuart:function(a,b,c,d){return c*Math.pow(a/d,4)+b},outQuart:function(a,b,c,d){return-c*(Math.pow(a/d-1,4)-1)+b},inOutQuart:function(a,b,c,d){return 1>(a/=d/2)?c/2*Math.pow(a,4)+b:-c/2*(Math.pow(a-2,4)-2)+b},inQuint:function(a,b,c,d){return c*Math.pow(a/d,5)+b},outQuint:function(a,b,
c,d){return c*(Math.pow(a/d-1,5)+1)+b},inOutQuint:function(a,b,c,d){return 1>(a/=d/2)?c/2*Math.pow(a,5)+b:c/2*(Math.pow(a-2,5)+2)+b},inSine:function(a,b,c,d){return c*(1-Math.cos(a/d*(Math.PI/2)))+b},outSine:function(a,b,c,d){return c*Math.sin(a/d*(Math.PI/2))+b},inOutSine:function(a,b,c,d){return c/2*(1-Math.cos(Math.PI*a/d))+b},inExpo:function(a,b,c,d){return c*Math.pow(2,10*(a/d-1))+b},outExpo:function(a,b,c,d){return c*(-Math.pow(2,-10*a/d)+1)+b},inOutExpo:function(a,b,c,d){return 1>(a/=d/2)?
c/2*Math.pow(2,10*(a-1))+b:c/2*(-Math.pow(2,-10*--a)+2)+b},inCirc:function(a,b,c,d){return c*(1-Math.sqrt(1-(a/=d)*a))+b},outCirc:function(a,b,c,d){return c*Math.sqrt(1-(a=a/d-1)*a)+b},inOutCirc:function(a,b,c,d){return 1>(a/=d/2)?c/2*(1-Math.sqrt(1-a*a))+b:c/2*(Math.sqrt(1-(a-=2)*a)+1)+b},inQuad:function(a,b,c,d){return c*(a/=d)*a+b},outQuad:function(a,b,c,d){return-c*(a/=d)*(a-2)+b},inOutQuad:function(a,b,c,d){return 1>(a/=d/2)?c/2*a*a+b:-c/2*(--a*(a-2)-1)+b},inBack:function(a,b,c,d,f){f=1.70158;
return c*(a/=d)*a*((f+1)*a-f)+b},outBack:function(a,b,c,d,f){f=1.70158;return c*((a=a/d-1)*a*((f+1)*a+f)+1)+b},inOutBack:function(a,b,c,d,f){f=1.70158;return 1>(a/=d/2)?c/2*a*a*(((f*=1.525)+1)*a-f)+b:c/2*((a-=2)*a*(((f*=1.525)+1)*a+f)+2)+b}};e.cssease={linear:"linear",inCubic:"cubic-bezier(0.550, 0.055, 0.675, 0.190)",outCubic:"cubic-bezier(0.215, 0.610, 0.355, 1.000)",inOutCubic:"cubic-bezier(0.645, 0.045, 0.355, 1.000)",inQuart:"cubic-bezier(0.895, 0.030, 0.685, 0.220)",outQuart:"cubic-bezier(0.165, 0.840, 0.440, 1.000)",
inOutQuart:"cubic-bezier(0.770, 0.000, 0.175, 1.000)",inQuint:"cubic-bezier(0.755, 0.050, 0.855, 0.060)",outQuint:"cubic-bezier(0.230, 1.000, 0.320, 1.000)",inOutQuint:"cubic-bezier(0.860, 0.000, 0.070, 1.000)",inSine:"cubic-bezier(0.470, 0.000, 0.745, 0.715)",outSine:"cubic-bezier(0.390, 0.575, 0.565, 1.000)",inOutSine:"cubic-bezier(0.445, 0.050, 0.550, 0.950)",inExpo:"cubic-bezier(0.950, 0.050, 0.795, 0.035)",outExpo:"cubic-bezier(0.190, 1.000, 0.220, 1.000)",inOutExpo:"cubic-bezier(1.000, 0.000, 0.000, 1.000)",
inCirc:"cubic-bezier(0.600, 0.040, 0.980, 0.335)",outCirc:"cubic-bezier(0.075, 0.820, 0.165, 1.000)",inOutCirc:"cubic-bezier(0.785, 0.135, 0.150, 0.860)",inQuad:"cubic-bezier(0.550, 0.085, 0.680, 0.530)",outQuad:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",inOutQuad:"cubic-bezier(0.455, 0.030, 0.515, 0.955)",inBack:["cubic-bezier(0.600, 0, 0.735, 0.045)","cubic-bezier(0.600, -0.280, 0.735, 0.045)"],outBack:["cubic-bezier(0.175, 0.885, 0.320, 1)","cubic-bezier(0.175, 0.885, 0.320, 1.275)"],inOutBack:["cubic-bezier(0.680, 0, 0.265, 1)",
"cubic-bezier(0.680, -0.550, 0.265, 1.550)"]};for(var r=["webkitAnimation","animation"],ea=u("p"),fa=!1,P,Q="",ga="animation",v=0,ha=r.length,y,z;v<ha;v++)if(void 0!==ea.style[r[v]]){fa=!0;if(P=r[v].match(/^(.*?)animation$/i)[1])Q="-"+P.toLowerCase()+"-",ga=P+"Animation";r=N($("head"),u("style",{type:"text/css"}));y=r.sheet;break}z=e.Animation=j({extend:g,init:function(a,b,c){if(!fa)return!1;c=c||{};this.onComplete=c.onComplete||q;this.element=a;z.id++;this.id="ciranim"+z.id;a=c.duration||z.Duration;
var d=c.ease||"ease",f,e={};for(f in b)e[f]=b[f],W(e[f])&&(e[f]+="px");this.property=e;e=U(U(JSON.stringify(e),'"',""),",",";");y.insertRule("@"+Q+"keyframes "+this.id+"{to"+e+"}",y.cssRules.length);Y(d)||(d=[d]);b=this.id;f=0;for(var e=d.length,k="";f<e;f++)k+=Q+"animation:"+b+" "+a+"ms "+d[f]+" 0s 1 normal both;";y.insertRule("."+b+"{"+k+"}",y.cssRules.length);c.manual||this.start()},properties:{_off:function(){s(this.element,ga+"End",this.end);s(this.element,"animationend",this.end)},start:function(){function a(a){var d=
y.cssRules,f=d.length,e;b._off();if("webkit"===P){for(;f--;)e=d[f].name||(""+d[f].selectorText).split(".")[1],e===b.id&&y.deleteRule(f);H(b.element,b.id);I(b.element,b.property)}b.onComplete(a)}var b=this;b.end=a;m(b.element,ga+"End",a);m(b.element,"animationend",a);G(b.element,b.id)},stop:function(){var a={};a[Q+"animation-play-state"]="paused";I(this.element,a);this._off()}}});z.id=0;z.Duration=500;z.support=fa;e.$=function(a,b){var c,d,f=0,w;b=b||p;na(a)?c=b.querySelectorAll(a):(c=[a],a="");w=
c.length;d=function(){};d.prototype=e.$.methods;d=new d;d.length=w;d._selector=a;for(d._parent=b;f<w;f++)d[f]=c[f];return d};var t=function(a,b,c){var d=0,f=a.length;for(c=ia(c);d<f;d++)c[0]=a[d],b.apply(a,c);return a},R=function(a,b,c){c=ia(c);c[0]=a[0];return b.apply(null,c)},ia=function(a){var b=[null];b.push.apply(b,a);return b};e.$.methods={_forexe:t,_exe:R,_argary:ia,querySelectorAll:function(a){return this[0].querySelectorAll(a)},find:function(a){return e.$(a,this._parent)},parent:function(){return e.$(this[0].parentNode)},
on:function(){return t(this,m,arguments)},off:function(){return t(this,s,arguments)},show:function(){return t(this,ca)},hide:function(){return t(this,da)},opacity:function(){return t(this,ra,arguments)},hasClass:function(){return R(this,F,arguments)},addClass:function(){return t(this,G,arguments)},removeClass:function(){return t(this,H,arguments)},toggleClass:function(){return t(this,pa,arguments)},css:function(){return t(this,I,arguments)},html:function(){return R(this,ua,arguments)},attr:function(){return R(this,
ba,arguments)},removeAttr:function(){return t(this,qa,arguments)},append:function(){return t(this,N,arguments)},remove:function(){return t(this,ta,arguments)}};var Ba=function(a,b,c,d,f){X(c)&&(f=c,c=null);X(d)&&!f&&(f=d,d=null);d&&(d=ja[d]);c={duration:c,ease:d,onComplete:f};if(va)b=new wa(a,b,c);else{d=e.Tweener;f=a.style;var w;a=sa(a);var k,D,h={};for(w in b)k=xa(b[w]),D=a.getPropertyValue(w),D=!D||"none"===D?0:1*xa(D)[2],h[w]={from:D,to:1*k[2]||0,prefix:k[1],suffix:k[3]};b=new d(f,h,c)}this._animate.push(b)},
xa=function(a){a=""+(a||"");return a.match(/^(.*?)([0-9\.]+)(.*)$/)},ka=e.$.methods,wa=e.Animation||{},va=wa.support,ja={};va&&e.cssease?ja=e.cssease:e.ease&&(ja=e.ease);ka.animate=function(){this._animate||(this._animate=[]);return ka._forexe(this,Ba,arguments)};ka.stop=function(){if(this._animate){for(var a=0,b=this._animate.length;a<b;a++)this._animate[a].stop();this._animate=null}return this};e.HashController=j({extend:g,properties:{typeCast:function(a){var b=T(a);return a===b&&(a=a.match("^[\"'](.*)[\"']$"))?
a[1]:b},makeHash:function(a){var b="#"+a.mode;a=a.vars;var c="?",d;for(d in a)b+=c+d+"="+JSON.stringify(a[d]),c="&";return encodeURI(b)},setHash:function(a){location.hash=this.makeHash(a);return!0},parseHash:function(a){var b,c,d,f;b=decodeURIComponent(a).split("#")[1];if(!b)return!1;b=b.split("?");a=b[0];if(b[1]){c={};b=b[1].split("&");for(f=b.length;f--;)b[f]&&(d=b[f].split("="),c[d[0]]=this.typeCast(d[1]))}return{mode:a,vars:c}},getHash:function(){return this.parseHash(location.hash)}}});e.Audio=
function(a){if(!h.HTMLAudioElement)return!1;for(var b=new Audio(""),c=a.suffix||[["mp3","mpeg"],["wav","wav"],["ogg","ogg"],["m4a","mp4"]],d=[],f=0,e=c.length;f<e;f++)b.canPlayType("audio/"+c[f][1])&&d.push([c[f][0]]);if(0===d.length)return!1;b.controls=a.controls?!0:!1;b.preload=a.preload||"auto";b.autoplay=a.autoplay?!0:!1;b.loop=a.loop?!0:!1;b.src=a.dir+a.name+"."+d[0];return b};e.Sound=j({extend:g,init:function(a){this._dispose=[];var b=this,c=a.autoplay,d=a.loop,f;a.preload="auto";a.controls=
a.autoplay=a.loop=!1;f=new e.Audio(a);b._audio=f;if(!f)return!1;c&&(c=function(){b.play()},m(f,"canplay",c),this._dispose.push([f,"canplay",c]));d&&(d=function(){b.stop();b.play()},m(f,"ended",d),this._dispose.push([f,"ended",d]));a.oncanplay&&(m(f,"canplay",a.oncanplay),this._dispose.push([f,"canplay",a.oncanplay]));a.onended&&(m(f,"ended",a.onended),this._dispose.push([f,"ended",a.onended]));p.body.appendChild(f)},properties:{getAudio:function(){return this._audio},getCurrent:function(){return this._audio.currentTime},
getDuration:function(){return this._audio.duration},setCurrent:function(a){this._audio.currentTime=a},play:function(){this._audio.play()},pause:function(){this._audio.pause()},stop:function(){this.pause();this.setCurrent(0)}}});e.Ajax=j({extend:g,init:function(a){a&&this.request(a)},properties:{request:function(a){if("json"===a.dataType)return delete a.dataType,this.json(a);var b=a.url,c=a.callback||q,d=a.error||q,f=a.type||"GET",e="",k;a.cash||(a.query||(a.query={}),a.query["cirajaxcash"+Date.now()]=
"0");a.query&&(e=a.query,V(e)&&(e=M(e),e=encodeURI(e)));k=this.xhr=new XMLHttpRequest;k.onreadystatechange=function(){return 4!=k.readyState?!1:200==k.status?c(k.responseText,k):d(k)};"GET"===f&&(b=-1!==b.indexOf("?")?b+"&":b+"?",b+=e,e="");k.open(f,b);"POST"===f&&k.setRequestHeader("Content-Type","application/x-www-form-urlencoded");k.send(e)},abort:function(){this.xhr&&this.xhr.abort()},json:function(a){var b=a.callback,c=a.error;a.callback=function(a){b(JSON.parse(a))};a.error=function(a){c&&c(a)};
this.request(a)}}});e.Bind=j({extend:g,init:function(a){this.handler=a;this.add()},properties:{dispose:function(){this.remove();this.__proto__.dispose()},getHandler:function(){return this.handler},add:function(){this._e(!0)},remove:function(){this._e(!1)},_e:function(a){a=a?m:s;for(var b in this.handler.events)a(this.handler.element,b,this.handler.events[b])}}});e.Brush=j({extend:g,init:function(a){this.canvas=a.canvas;this.ctx=this.canvas.getContext("2d");this.setSize(a)},properties:{setSize:function(a){a.width&&
(this.canvas.width=a.width);a.height&&(this.canvas.height=a.height)},pigment:function(a){var b=u("canvas"),c=u("img");c.onload=function(){b.width=a.width;b.height=a.height;b.getContext("2d").drawImage(c,0,0);a.onload(b,c)};c.src=a.src;return{image:b,x:a.x||0,y:a.y||0}},pigments:function(a,b){function c(a){var c=a.onload||q;a.onload=function(a,d){c(a,d);e--;0===e&&b(k)};k[f]=d.pigment(a);e++}var d=this,f,e=0,k={};b=b||q;for(f in a)c(a[f]);return k},draw:function(a){var b=0,c=a.length,d;for(this.ctx.clearRect(0,
0,this.canvas.width,this.canvas.height);b<c;b++)d=a[b],this.ctx.drawImage(d.image,d.x,d.y)}}});e.DataStore=j({extend:g,init:function(a){a=a||{};if(a.single&&e.DataStore.instance)return e.DataStore.instance;this.data={};a.single&&(e.DataStore.instance=this)},properties:{set:function(a,b){this.data[a]=b},get:function(a){var b={},c;if(a)return this.data[a];for(c in this.data)b[c]=this.data[c];return b},remove:function(a){if(!this.data[a])return!1;delete this.data[a]},reset:function(){this.data={}}}});
e.Deferred=j({extend:g,init:function(){this.queue=[];this.data=null},properties:{isResolve:function(){return!this.queue},resolve:function(a){if(this.isResolve())return this;var b=this.queue,c=b.length,d=0;this.queue=null;for(this.data=a;d<c;++d)b[d](a);return this},done:function(a){this.queue?this.queue.push(a):a(this.data);return this}}});e.DragFlick=j({extend:g,init:function(a){this._dispose=[];a&&this.bind(a)},properties:{_t:function(a){return a.changedTouches?a.changedTouches[0]:a},amount:function(a){function b(a){var b=
d._t(a);f=b.pageX;e=b.pageY;k=!0;a.preventDefault()}function c(b){k&&(b=d._t(b),a.callback({x:b.pageX-f,y:b.pageY-e}),k=!1)}var d=this,f,e,k=!1;m(a.element,l.switchdown,b);m(h,l.switchup,c);this._dispose.push([a.element,l.switchdown,b]);this._dispose.push([h,l.switchup,c])},direction:function(a){this.amount({element:a.element,callback:function(b){var c=a.boundary||0,d={change:!1,top:!1,right:!1,bottom:!1,left:!1,amount:b};Math.abs(b.x)>c&&(0<b.x?d.right=!0:0>b.x&&(d.left=!0),d.change=!0);Math.abs(b.y)>
c&&(0<b.y?d.bottom=!0:0>b.y&&(d.top=!0),d.change=!0);a.callback(d)}})},bind:function(a){function b(a,b,d){var f=function(a){a=c._t(a);d(a)};m(a,b,f);c._dispose.push([a,b,f])}var c=this,d=a.element,f=a.start||q,e=a.move||q,k=a.end||q,h=!1,j=0,g=0;a.direction&&c.direction({element:d,boundary:a.boundary,callback:a.direction});b(d,l.switchdown,function(a){h=!0;j=a.pageX;g=a.pageY;f({e:a,move:{x:j,y:g}})});b(p,l.switchmove,function(a){h&&e({e:a,move:{x:a.pageX-j,y:a.pageY-g}})});b(p,l.switchup,function(a){h&&
(k({e:a,move:{x:a.pageX-j,y:a.pageY-g}}),h=!1)})}}});e.ExternalInterface=function(a){a=a||{};var b=e.ExternalInterface,c;if(a.single&&b.instance)return b.instance;c=a.android?new b.Android(a):new b.IOS(a);a.single&&(b.instance=c);return c};e.ExternalInterface.Android=j({extend:e.HashController,init:function(a){a=a||{};this.android=a.android;this.externalObj=a.externalObj},properties:{call:function(a){this.android[a.mode](this.makeHash(a))},addCallback:function(a,b){var c=this;c.externalObj[a]=function(a){a=
c.parseHash(a);return b(a.vars)}},removeCallback:function(a){delete this.externalObj[a]}}});e.ExternalInterface.IOS=j({extend:e.HashController,init:function(){this.ios={}},properties:{dispose:function(){for(var a in this.ios)this.removeCallback(a);this.__proto__.dispose()},call:function(a){this.setHash(a)},addCallback:function(a,b){var c=this;c.ios[a]=function(){var d=c.getHash();return d.mode===a?(b(d.vars),!0):!1};m(h,"hashchange",c.ios[a])},removeCallback:function(a){s(h,"hashchange",this.ios[a]);
delete this.ios[a]}}});e.Facebook=j({extend:g,properties:{_b:"https://www.facebook.com/dialog/feed?",getShareURL:function(a){var b=this._b+"app_id="+a.app_id+"&redirect_uri="+a.redirect_uri;return b+=M({link:a.link,picture:a.picture,name:a.name,caption:a.caption,description:a.description})}}});e.FPS=j({extend:g,init:function(a){a=a||{};a.criterion||(a.criterion=20);if(a.single&&e.FPS.instance)return e.FPS.instance;this.surver=this.criterion=a.criterion;this.enterframe=a.enterframe;this.msecFrame=
this._getFrame(this.criterion);this.prevtime=this.nowtime=this.loopid=0;a.manual||this.start();a.single&&(e.FPS.instance=this)},properties:{dispose:function(){this.stop();this.__proto__.dispose()},getCriterion:function(){return this.criterion},getSurver:function(){return this.surver},getFrameTime:function(){return this.msecFrame},enter:function(){this.enterframe({criterion:this.criterion,surver:this.surver})},start:function(){this.prevtime=Date.now();this.loopid=setInterval(this._loop,this.msecFrame,
this)},_loop:function(a){a.nowtime=Date.now();a.surver=a._getFrame(a.nowtime-a.prevtime);a.prevtime=a.nowtime;a.enter()},_getFrame:function(a){return Math.round(1E3/a)},stop:function(){clearInterval(this.loopid)}}});e.ImgLoad=j({extend:g,init:function(a){this._dispose=[];this.srcs=a.srcs;this.srccount=this.srcs.length;this.loadedsrcs=[];this.onload=a.onload||q;this.onprogress=a.onprogress||q;this.progress=this.loadcount=0;this.started=!1;a.manual||this.start()},properties:{_c:function(){this.loadcount++;
this.progress=this.loadcount/this.srccount;this.onprogress(this.progress);if(this.loadcount>=this.srccount)this.onload(this.loadedsrcs)},start:function(){function a(){b._c()}if(this.started)return!1;this.started=!0;for(var b=this,c,d=0,f=b.srccount;d<f;d++)c=u("img"),c.src=b.srcs[d],m(c,l.load,a),this._dispose.push([c,l.load,a]),b.loadedsrcs.push(c)},getProgress:function(){return this.progress}}});e.WindowLoad=j({extend:g,init:function(a){this._dispose=[];if(a&&a.onload)this.onload(a.onload)},properties:{onload:function(a){m(h,
l.load,a);this._dispose.push(h,l.load,a)}}});e.LocalStorage=j({extend:g,init:function(a){a=a||{};if(a.single&&e.LocalStorage.instance)return e.LocalStorage.instance;this._n=a.namespace?a.namespace+"-":"";a.single&&(e.LocalStorage.instance=this)},properties:{_s:h.localStorage,set:function(a,b){this._s.setItem(this._n+a,JSON.stringify(b));return!0},get:function(a){var b={},c;if(a)return JSON.parse(this._s.getItem(this._n+a));for(c in this._s)this._n?(a=c.split(this._n)[1])&&(b[a]=JSON.parse(this._s[c])):
b[c]=JSON.parse(this._s[c]);return b},remove:function(a){a=this._n+a;if(!this._s.getItem(a))return!1;this._s.removeItem(a);return!0},reset:function(){if(!this._n)return this._s.clear(),!0;for(var a in this._s)this.remove(a)}}});e.Mobile=j({extend:g,init:function(){this._dispose=[]},properties:{getZoom:function(){return p.body.clientWidth/h.innerWidth},isAndroid:function(a){return E(/Android/i,a)},isIOS:function(a){return E(/iPhone|iPad|iPod/i,a)},isWindows:function(a){return E(/IEMobile/i,a)},isFBAPP:function(a){return E(/FBAN/,
a)},isMobile:function(){return this.isAndroid()||this.isIOS()||this.isWindows()||this.isFBAPP()},killScroll:function(a){a||L();m(p,l.touchmove,Z)},revivalScroll:function(a){a||L();s(p,l.touchmove,Z)},hideAddress:function(){function a(){0===h.pageYOffset&&L()}function b(){setTimeout(a,100)}console.log(this);m(h,l.load,b,!1);m(h,O,b,!1);this._dispose.push([h,l.load,b]);this._dispose.push([h,O,b])},getOrientation:function(){return 90!==Math.abs(h.orientation)&&h.innerWidth<h.innerHeight?{portrait:!0,
landscape:!1}:{portrait:!1,landscape:!0}},bindOrientation:function(a){function b(a,b){a(h,l.load,b);a(h,O,b);a(h,l.resize,b);f._dispose.push([h,l.load,b]);f._dispose.push([h,O,b]);f._dispose.push([h,l.resize,b])}function c(){d();b(s,c)}function d(){if(f.getOrientation().portrait)return a.portrait(),!0;a.landscape()}var f=this,e;a.immediately&&d();if(a.one)return b(m,c),function(){b(s,c)};b(m,d);e=function(){b(s,d)};f._dispose.push(e);return e}}});e.FontImg=j({extend:g,init:function(a){a=a||{type:""};
this.type=a.type?a.type+"_":"";this.tag=a.tag||"span"},properties:{make:function(a){a=(""+a).split("");var b="",c;for(c=a.length;c--;)b="<"+this.tag+' class="font_'+this.type+a[c]+'">&nbsp;</'+this.tag+">"+b;return b}}});e.Observer=j({extend:g,init:function(a){a=a||{single:!1};if(a.single&&e.Observer.instance)return e.Observer.instance;this.observed={};a.single&&(e.Observer.instance=this)},properties:{on:function(a,b){var c=this.observed;c[a]||(c[a]=[]);c[a].push(b)},one:function(a,b){var c=this,
d=function(f){b(f);c.off(a,d)};c.on(a,d)},off:function(a,b){var c=this.observed;if(!b)return delete c[a],!0;var d=c[a],f;if(!d)return!1;for(f=d.length;f--;)if(b===d[f])return d.splice(f,1),0===d.length&&delete c[a],!0;return!1},fire:function(a,b){var c=this.observed[a],d,f;if(!c)return!1;for(f=c.length;f--;)(d=c[f])&&d(b);return!0}}});e.PreRender=j({extend:g,init:function(a){a=a||{};a.loopblur||(a.loopblur=20);this.elements=a.elements||[];this.guesslimit=a.guesslimit||30;this.onrendered=a.onrendered||
q;this.looptime=a.looptime||100;this.loopblur=this.looptime+a.loopblur;this.loopid=this.prevtime=null;a.manual||this.start()},properties:{start:function(){var a;for(a=this.elements.length;a--;)ca(this.elements[a]);this.prevtime=Date.now();this.loopid=setInterval(function(a){var c=Date.now(),d=c-a.prevtime;a.prevtime=c;if(d<a.loopblur&&(a.guesslimit--,1>a.guesslimit)){clearInterval(a.loopid);for(c=a.elements.length;c--;)da(a.elements[c]);a.onrendered()}},this.looptime,this)}}});e.Route=j({extend:g,
init:function(a){if(a.single&&e.Route.instance)return e.Route.instance;this.target=a.target||"";this.noregex=a.noregex;this.action=a.action;a.manual||this.start();a.single&&(e.Route.instance=this)},properties:{start:function(){this.fire(this.target)},fire:function(a){var b;if(this.noregex&&this.action[a])return this.action[a](a);for(b in this.action)if(a.match(b))this.action[b](b)}}});e.ScriptLoad=j({extend:g,init:function(){this._dispose=[]},properties:{requests:function(a){for(var b=0,c=a.length;b<
c;b++)this.request(a[b])},request:function(a){var b=u("script");b.src=a.src;p.body.appendChild(b);a.callback&&(m(b,l.load,a.callback),this._dispose.push([b,l.load,a.callback]))}}});var A=function(a){return ya?J.getResponseHeader(a):!1},za=function(a){var b=new XMLHttpRequest;b.onload=function(){a(b)};b.open("HEAD",location.href+"?update"+Date.now()+"=1");b.send(null);return b},J,ya=!1;e.ServerMeta=j({init:function(a){a=a||{};var b=a.callback||q;J?b(J):J=za(function(){ya=!0;b(J)})},properties:{date:function(a){return za(function(b){b=
new Date(b.getResponseHeader("Date"));a(b)})},connection:function(){return A("Connection")},contentLength:function(){return A("Content-Length")},lastModified:function(){return A("Last-Modified")},server:function(){return A("Server")},contentType:function(){return A("Content-Type")},acceptRanges:function(){return A("Accept-Ranges")},keepAlive:function(){return A("Keep-Alive")}}});e.SessionStorage=j({extend:g,init:function(a){a=a||{};if(a.single&&e.SessionStorage.instance)return e.SessionStorage.instance;
this._n=a.namespace?a.namespace+"-":"";a.single&&(e.SessionStorage.instance=this)},properties:{_s:h.sessionStorage,set:function(a,b){this._s.setItem(this._n+a,JSON.stringify(b));return!0},get:function(a){var b={},c;if(a)return JSON.parse(this._s.getItem(this._n+a));for(c in this._s)this._n?(a=c.split(this._n)[1])&&(b[a]=JSON.parse(this._s[c])):b[c]=JSON.parse(this._s[c]);return b},remove:function(a){a=this._n+a;if(!this._s.getItem(a))return!1;this._s.removeItem(a);return!0},reset:function(){if(!this._n)return this._s.clear(),
!0;for(var a in this._s)this.remove(a)}}});e.Surrogate=j({extend:g,init:function(a){this.delay=a.delay;this.callback=a.callback},properties:{dispose:function(){this.clear();this.__proto__.dispose()},request:function(a){this.args=a;this.clear();this.waitid=setTimeout(this.flush,this.delay,this)},flush:function(a){a=a||this;a.callback(a.args)},clear:function(){clearInterval(this.waitid)}}});e.Throttle=j({extend:g,init:function(a){this.waittime=a.waittime;this.callback=a.callback},properties:{dispose:function(){this.unlock();
this.__proto__.dispose()},request:function(a){var b=this;if(b.locked)return b.waitarg=a,!1;b.callback(a);b.lock();b.waitid=setTimeout(function(){b.waitarg&&(b.callback(b.waitarg),b.waitarg=null);b.unlock()},b.waittime,b)},lock:function(){this.locked=!0},unlock:function(a){a=a||this;a.locked=!1;clearInterval(a.waitid)}}});e.Timer=function(a){function b(){n=Date.now();var a=e-(n-m)/1E3;0>a&&(a=0);q=c(a);j(q);if(n>p)return s.stop(),g(),!0;r=setTimeout(b,h);return!1}function c(a){var b;b=(""+a).split(".");
a=b[0];b=b[1]?b[1]:"";a=d({num:a,digit:l.integer});b=d({num:b,digit:l.few,isFew:!0});return a+"."+b}function d(a){var b=""+a.num,c=a.digit,d=c-b.length;return!a.isFew?-1<d?f(d,0)+b:f(c,9):0<d?b+f(d,0):b.slice(0,c)}function f(a,b){var c="";for(b=""+b;0<a;)c+=b,a--;return c}var e=a.limit,k=1E3*e,h=1E3*a.interval,j=a.onupdate,g=a.ontimeup,l;a=a.template.split(".");l={integer:a[0].length,few:a[1].length};var m=0,n=0,p=k,q=c(e),r,s={getLimit:function(){return e},getTime:function(){return q},getProgress:function(){return 1-
(p-n)/k},setUpdate:function(a){j=a},setTimeup:function(a){g=a},countDown:function(){n=m=Date.now();p=m+k;b()},stop:function(){clearInterval(r)}};return s};for(var r=["webkitTransitionProperty","transitionProperty"],ea=u("p"),la=!1,Aa="",ma="transition",v=0,ha=r.length,K,B;v<ha;v++)if(void 0!==ea.style[r[v]]){la=!0;if(r=r[v].match(/^(.*?)transitionproperty$/i)[1])Aa="-"+r.toLowerCase()+"-",ma=r.toLowerCase()+"Transition";r=N($("head"),u("style",{type:"text/css"}));K=r.sheet;break}B=e.Transition=j({extend:g,
init:function(a,b,c){if(!la)return!1;c=c||{};c.onComplete=c.onComplete||q;B.id++;this.id="cirtrans"+B.id;var d=[];S({},b);var e,h=c.duration||B.Duration,k=c.ease||"ease";Y(k)||(k=[k]);for(e in b)d.push(e);e=this.id;for(var j=Aa,g=0,l=k.length,d=""+(j+"transition-property:"+d.join(" ")+";"+j+"transition-duration:"+h+"ms;");g<l;g++)d+=j+"transition-timing-function:"+k[g]+";";K.insertRule("."+e+"{"+d+"}",K.cssRules.length);this.element=a;this.property=b;this.option=c;c.manual||this.start()},properties:{dispose:function(){this.stop();
this.__proto__.dispose()},start:function(){var a=this;a._endfunc=function(b){a.stop();setTimeout(function(){a.option.onComplete(b)},1)};m(a.element,ma+"End",a._endfunc);m(a.element,"transitionend",a._endfunc);G(a.element,a.id);I(a.element,a.property)},stop:function(){var a=K.cssRules,b=a.length,c;s(this.element,ma+"End",this._endfunc);s(this.element,"transitionend",this._endfunc);for(H(this.element,this.id);b--;)if(c=a[b].name||(""+a[b].selectorText).split(".")[1],c===this.id){K.deleteRule(b);break}}}});
B.id=0;B.support=la;B.Duration=500;var n=e.Tweener=j({extend:g,init:function(a,b,c){var d;c=c||{};this.target=a;this.property=[];for(d in b)a=b[d],a.name=d,a.distance=a.to-a.from,a.prefix=a.prefix||"",a.suffix=a.suffix||"px",this.property.push(a);this.duration=c.duration||n.Duration;this.ease=c.ease||this._ease;this.onComplete=c.onComplete;c.manual||this.start()},properties:{dispose:function(){this.stop();this.__proto__.dispose()},_ease:function(a,b,c,d){return c*(-Math.pow(2,-10*a/d)+1)+b},_requestAnimationFrame:h.requestAnimationFrame?
function(a){requestAnimationFrame(a)}:h.webkitRequestAnimationFrame?function(a){webkitRequestAnimationFrame(a)}:h.mozRequestAnimationFrame?function(a){mozRequestAnimationFrame(a)}:h.oRequestAnimationFrame?function(a){oRequestAnimationFrame(a)}:h.msRequestAnimationFrame?function(a){msRequestAnimationFrame(a)}:function(a){setTimeout(a,1E3/n.FPS)},loop:function(){for(var a=this,b=n.Items,c,d=Date.now(),e,h=b.length,k,j,g;h--;)if(c=b[h],j=c.property.length,e=d-c.begin,e<c.duration)for(k=0;k<j;k++)g=c.property[k],
n._setProp(c.target,g,c.ease(e,g.from,g.distance,c.duration));else{for(k=0;k<j;k++)g=c.property[k],n._setProp(c.target,g,g.to);if(c.onComplete)c.onComplete();b.splice(h,1)}if(b.length)return a._requestAnimationFrame(function(){a.loop()}),!0;this.stop()},start:function(){var a=this;a.begin=Date.now();n.Items.push(a);n.timerId||(n.timerId=1,a._requestAnimationFrame(function(){a.loop()}))},stop:function(){n.Items=[];clearInterval(n.timerId);n.timerId=null}}});n._setProp=function(a,b,c){a[b.name]=b.prefix+
c+b.suffix};n.Items=[];n.FPS=30;n.Duration=500;e.Twitter=j({extend:g,properties:{_b:"https://twitter.com/intent/tweet?",getShareURL:function(a){var b=a.caption||"",c=a.name,d=a.hash,e=this._b;return e+=M({url:a.redirect_uri,text:b+(c?" \u300c"+c+"\u300d":"")+(d?" "+d:"")})}}});e.XML=j({extend:g,init:function(a){this.element=u("div");this.data={};a&&a.data&&this.setData(a.data)},properties:{getData:function(){return this.data},setData:function(a){this.data=this.element.innerHTML=a},$:function(a){return this.element.querySelector(a)},
$$:function(a){return aa(a,this.element)}}})})(window,document);
