var C={};
(function(f,l){function x(){f.scrollTo(0,1)}function P(a,b){for(var c in b)a[c]=b[c];return a}function D(a){var b=""+a;return b.match("^{.*}$")?JSON.parse(b):b.match("^[0-9.]+$")?1*b:"true"===b?!0:"false"===b?!1:a}function y(a){var b="",c="",e;for(e in a)a[e]&&(c+=b+e+"="+encodeURIComponent(a[e]),b="&");return c}function q(a,b){return Object.prototype.toString.call(b)==="[object "+a+"]"?!0:!1}function E(a){return q("Object",a)}function Q(a){return q("Number",a)}function R(a){return q("String",a)}
function F(a){return q("Function",a)}function S(){return"ontouchstart"in f}function m(){return null}function G(a,b){var c=b.querySelectorAll(a),e=[];e.push.apply(e,c);return e}function t(a,b){for(var c=a.className,c=c?c.split(" "):[],e=0,d=c.length;e<d;e++)if(b&&b===c[e])return!0;return!1}function H(a,b){var c="";if(t(a,b))return!1;a.className&&(c=" ");a.className=a.className+c+b;return!0}function I(a,b){var c,e=[],d,g;if(!t(a,b))return!1;c=a.className.split(" ");d=0;for(g=c.length;d<g;d++)b!==c[d]&&
e.push(c[d]);a.className=e.join(" ");return!0}function T(a,b){return t(a,b)?I(a,b):H(a,b)}function J(a,b,c){var e;if(E(b)){for(e in b)a.setAttribute(e,b[e]);return!0}return c||""===c?a.setAttribute(b,c):a.getAttribute(b)}function U(a,b){a.removeAttribute(b)}function r(a,b){var c=l.createElement(a);b&&J(c,b);return c}function v(a,b,c){a.addEventListener(b,c)}function s(a,b,c){a.removeEventListener(b,c)}function K(a){a.style.display="block"}function L(a){a.style.display="none"}function V(a,b){a.style.opacity=
b}function W(a,b){var c=a.style,e,d,g;for(e in b)d=e,g=b[e],Q(g)&&(g+="px"),c[d]=g}function X(a){return l.defaultView.getComputedStyle(a,null)}function Y(a,b){a.appendChild(b)}function Z(a,b){if(!b)return a.innerHTML;a.innerHTML=b}var d=C;Date.now||(Date.now=function(){return+new Date});d.utility={win:f,doc:l,pageTop:x,override:P,replaceAll:function(a,b,c){return a.split(b).join(c)},windowOpen:function(a,b){return f.open(a,b)},typeCast:D,makeQueryString:y,parseQueryString:function(a){a=a.replace(/^\#/,
"").replace(/^\?/,"");a=a.split("&");var b,c,e={};for(b=a.length;b--;)c=a[b].split("="),e[c[0]]=D(decodeURIComponent(c[1]));return e},is:q,isObject:E,isNumber:Q,isString:R,isFunction:F,isBoolean:function(a){return q("Boolean",a)},isTouchDevice:S,nullFunction:m};d.element={$:function(a){return l.querySelector(a)},$$:function(a){return G(a,l)},$child:function(a,b){return b.querySelector(a)},$$child:G,$id:function(a){return l.getElementById(a)},on:v,off:s,create:r,show:K,hide:L,opacity:V,hasClass:t,
addClass:H,removeClass:I,toggleClass:T,css:W,computedStyle:X,append:Y,attr:J,removeAttr:U,html:Z};d.klass=function(a){var b=a.init||function(){},c=a.properties;(a=a.extend)&&d.extend(b,a);P(b.prototype,c);return b};d.extend=function(a,b){function c(){this.init=a}c.prototype=b.prototype;a.prototype=new c;var e=a.prototype;e._superclass=b;e._super=function(){var a=this._prevctor,a=a?a.prototype._superclass:this._prevctor=b;a.apply(this,arguments)}};d.$=function(a,b){var c=d.$,e,u,g=0,h;b=b||l;R(a)?
e=b.querySelectorAll(a):(e=[a],a="");h=e.length;u=function(){};u.prototype=c.methods;c=new u;c.length=h;c._selector=a;for(c._parent=b;g<h;g++)c[g]=e[g];return c};var j=function(a,b,c){var e=0,d=a.length;for(c=M(c);e<d;e++)c[0]=a[e],b.apply(a,c);return a},z=function(a,b,c){c=M(c);c[0]=a[0];return b.apply(null,c)},M=function(a){var b=[null];b.push.apply(b,a);return b};d.$.methods={_forexe:j,_exe:z,_argary:M,querySelectorAll:function(a){return this[0].querySelectorAll(a)},find:function(a){return d.$(a,
this._parent)},parent:function(){return d.$(this[0].parentNode)},on:function(){return j(this,v,arguments)},off:function(){return j(this,s,arguments)},show:function(){return j(this,K)},hide:function(){return j(this,L)},opacity:function(){return j(this,V,arguments)},hasClass:function(){return z(this,t,arguments)},addClass:function(){return j(this,H,arguments)},removeClass:function(){return j(this,I,arguments)},toggleClass:function(){return j(this,T,arguments)},css:function(){return j(this,W,arguments)},
html:function(){return z(this,Z,arguments)},attr:function(){return z(this,J,arguments)},removeAttr:function(){return j(this,U,arguments)},append:function(){return j(this,Y,arguments)}};var ha=function(a,b,c,e,u){F(c)&&(u=c,c=null);F(e)&&!u&&(u=e,e=null);var g=d.Tweener,h=a.style,f;a=X(a);var p,k={};for(f in b)p=$(b[f]),k[f]={from:1*$(a.getPropertyValue(f))[1]||0,to:1*p[1]||0,suffix:p[2]};b=new g(h,k,{duration:c,ease:e,onComplete:u});this._animate.push(b)},$=function(a){a=""+(a||"");return a.match(/^([0-9\.]+)(.*)/)},
N=d.$.methods;N.animate=function(){this._animate||(this._animate=[]);return N._forexe(this,ha,arguments)};N.stop=function(){if(this._animate){for(var a=this._animate,b=0,c=a.length;b<c;b++)a[b].stop();this._animate=null}return this};d.ease={inCubic:function(a,b,c,e){return c*Math.pow(a/e,3)+b},outCubic:function(a,b,c,e){return c*(Math.pow(a/e-1,3)+1)+b},inOutCubic:function(a,b,c,e){return 1>(a/=e/2)?c/2*Math.pow(a,3)+b:c/2*(Math.pow(a-2,3)+2)+b},inQuart:function(a,b,c,e){return c*Math.pow(a/e,4)+
b},outQuart:function(a,b,c,e){return-c*(Math.pow(a/e-1,4)-1)+b},inOutQuart:function(a,b,c,e){return 1>(a/=e/2)?c/2*Math.pow(a,4)+b:-c/2*(Math.pow(a-2,4)-2)+b},inQuint:function(a,b,c,e){return c*Math.pow(a/e,5)+b},outQuint:function(a,b,c,e){return c*(Math.pow(a/e-1,5)+1)+b},inOutQuint:function(a,b,c,e){return 1>(a/=e/2)?c/2*Math.pow(a,5)+b:c/2*(Math.pow(a-2,5)+2)+b},inSine:function(a,b,c,e){return c*(1-Math.cos(a/e*(Math.PI/2)))+b},outSine:function(a,b,c,e){return c*Math.sin(a/e*(Math.PI/2))+b},inOutSine:function(a,
b,c,e){return c/2*(1-Math.cos(Math.PI*a/e))+b},inExpo:function(a,b,c,e){return c*Math.pow(2,10*(a/e-1))+b},outExpo:function(a,b,c,e){return c*(-Math.pow(2,-10*a/e)+1)+b},inOutExpo:function(a,b,c,e){return 1>(a/=e/2)?c/2*Math.pow(2,10*(a-1))+b:c/2*(-Math.pow(2,-10*--a)+2)+b},inCirc:function(a,b,c,e){return c*(1-Math.sqrt(1-(a/=e)*a))+b},outCirc:function(a,b,c,e){return c*Math.sqrt(1-(a=a/e-1)*a)+b},inOutCirc:function(a,b,c,e){return 1>(a/=e/2)?c/2*(1-Math.sqrt(1-a*a))+b:c/2*(Math.sqrt(1-(a-=2)*a)+
1)+b},inQuad:function(a,b,c,e){return c*(a/=e)*a+b},outQuad:function(a,b,c,e){return-c*(a/=e)*(a-2)+b},inOutQuad:function(a,b,c,e){return 1>(a/=e/2)?c/2*a*a+b:-c/2*(--a*(a-2)-1)+b}};var A=S();d.Event=d.klass({init:function(a){a=a||{};if(a.single&&d.Event.instance)return d.Event.instance;a.single&&(d.Event.instance=this)},properties:{switchclick:A?"touchstart":"click",switchdown:A?"touchstart":"mousedown",switchmove:A?"touchmove":"mousemove",switchup:A?"touchend":"mouseup",load:"load",change:"change",
hashchange:"hashchange",click:"click",mousedown:"mousedown",mousemove:"mousemove",mouseup:"mouseup",touchstart:"touchstart",touchmove:"touchmove",touchend:"touchend",orientationchange:"orientationchange",resize:"resize"}});d.Event.instance=null;var k=d.event=new d.Event;d.HashController=d.klass({properties:{typeCast:function(a){var b=D(a);return a===b&&(a=a.match("^[\"'](.*)[\"']$"))?a[1]:b},makeHash:function(a){var b="#"+a.mode;a=a.vars;var c="?",e;for(e in a)b+=c+e+"="+JSON.stringify(a[e]),c="&";
return encodeURI(b)},setHash:function(a){location.hash=this.makeHash(a);return!0},parseHash:function(a){var b,c,e,d;b=decodeURIComponent(a).split("#")[1];if(!b)return!1;b=b.split("?");a=b[0];if(b[1]){c={};b=b[1].split("&");for(d=b.length;d--;)b[d]&&(e=b[d].split("="),c[e[0]]=this.typeCast(e[1]))}return{mode:a,vars:c}},getHash:function(){return this.parseHash(location.hash)}}});d.Ajax=d.klass({init:function(){this.xhr=new XMLHttpRequest},properties:{request:function(a){var b=a.url,c=a.callback||m,
e=a.error||m,d=a.type||"GET",g="",h;a.cash||(a.query||(a.query={}),a.query["ajaxcash"+Date.now()]="0");a.query&&(g=a.query,E(g)&&(g=y(g),g=encodeURI(g)));h=this.xhr=new XMLHttpRequest;h.onreadystatechange=function(){return 4!=h.readyState?!1:200==h.status?c(h.responseText,h):e(h)};h.open(d,b);"POST"===d&&h.setRequestHeader("Content-Type","application/x-www-form-urlencoded");h.send(g)},abort:function(){this.xhr.abort()},getJSON:function(a){var b=a.callback,c=a.error;a.callback=function(a){b(JSON.parse(a))};
a.error=function(a){c&&c(a)};this.request(a)}}});d.Bind=d.klass({init:function(a){this.handler=a;this.add()},properties:{getHandler:function(){return this.handler},add:function(){return this._exe(!0)},remove:function(){return this._exe(!1)},_exe:function(a){a=a?v:s;for(var b in this.handler.events)a(this.handler.element,b,this.handler.events[b]);return this.handler}}});d.CanvasImg=function(a){var b=r("canvas"),c=r("img"),e=a.src,d=a.width,g=a.height,h=a.onload;c.onload=function(){b.width=d;b.height=
g;b.getContext("2d").drawImage(c,0,0);h(b,c)};c.src=e;return b};d.CanvasRender=d.klass({init:function(a){this.canvas=a.canvas;this.ctx=this.canvas.getContext("2d");this.canvasWidth=this.canvas.width;this.canvasHeight=this.canvas.height;this.setSize(a)},properties:{setSize:function(a){a.width&&(this.canvas.width=this.canvasWidth=a.width);a.height&&(this.canvas.height=this.canvasHeight=a.height)},draw:function(a){this.ctx.clearRect(0,0,this.canvasWidth,this.canvasHeight);for(var b=0,c=a.length,e;b<
c;b++)e=a[b],this.ctx.drawImage(e.image,e.x,e.y)}}});d.DataStore=d.klass({init:function(a){a=a||{};if(a.single&&d.DataStore.instance)return d.DataStore.instance;this.d={};a.single&&(d.DataStore.instance=this)},properties:{set:function(a,b){this.d[a]=b;return!0},get:function(a){var b=this.d;if(a)return b[a];a={};for(var c in b)a[c]=b[c];return a},remove:function(a){var b=this.d;if(!b[a])return!1;delete b[a];return!0},reset:function(){this.d={};return!0}}});d.DataStore.instance=null;d.Deferred=d.klass({init:function(){this.queue=
[];this.data=null},properties:{isResolve:function(){return!this.queue},resolve:function(a){if(this.isResolve())return this;var b=this.queue,c=b.length,e=0;this.queue=null;for(this.data=a;e<c;++e)b[e](a);return this},done:function(a){this.queue?this.queue.push(a):a(this.data);return this}}});d.DragFlick=d.klass({init:function(a){a&&this.bind(a)},properties:{_getEventTarget:function(a){return a.changedTouches?a.changedTouches[0]:a},amount:function(a){var b=this,c,e,d=!1;a.element.addEventListener(k.switchdown,
function(a){var h=b._getEventTarget(a);c=h.pageX;e=h.pageY;d=!0;a.preventDefault()});f.addEventListener(k.switchup,function(g){d&&(g=b._getEventTarget(g),a.callback({x:g.pageX-c,y:g.pageY-e}),d=!1)})},direction:function(a){this.amount({element:a.element,callback:function(b){var c=a.boundary||0,e={change:!1,top:!1,right:!1,bottom:!1,left:!1,amount:b};Math.abs(b.x)>c&&(0<b.x?e.right=!0:0>b.x&&(e.left=!0),e.change=!0);Math.abs(b.y)>c&&(0<b.y?e.bottom=!0:0>b.y&&(e.top=!0),e.change=!0);a.callback(e)}})},
bind:function(a){function b(a,b,e){a.addEventListener(b,function(a){a=c._getEventTarget(a);e(a)})}var c=this,e=a.element,d=a.start||m,g=a.move||m,h=a.end||m,f=!1,p=0,j=0;a.direction&&c.direction({element:e,boundary:a.boundary,callback:a.direction});b(e,k.switchdown,function(a){f=!0;p=a.pageX;j=a.pageY;d({e:a,move:{x:p,y:j}})});b(l,k.switchmove,function(a){f&&g({e:a,move:{x:a.pageX-p,y:a.pageY-j}})});b(l,k.switchup,function(a){f&&(h({e:a,move:{x:a.pageX-p,y:a.pageY-j}}),f=!1)})}}});d.ExternalInterface=
function(a){a=a||{};var b;if(a.single&&d.ExternalInterface.instance)return d.ExternalInterface.instance;b=a.android?new d.ExternalInterface.Android(a):new d.ExternalInterface.IOS(a);a.single&&(d.ExternalInterface.instance=b);return b};d.ExternalInterface.instance=null;d.ExternalInterface.Android=d.klass({init:function(a){a=a||{};this.android=a.android;this.externalObj=a.externalObj;this.externalObj||(d.EXTERNAL_ANDROID={},this.externalObj=d.EXTERNAL_ANDROID)},extend:d.HashController,properties:{call:function(a){this.android[a.mode](this.makeHash(a))},
addCallback:function(a,b){var c=this;c.externalObj[a]=function(a){a=c.parseHash(a);return b(a.vars)}},removeCallback:function(a){delete this.externalObj[a]}}});d.ExternalInterface.IOS=d.klass({init:function(){this.ios={}},extend:d.HashController,properties:{call:function(a){this.setHash(a)},addCallback:function(a,b){var c=this;c.ios[a]=function(){var e=c.getHash();return e.mode===a?(b(e.vars),!0):!1};f.addEventListener(k.hashchange,this.ios[a])},removeCallback:function(a){f.removeEventListener(k.hashchange,
this.ios[a]);delete this.ios[a]}}});d.Facebook=d.klass({properties:{_b:"https://www.facebook.com/dialog/feed?",getShareURL:function(a){var b=this._b+"app_id="+a.app_id+"&redirect_uri="+a.redirect_uri;return b+=y({link:a.link,picture:a.picture,name:a.name,caption:a.caption,description:a.description})}}});var ca=function(a){a.nexttime<=Date.now()&&(aa(a),a.nexttime=a.nowtime+a.msecFrame);1===a.loopid&&ba(function(){ca(a)})},aa=function(a){a.nowtime=Date.now();a.surver=Math.round(1E3/(a.nowtime-a.prevtime));
a.prevtime=a.nowtime;a.enter()},O,ba=f.requestAnimationFrame||f.webkitRequestAnimationFrame||f.mozRequestAnimationFrame||f.oRequestAnimationFrame||f.msRequestAnimationFrame||!1;d.FPS=d.klass({init:function(a){a=a||{};a.criterion||(a.criterion=20);if(a.single&&O)return O;this.surver=this.criterion=a.criterion;this.enterframe=a.enterframe;this.msecFrame=Math.round(1E3/this.criterion);this.prevtime=this.nowtime=this.nexttime=this.loopid=0;a.manual||this.start();a.single&&(O=this)},properties:{getCriterion:function(){return this.criterion},
getSurver:function(){return this.surver},getFrameTime:function(){return this.msecFrame},enter:function(){this.enterframe({criterion:this.criterion,surver:this.surver})},start:function(){this.prevtime=Date.now();this.nexttime=this.prevtime+this.msecFrame;ba?(this.loopid=1,ca(this)):this.loopid=setInterval(aa,this.msecFrame,this)},stop:function(){clearInterval(this.loopid);this.loopid=0}}});d.ImgLoad=d.klass({init:function(a){this.srcs=a.srcs;this.srccount=this.srcs.length;this.loadedsrcs=[];this.onload=
a.onload||m;this.onprogress=a.onprogress||m;this.progress=this.loadcount=0;this.started=!1;a.manual||this.start()},properties:{_c:function(){this.loadcount++;this.progress=this.loadcount/this.srccount;this.onprogress(this.progress);if(this.loadcount>=this.srccount)this.onload(this.loadedsrcs)},start:function(){if(this.started)return!1;this.started=!0;var a=this,b,c,e;c=0;for(e=a.srccount;c<e;c++)b=r("img"),b.src=a.srcs[c],b.addEventListener(k.load,function(){a._c()}),a.loadedsrcs.push(b)},getProgress:function(){return this.progress}}});
d.WindowLoad=d.klass({init:function(a){if(a&&a.onload)this.onload(a.onload)},properties:{onload:function(a){f.addEventListener(k.load,a)}}});d.LocalStorage=d.klass({init:function(a){a=a||{};if(a.single&&d.LocalStorage.instance)return d.LocalStorage.instance;this._n=a.namespace?a.namespace+"-":"";a.single&&(d.LocalStorage.instance=this)},properties:{_s:f.localStorage,set:function(a,b){this._s.setItem(this._n+a,JSON.stringify(b));return!0},get:function(a){if(a)return JSON.parse(this._s.getItem(this._n+
a));var b={},c;for(c in this._s)this._n?(a=c.split(this._n)[1])&&(b[a]=JSON.parse(this._s[c])):b[c]=JSON.parse(this._s[c]);return b},remove:function(a){a=this._n+a;if(!this._s.getItem(a))return!1;this._s.removeItem(a);return!0},reset:function(){if(!this._n)return this._s.clear(),!0;for(var a in this._s)this.remove(a)}}});d.LocalStorage.instance=null;var da=function(a){a.preventDefault();return!1},B=function(a,b){a=a?a:ia;return a.match(b)?!0:!1},ja=function(){0===f.pageYOffset&&x()},ea=function(){setTimeout(ja,
100)},ia=navigator.userAgent;d.Mobile=d.klass({properties:{isAndroid:function(a){return B(a,/Android/i)},isIOS:function(a){return B(a,/iPhone|iPad|iPod/i)},isWindows:function(a){return B(a,/IEMobile/i)},isFBAPP:function(a){return B(a,/FBAN/)},isMobile:function(){return this.isAndroid()||this.isIOS()||this.isWindows()||this.isFBAPP()},killScroll:function(a){a||x();l.addEventListener(k.touchmove,da)},revivalScroll:function(a){a||x();l.removeEventListener(k.touchmove,da)},hideAddress:function(){f.addEventListener(k.load,
ea);f.addEventListener(k.orientationchange,ea)},getOrientation:function(){return 90!==Math.abs(f.orientation)&&f.innerWidth<f.innerHeight?{portrait:!0,landscape:!1}:{portrait:!1,landscape:!0}},bindOrientation:function(a){function b(a,b){a(f,k.load,b);a(f,k.orientationchange,b);a(f,k.resize,b)}function c(){e();b(s,c)}function e(){if(d.getOrientation().portrait)return a.portrait(),!0;a.landscape()}var d=this;a.immediately&&e();if(a.one)return b(v,c),function(){b(s,c)};b(v,e);return function(){b(s,e)}}}});
d.FontImg=d.klass({init:function(a){a=a||{type:""};this.type=a.type?a.type+"_":""},properties:{make:function(a){a=(""+a).split("");var b="",c;for(c=a.length;c--;)b='<span class="font_'+(this.type+a[c])+'">&nbsp;</span>'+b;return b}}});d.Observer=d.klass({init:function(a){a=a||{single:!1};if(a.single&&d.Observer.instance)return d.Observer.instance;this.observed={};a.single&&(d.Observer.instance=this)},properties:{getObserved:function(){return this.observed},on:function(a,b){var c=this.observed;c[a]||
(c[a]=[]);c[a].push(b)},one:function(a,b){var c=this,e=function(d){b(d);c.off(a,e)};c.on(a,e)},off:function(a,b){var c=this.observed;if(!b)return delete c[a],!0;var e=c[a],d;if(!e)return!1;for(d=e.length;d--;)if(b===e[d])return e.splice(d,1),0===e.length&&delete c[a],!0;return!1},fire:function(a,b){var c=this.observed[a],d,f;if(!c)return!1;for(f=c.length;f--;)(d=c[f])&&d(b);return!0}}});d.Observer.instance=null;d.PreRender=d.klass({init:function(a){a=a||{};a.loopblur||(a.loopblur=20);this.elements=
a.elements||[];this.guesslimit=a.guesslimit||30;this.onrendered=a.onrendered||m;this.looptime=a.looptime||100;this.loopblur=this.looptime+a.loopblur;this.loopid=this.prevtime=null;a.manual||this.start()},properties:{start:function(){var a;for(a=this.elements.length;a--;)K(this.elements[a]);this.prevtime=Date.now();this.loopid=setInterval(function(a){var c=Date.now(),d=c-a.prevtime;a.prevtime=c;if(d<a.loopblur&&(a.guesslimit--,1>a.guesslimit)){clearInterval(a.loopid);for(c=a.elements.length;c--;)L(a.elements[c]);
a.onrendered()}},this.looptime,this)}}});d.Route=d.klass({init:function(a){if(a.single&&d.Route.instance)return d.Route.instance;this.target=a.target||"";this.noregex=a.noregex;this.action=a.action;a.manual||this.start();a.single&&(d.Route.instance=this)},properties:{start:function(){this.fire(this.target)},fire:function(a){var b;if(this.noregex&&this.action[a])return this.action[a]();for(b in this.action)if(a.match(b))this.action[b]()}}});d.ScriptLoad=d.klass({properties:{requests:function(a){for(var b=
0,c=a.length;b<c;b++)this.request(a[b])},request:function(a){var b=r("script");b.type="text/javascript";b.src=a.src;l.body.appendChild(b);a.callback&&b.addEventListener(k.load,a.callback)}}});var n=function(a){return fa?w.getResponseHeader(a):!1},ga=function(a){var b=new XMLHttpRequest;b.onload=function(){a(b)};b.open("HEAD",location.href+"?update"+Date.now()+"=1");b.send(null);return b},w,fa=!1;d.ServerMeta=d.klass({init:function(a){a=a||{};var b=a.callback||m;w?b(w):w=ga(function(){fa=!0;b(w)})},
properties:{date:function(a){return ga(function(b){b=new Date(b.getResponseHeader("Date"));a(b)})},connection:function(){return n("Connection")},contentLength:function(){return n("Content-Length")},lastModified:function(){return n("Last-Modified")},server:function(){return n("Server")},contentType:function(){return n("Content-Type")},acceptRanges:function(){return n("Accept-Ranges")},keepAlive:function(){return n("Keep-Alive")}}});d.SessionStorage=d.klass({init:function(a){a=a||{};if(a.single&&d.SessionStorage.instance)return d.SessionStorage.instance;
this._n=a.namespace?a.namespace+"-":"";a.single&&(d.SessionStorage.instance=this)},properties:{_s:f.sessionStorage,set:function(a,b){this._s.setItem(this._n+a,JSON.stringify(b));return!0},get:function(a){if(a)return JSON.parse(this._s.getItem(this._n+a));var b={},c;for(c in this._s)this._n?(a=c.split(this._n)[1])&&(b[a]=JSON.parse(this._s[c])):b[c]=JSON.parse(this._s[c]);return b},remove:function(a){a=this._n+a;if(!this._s.getItem(a))return!1;this._s.removeItem(a);return!0},reset:function(){if(!this._n)return this._s.clear(),
!0;for(var a in this._s)this.remove(a)}}});d.SessionStorage.instance=null;d.Surrogate=d.klass({init:function(a){this.delay=a.delay;this.callback=a.callback;this.waitid=this.args=null},properties:{request:function(a){this.args=a;this.clear();this.waitid=setTimeout(this.flush,this.delay,this)},flush:function(a){a=a||this;a.callback(a.args)},clear:function(){clearInterval(this.waitid)}}});d.Throttle=d.klass({init:function(a){this.waittime=a.waittime;this.callback=a.callback;this.locked=!1;this.waitarg=
this.waitid=null},properties:{request:function(a){var b=this;if(b.locked)return b.waitarg=a,!1;b.callback(a);b.lock();b.waitid=setTimeout(function(){b.waitarg&&(b.callback(b.waitarg),b.waitarg=null);b.unlock()},b.waittime,b)},lock:function(){this.locked=!0},unlock:function(a){a=a||this;a.locked=!1;clearInterval(a.waitid)}}});d.Timer=function(a){function b(){n=Date.now();var a=g-(n-m)/1E3;0>a&&(a=0);r=c(a);p(r);if(n>q)return t.stop(),j(),!0;s=setTimeout(b,k);return!1}function c(a){var b;b=(""+a).split(".");
a=b[0];b=b[1]?b[1]:"";a=d({num:a,digit:l.integer});b=d({num:b,digit:l.few,isFew:!0});return a+"."+b}function d(a){var b=""+a.num,c=a.digit,e=c-b.length;return!a.isFew?-1<e?f(e,0)+b:f(c,9):0<e?b+f(e,0):b.slice(0,c)}function f(a,b){var c="";for(b=""+b;0<a;)c+=b,a--;return c}var g=a.limit,h=1E3*g,k=1E3*a.interval,p=a.onupdate,j=a.ontimeup,l;a=a.template.split(".");l={integer:a[0].length,few:a[1].length};var m=0,n=0,q=h,r=c(g),s,t={getLimit:function(){return g},getTime:function(){return r},getProgress:function(){return 1-
(q-n)/h},setUpdate:function(a){p=a},setTimeup:function(a){j=a},countDown:function(){n=m=Date.now();q=m+h;b()},stop:function(){clearInterval(s)}};return t};d.Tweener=d.klass({init:function(a,b,c){var e;c=c||{};this.target=a;this.property=[];for(e in b)a=b[e],a.name=e,a.distance=a.to-a.from,a.prefix=a.prefix||"",a.suffix=a.suffix||"px",this.property.push(a);this.duration=c.duration||d.Tweener.Duration;this.ease=c.ease||this._ease;this.onComplete=c.onComplete;this.begin=Date.now();d.Tweener.Items.push(this);
d.Tweener.timerId||this.start()},properties:{_ease:function(a,b,c,d){return c*a/d+b},_requestAnimationFrame:f.requestAnimationFrame?function(a){requestAnimationFrame(a)}:f.webkitRequestAnimationFrame?function(a){webkitRequestAnimationFrame(a)}:f.mozRequestAnimationFrame?function(a){mozRequestAnimationFrame(a)}:f.oRequestAnimationFrame?function(a){oRequestAnimationFrame(a)}:f.msRequestAnimationFrame?function(a){msRequestAnimationFrame(a)}:function(a){setTimeout(a,1E3/d.Tweener.FPS)},loop:function(){for(var a=
this,b=d.Tweener.Items,c,e=Date.now(),f,g=b.length,h,k,j;g--;)if(c=b[g],k=c.property.length,f=e-c.begin,f<c.duration)for(h=0;h<k;h++)j=c.property[h],d.Tweener._setProp(c.target,j,c.ease(f,j.from,j.distance,c.duration));else{for(h=0;h<k;h++)j=c.property[h],d.Tweener._setProp(c.target,j,j.to);if(c.onComplete)c.onComplete();b.splice(g,1)}if(b.length)return a._requestAnimationFrame(function(){a.loop()}),!0;this.stop()},start:function(){var a=this;d.Tweener.timerId=1;a._requestAnimationFrame(function(){a.loop()})},
stop:function(){d.Tweener.Items=[];clearInterval(d.Tweener.timerId);d.Tweener.timerId=null}}});d.Tweener._setProp=function(a,b,c){a[b.name]=b.prefix+c+b.suffix};d.Tweener.timerId=null;d.Tweener.Items=[];d.Tweener.FPS=30;d.Tweener.Duration=500;d.Twitter=d.klass({properties:{_b:"https://twitter.com/intent/tweet?",getShareURL:function(a){var b=a.redirect_uri,c=a.caption||"",d=a.name||"";a=a.hash||"";var f=this._b;return f+=y({url:b,text:c+(d?" \u300c"+d+"\u300d":"")+(a?" "+a:"")})}}});d.XML=d.klass({init:function(a){this.element=
r("div");this.data={};a&&a.data&&this.setData(a.data)},properties:{getData:function(){return this.data},setData:function(a){this.data=this.element.innerHTML=a},$:function(a){return this.element.querySelector(a)},$$:function(a){return G(a,this.element)}}})})(window,document);
