var Global={};
(function(c,b){function d(b,d){var c=d.querySelectorAll(b),e=[],h,k;h=0;for(k=c.length;h<k;h++)e[h]=c[h];return e}function e(b){var d=""+b;return d.match("^{.*}$")?JSON.parse(d):d.match("^[0-9.]+$")?1*d:"true"===d?!0:"false"===d?!1:b}Date.now||(Date.now=function(){return+new Date});Global.utility={win:c,doc:b,body:b.body,$:function(d){return b.querySelector(d)},$$:function(c){return d(c,b)},$child:function(b,d){return d.querySelector(b)},$$child:d,$id:function(d){return b.getElementById(d)},scrollTop:function(){c.scrollTo(0,
1)},onEvent:function(b,d,c){b.addEventListener(d,c)},offEvent:function(b,d,c){b.removeEventListener(d,c)},createElement:function(d){return b.createElement(d)},showElement:function(b){b.style.display="block"},hideElement:function(b){b.style.display="none"},override:function(b,d){for(var c in d)b[c]=d[c];return b},replaceAll:function(b,d,c){return b.split(d).join(c)},windowOpen:function(b,d){return c.open(b,d)},typeCast:e,makeQueryString:function(b){var d="",c="",e;for(e in b)if(b[e]){c=c+(d+e+"="+
encodeURIComponent(b[e]));d="&"}return c},parseQueryString:function(b){var b=b.replace(/^\#/,"").replace(/^\?/,""),b=b.split("&"),d,c,i={};for(d=b.length;d--;){c=b[d].split("=");i[c[0]]=e(decodeURIComponent(c[1]))}return i}}})(window,document);Global.klass=function(c){var b=Global.utility.override,d=c.constructor,e=c.method;(c=c.extend)&&Global.extend(d,c);b(d.prototype,e);return d};
Global.extend=function(c,b){function d(){this.constructor=c}d.prototype=b.prototype;c.prototype=new d;var e=c.prototype;e._superclass=b;e._super=function(){var d=this._prevctor,d=d?d.prototype._superclass:this._prevctor=b;d.apply(this,arguments)}};
(function(){Global.Ajax=Global.klass({constructor:function(){this.xhr=new XMLHttpRequest},method:{request:function(c){var b=c.url,d=c.callback,e;c.cash||(b=b.match(/\?/)?b+"&":b+"?",b+="ajaxcash"+Date.now()+"=0");e=this.xhr=new XMLHttpRequest;e.onload=function(){d(e.responseText)};e.open("GET",b);e.send(null)},abort:function(){this.xhr.abort()}}})})();
(function(){var c=Global.utility.createElement;Global.CanvasImage=function(b){var d=c("canvas"),e=c("img"),f=b.src,g=b.width,j=b.height,i=b.onload;e.onload=function(){d.width=g;d.height=j;d.getContext("2d").drawImage(e,0,0);i(d,e)};e.src=f;return d}})();
(function(){Global.CanvasRender=Global.klass({constructor:function(c){this.canvas=c.canvas;this.ctx=this.canvas.getContext("2d");this.canvasWidth=this.canvas.width;this.canvasHeight=this.canvas.height;this.setSize(c)},method:{setSize:function(c){c.width&&(this.canvas.width=this.canvasWidth=c.width);c.height&&(this.canvas.height=this.canvasHeight=c.height)},draw:function(c){this.ctx.clearRect(0,0,this.canvasWidth,this.canvasHeight);for(var b=0,d=c.length,e;b<d;b++)e=c[b],this.ctx.drawImage(e.image,
e.x,e.y)}}})})();(function(){var c;Global.DataStore=Global.klass({constructor:function(b){b=b||{single:!1};if(b.single&&c)return c;this.data={};b.single&&(c=this)},method:{setData:function(b,d){this.data[b]=d;return!0},getData:function(b){var d=this.data;if(b)return d[b];var b={},c;for(c in d)b[c]=d[c];return b},removeData:function(b){var d=this.data;if(!d[b])return!1;delete d[b];return!0},resetData:function(){this.data={};return!0}}})})();
(function(){var c,b=Global.utility.override;Global.Event=Global.klass({constructor:function(d){d=b({single:!1,isMobile:function(){return!1}},d);if(d.single&&c)return c;this.click="click";this.mousedown="mousedown";this.mousemove="mousemove";this.mouseup="mouseup";this.touchstart="touchstart";this.touchmove="touchmove";this.touchend="touchend";this.switchdown=this.switchclick="touchstart";this.switchmove="touchmove";this.switchup="touchend";d.isMobile()||(this.switchclick="click",this.switchdown="mousedown",
this.switchmove="mousemove",this.switchup="mouseup");d.single&&(c=this)}})})();(function(){var c;Global.ExternalInterface=function(b){var b=b||{},d;if(b.single&&c)return c;d=b.android?new Global.ExternalAndroidInterface(b):new Global.ExternalIOSInterface(b);b.single&&(c=d);return d}})();
(function(){var c;Global.ExternalAndroidInterface=Global.klass({constructor:function(b){b=b||{};if(b.single&&c)return c;this.android=b.android;this.externalObj=b.externalObj;this.hashCtrl=new Global.HashController;this.externalObj||(Global.EXTERNAL_ANDROID={},this.externalObj=Global.EXTERNAL_ANDROID);b.single&&(c=this)},method:{call:function(b){this.android[b.mode](this.hashCtrl.makeHash(b))},addCallback:function(b,d){var c=this;c.externalObj[b]=function(b){b=c.hashCtrl.parseHash(b);return d(b.vars)}},
removeCallback:function(b){delete this.externalObj[b]}}})})();
(function(){var c=Global.utility.win,b;Global.ExternalIOSInterface=Global.klass({constructor:function(d){d=d||{};if(d.single&&b)return b;this.ios={};this.hashCtrl=new Global.HashController;d.single&&(b=this)},method:{call:function(b){this.hashCtrl.setHash(b)},addCallback:function(b,e){var f=this;f.ios[b]=function(){var c=f.hashCtrl.getHash();return c.mode===b?(e(c.vars),!0):!1};c.addEventListener("hashchange",this.ios[b])},removeCallback:function(b){c.removeEventListener("hashchange",this.ios[b]);
delete this.ios[b]}}})})();(function(){var c=Global.utility.makeQueryString;Global.Facebook=Global.klass({constructor:function(){},method:{getShareURL:function(b){var d="https://www.facebook.com/dialog/feed?app_id="+b.app_id+"&redirect_uri="+b.redirect_uri;return d+=c({link:b.link,picture:b.picture,name:b.name,caption:b.caption,description:b.description})}}})})();
(function(){function c(d){d.nexttime<=Date.now()&&(b(d),d.nexttime=d.nowtime+d.msecFrame);1===d.loopid&&g(function(){c(d)})}function b(b){b.nowtime=Date.now();b.surver=Math.round(1E3/(b.nowtime-b.prevtime));b.prevtime=b.nowtime;b.enter()}var d,e=Global.utility,f=e.override,e=e.win,g=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||!1;Global.FPS=Global.klass({constructor:function(b){b=f({single:!1,criterion:20},
b);if(b.single&&d)return d;this.surver=this.criterion=b.criterion;this.enterframe=b.enterframe;this.msecFrame=Math.round(1E3/this.criterion);this.prevtime=this.nowtime=this.nexttime=this.loopid=0;b.single&&(d=this)},method:{getCriterion:function(){return this.criterion},getSurver:function(){return this.surver},getFrameTime:function(){return this.msecFrame},enter:function(){this.enterframe({criterion:this.criterion,surver:this.surver})},start:function(){this.prevtime=Date.now();this.nexttime=this.prevtime+
this.msecFrame;g?(this.loopid=1,c(this)):this.loopid=setInterval(b,this.msecFrame,this)},stop:function(){clearInterval(this.loopid);this.loopid=0}}})})();
(function(){var c=Global.utility.typeCast;Global.HashController=Global.klass({constructor:function(){},method:{makeHash:function(b){var d="#"+b.mode,b=b.vars,c="?",f;for(f in b)d+=c+f+"="+JSON.stringify(b[f]),c="&";return encodeURI(d)},setHash:function(b){location.hash=this.makeHash(b);return!0},parseHash:function(b){var d,e=null;d=decodeURIComponent(b).split("#")[1];if(!d)return!1;d=d.split("?");b=d[0];if(d[1]){e={};d=d[1].split("&");var f,g;for(g=d.length;g--;)if(d[g]){f=d[g].split("=");var j=e,
i=f[0];f=f[1];var h=c(f);f=f===h&&f.match("^[\"'](.*)[\"']$")?f.match("^[\"'](.*)[\"']$")[1]:h;j[i]=f}return{mode:b,vars:e}}return{mode:b}},getHash:function(){return this.parseHash(location.hash)}}})})();
(function(){var c=Global.utility.createElement,b=function(){};Global.ImgLoad=Global.klass({constructor:function(d){var c=this;c.srcs=d.srcs;c.srccount=this.srcs.length;c.loadedsrcs=[];c.onload=d.onload||b;c.onprogress=d.onprogress||b;c.loadcount=0;c.progress=0;c.check=function(){c.loadcount++;c.progress=c.loadcount/c.srccount;c.onprogress(c.progress);if(c.loadcount>=c.srccount)c.onload(c.loadedsrcs)}},method:{start:function(){var b,e,f;e=0;for(f=this.srccount;e<f;e++)b=c("img"),b.src=this.srcs[e],
b.onload=this.check,this.loadedsrcs.push(b)},getProgress:function(){return this.progress}}})})();(function(){var c=Global.utility.win;Global.Loading=Global.klass({constructor:function(b){if(b&&b.onload)this.onload(b.onload)},method:{onload:function(b){c.addEventListener("load",b)}}})})();
(function(){var c,b=Global.utility.win.localStorage;Global.LocalStorage=Global.klass({constructor:function(b){b=b||{single:!1};if(b.single&&c)return c;b.single&&(c=this)},method:{setData:function(d,c){b.setItem(d,JSON.stringify(c));return!0},getData:function(c){if(c)return JSON.parse(b.getItem(c));var c={},e;for(e in b)c[e]=JSON.parse(b[e]);return c},removeData:function(c){if(!b.getItem(c))return!1;b.removeItem(c);return!0},resetData:function(){b.clear();return!0}}})})();
(function(){function c(b){b.preventDefault();return!1}function b(b,c){b=b?b:m;return b.match(c)?!0:!1}function d(){0===g.pageYOffset&&k()}function e(){setTimeout(d,100)}var f=Global.utility,g=f.win,j=f.doc,i=f.onEvent,h=f.offEvent,k=f.scrollTop,m=navigator.userAgent;Global.Mobile=Global.klass({constructor:function(){},method:{isAndroid:function(c){return b(c,/Android/i)},isIOS:function(c){return b(c,/iPhone|iPad|iPod/i)},isWindows:function(c){return b(c,/IEMobile/i)},isFBAPP:function(c){return b(c,
/FBAN/)},isMobile:function(){return this.isAndroid()||this.isIOS()||this.isWindows()||this.isFBAPP()},killScroll:function(){k();i(j,"touchmove",c)},revivalScroll:function(){k();h(j,"touchmove",c)},hideAddress:function(){i(g,"load",e,!1);i(g,"orientationchange",e,!1)},orientationCheck:function(){return 90!==Math.abs(g.orientation)&&g.innerWidth<g.innerHeight?{portrait:!0,landscape:!1}:{portrait:!1,landscape:!0}},orientationChange:function(b){function c(b,d){b(g,"load",d);b(g,"orientationchange",d);
b(g,"resize",d)}function d(){e();c(h,d)}function e(){if(f.orientationCheck().portrait)return b.portrait(),!0;b.landscape()}var f=this;b.immediately&&e();if(b.one)return c(i,d),function(){c(h,d)};c(i,e);return function(){c(h,e)}}}})})();(function(){Global.NumberImage=Global.klass({constructor:function(c){c=c||{type:""};this.type=c.type},method:{make:function(c){var c=(""+c).split(""),b="",d;for(d=c.length;d--;)b='<span class="num_'+(this.type+c[d])+'">&nbsp;</span>'+b;return b}}})})();
(function(){var c;Global.Observer=Global.klass({constructor:function(b){b=b||{single:!1};if(b.single&&c)return c;this.observed={};b.single&&(c=this)},method:{getObserved:function(){return this.observed},on:function(b,c){var e=this.observed;e[b]||(e[b]=[]);e[b].push(c)},forOn:function(b){for(var c in b)this.on(c,b[c])},one:function(b,c){var e=this,f=function(g){c(g);e.off(b,f)};e.on(b,f)},off:function(b,c){var e=this.observed;if(!c)return delete e[b],!0;var f=e[b],g;if(!f)return!1;for(g=f.length;g--;)if(c===
f[g])return f.splice(g,1),0===f.length&&delete e[b],!0;return!1},forOff:function(b){for(var c in b)this.off(c,b[c])},fire:function(b,c){var e=this.observed[b],f,g;if(!e)return!1;for(g=e.length;g--;)(f=e[g])&&f(c);return!0}}})})();
(function(){function c(b){var c=Date.now(),d=c-b.prevtime;b.prevtime=c;if(d<b.loopblur&&(b.guesslimit--,1>b.guesslimit)){clearInterval(b.loopid);for(c=b.elements.length;c--;)f(b.elements[c]);b.onrendered()}}var b=Global.utility,d=b.override,e=b.showElement,f=b.hideElement;Global.PreRender=Global.klass({constructor:function(b){b=d({elements:[],guesslimit:30,looptime:100,loopblur:20,onrendered:function(){}},b);this.elements=b.elements;this.guesslimit=b.guesslimit;this.onrendered=b.onrendered;this.looptime=
b.looptime;this.loopblur=this.looptime+b.loopblur;this.prevtime=this.loopid=null},method:{start:function(){var b;for(b=this.elements.length;b--;)e(this.elements[b]);this.prevtime=Date.now();this.loopid=setInterval(c,this.looptime,this)}}})})();
(function(){function c(b){return e?d.getResponseHeader(b):!1}function b(b){var c=new XMLHttpRequest;c.onload=function(){b(c)};c.open("HEAD",location.href+"?update"+Date.now()+"=1");c.send(null);return c}"use strice";var d,e=!1;Global.ServerMeta=Global.klass({constructor:function(c){var c=c||{},g=c.callback||function(){};d?g(d):d=b(function(){e=!0;g(d)})},method:{date:function(c){return b(function(b){b=new Date(b.getResponseHeader("Date"));c(b)})},connection:function(){return c("Connection")},contentLength:function(){return c("Content-Length")},
lastModified:function(){return c("Last-Modified")},server:function(){return c("Server")},contentType:function(){return c("Content-Type")},acceptRanges:function(){return c("Accept-Ranges")},keepAlive:function(){return c("Keep-Alive")}}})})();var a=new Global.ServerMeta;
(function(){Global.Surrogate=Global.klass({constructor:function(c){this.delay=c.delay;this.callback=c.callback;this.waitid=this.args=null},method:{request:function(c){this.args=c;this.clear();this.waitid=setTimeout(this.flush,this.delay,this)},flush:function(c){c=c||this;c.callback(c.args)},clear:function(){clearInterval(this.waitid)}}})})();
Global.Timer=function(c){function b(){l=Date.now();var c=g-(l-n)/1E3;0>c&&(c=0);p=d(c);h(p);if(l>o)return q.stop(),k(),!0;r=setTimeout(b,i);return!1}function d(b){var c;c=(""+b).split(".");b=c[0];c=c[1]?c[1]:"";b=e({num:b,digit:m.integer});c=e({num:c,digit:m.few,isFew:!0});return b+"."+c}function e(b){var c=""+b.num,d=b.digit,e=d-c.length;return!b.isFew?-1<e?f(e,0)+c:f(d,9):0<e?c+f(e,0):c.slice(0,d)}function f(b,c){for(var d="",c=""+c;0<b;)d+=c,b--;return d}var g=c.limit,j=1E3*g,i=1E3*c.interval,
h=c.onupdate,k=c.ontimeup,m=function(b){b=b.split(".");return{integer:b[0].length,few:b[1].length}}(c.template),n=0,l=0,o=j,p=d(g),r,q={getLimit:function(){return g},getTime:function(){return p},getProgress:function(){return 1-(o-l)/j},setUpdate:function(b){h=b},setTimeup:function(b){k=b},countDown:function(){l=n=Date.now();o=n+j;b()},stop:function(){clearInterval(r)}};return q};
(function(){var c=Global.utility.makeQueryString;Global.Twitter=Global.klass({constructor:function(){},method:{getShareURL:function(b){var d=b.redirect_uri,e=b.caption||"",f=b.name||"",b=b.hash||"";return d="https://twitter.com/intent/tweet?"+c({url:d,text:e+(f?" \u300c"+f+"\u300d":"")+(b?" "+b:"")})}}})})();
(function(){var c=Global.utility,b=c.$child,d=c.$$child,e=c.createElement;Global.XML=Global.klass({constructor:function(b){this.element=e("div");this.data={};b&&b.data&&this.setData(b.data)},method:{getData:function(){return this.data},setData:function(b){this.data=this.element.innerHTML=b},$:function(c){return b(c,this.element)},$$:function(b){return d(b,this.element)}}})})();
