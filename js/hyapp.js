var Global={};
(function(c,a){function b(a,b){var d=b.querySelectorAll(a),c=[],g,j;g=0;for(j=d.length;g<j;g++)c[g]=d[g];return c}function d(a){var b=""+a;return b.match("^{.*}$")?JSON.parse(b):b.match("^[0-9.]+$")?1*b:"true"===b?!0:"false"===b?!1:a}Date.now||(Date.now=function(){return+new Date});Global.utility={win:c,doc:a,body:a.body,$:function(b){return a.querySelector(b)},$$:function(d){return b(d,a)},$child:function(a,b){return b.querySelector(a)},$$child:b,$id:function(b){return a.getElementById(b)},scrollTop:function(){c.scrollTo(0,
1)},onEvent:function(a,b,d){a.addEventListener(b,d)},offEvent:function(a,b,d){a.removeEventListener(b,d)},createElement:function(b){return a.createElement(b)},showElement:function(a){a.style.display="block"},hideElement:function(a){a.style.display="none"},override:function(a,b){for(var d in b)a[d]=b[d];return a},replaceAll:function(a,b,d){return a.split(b).join(d)},windowOpen:function(a,b){return c.open(a,b)},typeCast:d,makeQueryString:function(a){var b="",d="",c;for(c in a)if(a[c]){d=d+(b+c+"="+
encodeURIComponent(a[c]));b="&"}return d},parseQueryString:function(a){var a=a.replace(/^\#/,"").replace(/^\?/,""),a=a.split("&"),b,c,h={};for(b=a.length;b--;){c=a[b].split("=");h[c[0]]=d(decodeURIComponent(c[1]))}return h}}})(window,document);
(function(){Global.Ajax=function(){this.xhr=new XMLHttpRequest};Global.Ajax.prototype={request:function(c){var a=c.url,b=c.callback,d;c.cash||(a=a.match(/\?/)?a+"&":a+"?",a+="ajaxcash"+Date.now()+"=0");d=this.xhr=new XMLHttpRequest;d.onload=function(){b(d.responseText)};d.open("GET",a);d.send(null)},abort:function(){this.xhr.abort()}}})();
(function(){var c=Global.utility.createElement;Global.CanvasImage=function(a){var b=c("canvas"),d=c("img"),e=a.src,f=a.width,i=a.height,h=a.onload;d.onload=function(){b.width=f;b.height=i;b.getContext("2d").drawImage(d,0,0);h(b,d)};d.src=e;return b}})();
(function(){Global.CanvasRender=function(c){this.canvas=c.canvas;this.ctx=this.canvas.getContext("2d");this.canvasWidth=this.canvas.width;this.canvasHeight=this.canvas.height;this.setSize(c)};Global.CanvasRender.prototype={setSize:function(c){c.width&&(this.canvas.width=this.canvasWidth=c.width);c.height&&(this.canvas.height=this.canvasHeight=c.height)},draw:function(c){this.ctx.clearRect(0,0,this.canvasWidth,this.canvasHeight);for(var a=0,b=c.length,d;a<b;a++)d=c[a],this.ctx.drawImage(d.image,d.x,
d.y)}}})();(function(){var c;Global.DataStore=function(a){a=a||{single:!1};if(a.single&&c)return c;this.data={};a.single&&(c=this)};Global.DataStore.prototype={setData:function(a,b){this.data[a]=b;return!0},getData:function(a){var b=this.data;if(a)return b[a];var a={},d;for(d in b)a[d]=b[d];return a},removeData:function(a){var b=this.data;if(!b[a])return!1;delete b[a];return!0},resetData:function(){this.data={};return!0}}})();
(function(){var c,a=Global.utility.override;Global.Event=function(b){b=a({single:!1,isMobile:function(){return!1}},b);if(b.single&&c)return c;this.click="click";this.mousedown="mousedown";this.mousemove="mousemove";this.mouseup="mouseup";this.touchstart="touchstart";this.touchmove="touchmove";this.touchend="touchend";this.switchdown=this.switchclick="touchstart";this.switchmove="touchmove";this.switchup="touchend";b.isMobile()||(this.switchclick="click",this.switchdown="mousedown",this.switchmove=
"mousemove",this.switchup="mouseup");b.single&&(c=this)}})();(function(){var c;Global.ExternalInterface=function(a){var a=a||{},b;if(a.single&&c)return c;b=a.android?new Global.ExternalAndroidInterface(a):new Global.ExternalIOSInterface(a);a.single&&(c=b);return b}})();
(function(){var c;Global.ExternalAndroidInterface=function(a){a=a||{};if(a.single&&c)return c;this.android=a.android;this.externalObj=a.externalObj;this.hashCtrl=new Global.HashController;this.externalObj||(Global.EXTERNAL_ANDROID={},this.externalObj=Global.EXTERNAL_ANDROID);a.single&&(c=this)};Global.ExternalAndroidInterface.prototype={call:function(a){this.android[a.mode](this.hashCtrl.makeHash(a))},addCallback:function(a,b){var d=this;d.externalObj[a]=function(a){a=d.hashCtrl.parseHash(a);return b(a.vars)}},
removeCallback:function(a){delete this.externalObj[a]}}})();
(function(){var c=Global.utility.win,a;Global.ExternalIOSInterface=function(b){b=b||{};if(b.single&&a)return a;this.ios={};this.hashCtrl=new Global.HashController;b.single&&(a=this)};Global.ExternalIOSInterface.prototype={call:function(a){this.hashCtrl.setHash(a)},addCallback:function(a,d){var e=this;e.ios[a]=function(){var c=e.hashCtrl.getHash();return c.mode===a?(d(c.vars),!0):!1};c.addEventListener("hashchange",this.ios[a])},removeCallback:function(a){c.removeEventListener("hashchange",this.ios[a]);
delete this.ios[a]}}})();(function(){var c=Global.utility.makeQueryString;Global.Facebook=function(){};Global.Facebook.prototype={getShareURL:function(a){var b="https://www.facebook.com/dialog/feed?app_id="+a.app_id+"&redirect_uri="+a.redirect_uri;return b+=c({link:a.link,picture:a.picture,name:a.name,caption:a.caption,description:a.description})}}})();
(function(){function c(b){b.nexttime<=Date.now()&&(a(b),b.nexttime=b.nowtime+b.msecFrame);1===b.loopid&&f(function(){c(b)})}function a(a){a.nowtime=Date.now();a.surver=Math.round(1E3/(a.nowtime-a.prevtime));a.prevtime=a.nowtime;a.enter()}var b,d=Global.utility,e=d.override,d=d.win,f=d.requestAnimationFrame||d.webkitRequestAnimationFrame||d.mozRequestAnimationFrame||d.oRequestAnimationFrame||d.msRequestAnimationFrame||!1;Global.FPS=function(a){a=e({single:!1,criterion:20},a);if(a.single&&b)return b;
this.surver=this.criterion=a.criterion;this.enterframe=a.enterframe;this.msecFrame=Math.round(1E3/this.criterion);this.prevtime=this.nowtime=this.nexttime=this.loopid=0;a.single&&(b=this)};Global.FPS.prototype={getCriterion:function(){return this.criterion},getSurver:function(){return this.surver},getFrameTime:function(){return this.msecFrame},enter:function(){this.enterframe({criterion:this.criterion,surver:this.surver})},start:function(){this.prevtime=Date.now();this.nexttime=this.prevtime+this.msecFrame;
f?(this.loopid=1,c(this)):this.loopid=setInterval(a,this.msecFrame,this)},stop:function(){clearInterval(this.loopid);this.loopid=0}}})();
(function(){var c=Global.utility.typeCast;Global.HashController=function(){};Global.HashController.prototype={makeHash:function(a){var b="#"+a.mode,a=a.vars,d="?",c;for(c in a)b+=d+c+"="+JSON.stringify(a[c]),d="&";return encodeURI(b)},setHash:function(a){location.hash=this.makeHash(a);return!0},parseHash:function(a){var b,d=null;b=decodeURIComponent(a).split("#")[1];if(!b)return!1;b=b.split("?");a=b[0];if(b[1]){d={};b=b[1].split("&");var e,f;for(f=b.length;f--;)if(b[f]){e=b[f].split("=");var i=d,
h=e[0];e=e[1];var g=c(e);e=e===g&&e.match("^[\"'](.*)[\"']$")?e.match("^[\"'](.*)[\"']$")[1]:g;i[h]=e}return{mode:a,vars:d}}return{mode:a}},getHash:function(){return this.parseHash(location.hash)}}})();
(function(){var c=Global.utility.createElement,a=function(){};Global.ImgLoad=function(b){var d=this;d.srcs=b.srcs;d.srccount=this.srcs.length;d.loadedsrcs=[];d.onload=b.onload||a;d.onprogress=b.onprogress||a;d.loadcount=0;d.progress=0;d.check=function(){d.loadcount++;d.progress=d.loadcount/d.srccount;d.onprogress(d.progress);if(d.loadcount>=d.srccount)d.onload(d.loadedsrcs)}};Global.ImgLoad.prototype={start:function(){var a,d,e;d=0;for(e=this.srccount;d<e;d++)a=c("img"),a.src=this.srcs[d],a.onload=
this.check,this.loadedsrcs.push(a)},getProgress:function(){return this.progress}}})();(function(){var c=Global.utility.win;Global.Loading=function(a){if(a&&a.onload)this.onload(a.onload)};Global.Loading.prototype={onload:function(a){c.addEventListener("load",a)}}})();
(function(){var c,a=Global.utility.win.localStorage;Global.LocalStorage=function(a){a=a||{single:!1};if(a.single&&c)return c;a.single&&(c=this)};Global.LocalStorage.prototype={setData:function(b,d){a.setItem(b,JSON.stringify(d));return!0},getData:function(b){if(b)return JSON.parse(a.getItem(b));var b={},d;for(d in a)b[d]=JSON.parse(a[d]);return b},removeData:function(b){if(!a.getItem(b))return!1;a.removeItem(b);return!0},resetData:function(){a.clear();return!0}}})();
(function(){function c(a){a.preventDefault();return!1}function a(a,b){a=a?a:l;return a.match(b)?!0:!1}function b(){0===f.pageYOffset&&j()}function d(){setTimeout(b,100)}var e=Global.utility,f=e.win,i=e.doc,h=e.onEvent,g=e.offEvent,j=e.scrollTop,l=navigator.userAgent;Global.Mobile=function(){};Global.Mobile.prototype={isAndroid:function(b){return a(b,/Android/i)},isIOS:function(b){return a(b,/iPhone|iPad|iPod/i)},isWindows:function(b){return a(b,/IEMobile/i)},isMobile:function(){return this.isAndroid()||
this.isIOS()||this.isWindows()},killScroll:function(){j();h(i,"touchmove",c)},revivalScroll:function(){j();g(i,"touchmove",c)},hideAddress:function(){h(f,"load",d,!1);h(f,"orientationchange",d,!1)},orientationCheck:function(){return 90!==Math.abs(f.orientation)&&f.innerWidth<f.innerHeight?{portrait:!0,landscape:!1}:{portrait:!1,landscape:!0}},orientationChange:function(a){function b(a,d){a(f,"load",d);a(f,"orientationchange",d);a(f,"resize",d)}function d(){c();b(g,d)}function c(){if(this.orientationCheck().portrait)return a.portrait(),
!0;a.landscape()}a.immediately&&c();if(a.one)return b(h,d),function(){b(g,d)};b(h,c);return function(){b(g,c)}}}})();(function(){Global.NumberImage=function(c){c=c||{type:""};this.type=c.type};Global.NumberImage.prototype={make:function(c){var c=(""+c).split(""),a="",b;for(b=c.length;b--;)a='<span class="num_'+(this.type+c[b])+'">&nbsp;</span>'+a;return a}}})();
(function(){var c;Global.Observer=function(a){a=a||{single:!1};if(a.single&&c)return c;this.observed={};a.single&&(c=this)};Global.Observer.prototype={getObserved:function(){return this.observed},on:function(a,b){var d=this.observed;d[a]||(d[a]=[]);d[a].push(b)},forOn:function(a){for(var b in a)this.on(b,a[b])},one:function(a,b){var d=this,c=function(f){b(f);d.off(a,c)};d.on(a,c)},off:function(a,b){var d=this.observed;if(!b)return delete d[a],!0;var c=d[a],f;if(!c)return!1;for(f=c.length;f--;)if(b===
c[f])return c.splice(f,1),0===c.length&&delete d[a],!0;return!1},forOff:function(a){for(var b in a)this.off(b,a[b])},fire:function(a,b){var c=this.observed[a],e,f;if(!c)return!1;for(f=c.length;f--;)(e=c[f])&&e(b);return!0}}})();
(function(){function c(a){var b=Date.now(),c=b-a.prevtime;a.prevtime=b;if(c<a.loopblur&&(a.guesslimit--,1>a.guesslimit)){clearInterval(a.loopid);for(b=a.elements.length;b--;)e(a.elements[b]);a.onrendered()}}var a=Global.utility,b=a.override,d=a.showElement,e=a.hideElement;Global.PreRender=function(a){a=b({elements:[],guesslimit:30,looptime:100,loopblur:20,onrendered:function(){}},a);this.elements=a.elements;this.guesslimit=a.guesslimit;this.onrendered=a.onrendered;this.looptime=a.looptime;this.loopblur=
this.looptime+a.loopblur;this.prevtime=this.loopid=null};Global.PreRender.prototype={start:function(){var a;for(a=this.elements.length;a--;)d(this.elements[a]);this.prevtime=Date.now();this.loopid=setInterval(c,this.looptime,this)}}})();
(function(){Global.Surrogate=function(c){this.delay=c.delay;this.callback=c.callback;this.waitid=this.args=null};Global.Surrogate.prototype={request:function(c){this.args=c;this.clear();this.waitid=setTimeout(this.flush,this.delay,this)},flush:function(c){c=c||this;c.callback(c.args)},clear:function(){clearInterval(this.waitid)}}})();
Global.Timer=function(c){function a(){k=Date.now();var c=f-(k-m)/1E3;0>c&&(c=0);o=b(c);g(o);if(k>n)return q.stop(),j(),!0;p=setTimeout(a,h);return!1}function b(a){var b;b=(""+a).split(".");a=b[0];b=b[1]?b[1]:"";a=d({num:a,digit:l.integer});b=d({num:b,digit:l.few,isFew:!0});return a+"."+b}function d(a){var b=""+a.num,c=a.digit,d=c-b.length;return!a.isFew?-1<d?e(d,0)+b:e(c,9):0<d?b+e(d,0):b.slice(0,c)}function e(a,b){for(var c="",b=""+b;0<a;)c+=b,a--;return c}var f=c.limit,i=1E3*f,h=1E3*c.interval,
g=c.onupdate,j=c.ontimeup,l=function(a){a=a.split(".");return{integer:a[0].length,few:a[1].length}}(c.template),m=0,k=0,n=i,o=b(f),p,q={getLimit:function(){return f},getTime:function(){return o},getProgress:function(){return 1-(n-k)/i},setUpdate:function(a){g=a},setTimeup:function(a){j=a},countDown:function(){k=m=Date.now();n=m+i;a()},stop:function(){clearInterval(p)}};return q};
(function(){var c=Global.utility.makeQueryString;Global.Twitter=function(){};Global.Twitter.prototype={getShareURL:function(a){var b=a.redirect_uri,d=a.caption||"",e=a.name||"",a=a.hash||"";return b="https://twitter.com/intent/tweet?"+c({url:b,text:d+(e?" \u300c"+e+"\u300d":"")+(a?" "+a:"")})}}})();
(function(){var c=Global.utility,a=c.$child,b=c.$$child,d=c.createElement;Global.XML=function(a){this.element=d("div");this.data={};a&&a.data&&this.setData(a.data)};Global.XML.prototype={getData:function(){return this.data},setData:function(a){this.data=this.element.innerHTML=a},$:function(b){return a(b,this.element)},$$:function(a){return b(a,this.element)}}})();
