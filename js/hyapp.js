var Global={};
(function(b,a){function c(e,d){var a=d.querySelectorAll(e),b=[],c,k;c=0;for(k=a.length;c<k;c++)b[c]=a[c];return b}Date.now||(Date.now=function(){return+new Date});Global.utility={win:b,doc:a,body:a.querySelector("body"),$:function(e){return a.querySelector(e)},$$:function(e){return c(e,a)},$child:function(e,d){return d.querySelector(e)},$$child:c,$id:function(e){return a.getElementById(e)},onEvent:function(e,d,a){e.addEventListener(d,a)},offEvent:function(e,d,a){e.removeEventListener(d,a)},createElement:function(e){return a.createElement(e)},
showElement:function(e){e.style.display="block"},hideElement:function(e){e.style.display="none"},override:function(e,d){for(var a in d)e[a]=d[a];return e},replaceAll:function(e,d,a){return e.split(d).join(a)},windowOpen:function(a,d){return b.open(a,d)},makeQueryString:function(a){var d="",c="",b;for(b in a)if(a[b]){c=c+(d+b+"="+encodeURIComponent(a[b]));d="&"}return c},parseQueryString:function(a){var a=a.replace(/^\#/,"").replace(/^\?/,""),a=a.split("&"),d,c,b={};for(d=a.length;d--;){c=a[d].split("=");
b[c[0]]=decodeURIComponent(c[1])}return b}}})(window,document);Global.Ajax=function(){var b=new XMLHttpRequest;return{request:function(a){var c=a.url,e=a.callback;a.cash||(c=c.match(/\?/)?c+"&":c+"?",c+="ajaxcash"+Date.now()+"=0");b=new XMLHttpRequest;b.onload=function(){e(b.responseText)};b.open("GET",c);b.send(null)},abort:function(){b.abort()}}};
Global.CanvasImage=function(b){var a=Global.utility.createElement,c=b.src,e=b.width,d=b.height,g=b.onload,f=a("img"),h=a("canvas");f.onload=function(){h.width=e;h.height=d;h.getContext("2d").drawImage(f,0,0);g(h,f)};f.src=c;return h};
Global.CanvasRender=function(b){var a=b.canvas,c=a.getContext("2d"),e=a.width,d=a.height,g,f,h,k={setSize:function(c){c.width&&(e=c.width,a.width=e);c.height&&(d=c.height,a.height=d)},draw:function(a){c.clearRect(0,0,e,d);g=0;for(f=a.length;g<f;g++)h=a[g],c.drawImage(h.image,h.x,h.y)}};k.setSize(b);return k};
Global.DataStore=function(b){var a=Global.DataStore,c=Global.utility.override,e,b=c({single:!1},b);if(b.single&&a.instance)return a.instance;e={};c={setData:function(a,c){e[a]=c;return!0},getData:function(a){if(a)return e[a];var a={},c;for(c in e)a[c]=e[c];return a},resetData:function(){e={};return!0}};b.single&&(a.instance=c);return c};
Global.Event=function(b){var a=Global.Event,c=Global.utility.override,b=c({single:!1,isMobile:function(){return!1}},b);if(b.single&&a.instance)return a.instance;c={click:"click",mousedown:"mousedown",mousemove:"mousemove",mouseup:"mouseup",touchstart:"touchstart",touchmove:"touchmove",touchend:"touchend",switchclick:"touchstart",switchdown:"touchstart",switchmove:"touchmove",switchup:"touchend"};b.isMobile()&&(c.switchclick="click",c.switchdown="mousedown",c.switchmove="mousemove",c.switchup="mouseup");
b.single&&(a.instance=c);return c};
Global.ExternalInterface=function(b){var a=!1,c=null,e=null,d=new Global.HashController;b||(b={});b.android?(a=!0,c=b.android,Global.EXTERNAL={}):e={};return function(){var b;b=a?{call:function(a){c[a.mode](d.makeHash(a))},addCallback:function(a,c){Global.EXTERNAL[a]=function(a){a=d.parseHash(a);return c(a.vars)}},removeCallback:function(a){delete Global.EXTERNAL[a]}}:{call:function(a){d.setHash(a)},addCallback:function(a,c){e[a]=function(){var b=d.getHash();if(b.mode===a){c(b.vars);return true}return false};
window.addEventListener("hashchange",e[a])},removeCallback:function(a){window.removeEventListener("hashchange",e[a]);delete e[a]}};b.isAndroid=function(){return a};return b}()};Global.Facebook=function(){var b=Global.utility.makeQueryString;return{getShareURL:function(a){var c="https://www.facebook.com/dialog/feed?app_id="+a.app_id+"&redirect_uri="+a.redirect_uri;return c+=b({link:a.link,picture:a.picture,name:a.name,caption:a.caption,description:a.description})}}};
Global.FPS=function(b){function a(){l++;l===q&&(l=0,c());1===j&&p(a)}function c(){m=Date.now();h=Math.round(1E3/(m-o));o=m;n.enter()}var e=Global.FPS,d=Global.utility,g=d.override,b=g({single:!1,criterion:20},b);if(b.single&&e.instance)return e.instance;var d=d.win,f=b.criterion,h=f,k=b.enterframe,i=Math.round(1E3/f),o,m,j,n={getCriterion:function(){return f},getSurver:function(){return h},getFrameTime:function(){return i},enter:function(){k({criterion:f,surver:h})},start:function(){o=Date.now();
p?(j=1,a()):j=setInterval(c,i)},stop:function(){clearInterval(j);j=0}},l=0,q=Math.round(60/f)+1,p=d.requestAnimationFrame||d.webkitRequestAnimationFrame||d.mozRequestAnimationFrame||d.oRequestAnimationFrame||d.msRequestAnimationFrame||!1;b.single&&(e.instance=n);return n};
Global.HashController=function(){var b={makeHash:function(a){var c="#"+a.mode,a=a.vars,b="?",d;for(d in a)c+=b+d+"="+JSON.stringify(a[d]),b="&";return encodeURI(c)},setHash:function(a){location.hash=b.makeHash(a);return!0},parseHash:function(a){var c,b=null;c=decodeURIComponent(a).split("#")[1];if(!c)return!1;c=c.split("?");a=c[0];if(c[1]){b={};c=c[1].split("&");var d,g;for(g=c.length;g--;)c[g]&&(d=c[g].split("="),b[d[0]]=d[1].match("^{.*}$")?JSON.parse(d[1]):d[1].match("^[0-9.]+$")?1*d[1]:"true"===
d[1]?!0:"false"===d[1]?!1:d[1].match("^[\"'](.*)[\"']$")?d[1].match("^[\"'](.*)[\"']$")[1]:d[1]);return{mode:a,vars:b}}return{mode:a}},getHash:function(){return b.parseHash(location.hash)}};return b};Global.ImgLoad=function(b){function a(){f++;f>=d&&g()}var c=Global.utility.createElement,e=b.srcs,d=e.length,g=b.onload,f=0;return{start:function(){var b,f;for(f=d;f--;)b=c("img"),b.src=e[f],b.onload=a}}};
Global.Loading=function(b){var a=Global.utility.win,c={onload:function(b){a.addEventListener("load",b)}};if(b&&b.onload)c.onload(b.onload);return c};
Global.Mobile=function(){function b(a){a.preventDefault();return!1}function a(){d.scrollTo(0,1)}function c(a,b){a=a?a:k;return a.match(b)?!0:!1}var e=Global.utility,d=e.win,g=e.doc,f=e.onEvent,h=e.offEvent,k=navigator.userAgent,i={isAndroid:function(a){return c(a,/Android/i)},isIOS:function(a){return c(a,/iPhone|iPad|iPod/i)},isWindows:function(a){return c(a,/IEMobile/i)},isMobile:function(){return i.isAndroid()||i.isIOS()||i.isWindows()},scrollTop:a,killScroll:function(){a();f(g,"touchmove",b)},
revivalScroll:function(){a();h(g,"touchmove",b)},hideAddress:function(){function b(){0===d.pageYOffset&&a()}function c(){setTimeout(b,100)}f(d,"load",c,!1);f(d,"orientationchange",c,!1)},orientationCheck:function(){return 90!==Math.abs(d.orientation)&&d.innerWidth<d.innerHeight?{portrait:!0,landscape:!1}:{portrait:!1,landscape:!0}},orientationChange:function(a){function b(a,c){a(d,"load",c);a(d,"orientationchange",c);a(d,"resize",c)}function c(){e();b(h,c)}function e(){if(i.orientationCheck().portrait)return a.portrait(),
!0;a.landscape()}a.immediately&&e();if(a.one)return b(f,c),function(){b(h,c)};b(f,e);return function(){b(h,e)}}};return i};Global.NumberImage=function(b){var a=b.type;a||(a="");return{make:function(b){var b=(""+b).split(""),e="",d;for(d=b.length;d--;)e='<span class="num_'+a+b[d]+'">&nbsp;</span>'+e;return e}}};
Global.Observer=function(b){var a=Global.Observer,c=Global.utility.override,b=c({single:!1},b);if(b.single&&a.instance)return a.instance;var e={},d={getObserved:function(){return e},on:function(a,b){e[a]||(e[a]=[]);e[a].push(b)},forOn:function(a){for(var b in a)d.on(b,a[b])},one:function(a,b){wrapfunc=function(c){b(c);d.off(a,wrapfunc)};d.on(a,wrapfunc)},off:function(a,b){if(!b)return delete e[a],!0;var c=e[a],d;if(!c)return!1;for(d=c.length;d--;)if(b===c[d])return c.splice(d,1),0===c.length&&delete e[a],
!0;return!1},forOff:function(a){for(var b in a)d.off(b,a[b])},fire:function(a,b){var c=e[a],d,i;if(!c)return!1;for(i=c.length;i--;)(d=c[i])&&d(b);return!0}};b.single&&(a.instance=d);return d};
Global.PreRender=function(b){function a(){j=Date.now();n=j-l;l=j;if(n<o&&(h--,1>h)){clearInterval(m);for(var a=f.length;a--;)g(f[a]);k()}}var c=Global.utility,e=c.override,b=e({elements:[],guesslimit:30,looptime:100,loopblur:20,onrendered:function(){}},b),d=c.showElement,g=c.hideElement,f=b.elements,h=b.guesslimit,k=b.onrendered,i=b.looptime,o=i+b.loopblur,m,j,n,l;return{start:function(){var b;for(b=f.length;b--;)d(f[b]);l=Date.now();m=setInterval(a,i)}}};
Global.Proxy=function(b){var a=b.delay,c=b.callback,e,d,g={request:function(b){e=b;g.clear();d=setTimeout(g.flush,a)},flush:function(){c(e)},clear:function(){clearInterval(d)}};return g};
Global.Timer=function(b){function a(){j=Date.now();var b=g-(j-m)/1E3;0>b&&(b=0);l=c(b);k(l);if(j>n)return p.stop(),i(),!0;q=setTimeout(a,h);return!1}function c(a){var b;b=(""+a).split(".");a=b[0];b=b[1]?b[1]:"";a=e({num:a,digit:o.integer});b=e({num:b,digit:o.few,isFew:!0});return a+"."+b}function e(a){var b=""+a.num,c=a.digit,e=c-b.length;return!a.isFew?-1<e?d(e,0)+b:d(c,9):0<e?b+d(e,0):b.slice(0,c)}function d(a,b){for(var c="",b=""+b;0<a;)c+=b,a--;return c}var g=b.limit,f=1E3*g,h=1E3*b.interval,
k=b.onupdate,i=b.ontimeup,o=function(a){a=a.split(".");return{integer:a[0].length,few:a[1].length}}(b.template),m=0,j=0,n=f,l=c(g),q,p={getLimit:function(){return g},getTime:function(){return l},getProgress:function(){return 1-(n-j)/f},setUpdate:function(a){k=a},setTimeup:function(a){i=a},countDown:function(){j=m=Date.now();n=m+f;a()},stop:function(){clearInterval(q)}};return p};
Global.Twitter=function(){var b=Global.utility.makeQueryString;return{getShareURL:function(a){var c=a.redirect_uri,e=a.caption||"",d=a.name||"",a=a.hash||"";d&&(d=" \u300c"+d+"\u300d");a&&(a=" "+a);return c="https://twitter.com/intent/tweet?"+b({url:c,text:e+d+a})}}};
Global.XML=function(b){var a=Global.utility,c=a.$child,e=a.$$child,d=a.createElement("div"),g=b.data;g&&(d.innerHTML=g);return{getData:function(){return g},setData:function(a){g=d.innerHTML=a},$:function(a){return c(a,d)},$$:function(a){return e(a,d)}}};
