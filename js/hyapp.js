var Global={};
(function(a,b){function c(e,d){var a=d.querySelectorAll(e),c=[],b,i;b=0;for(i=a.length;b<i;b++)c[b]=a[b];return c}Date.now||(Date.now=function(){return+new Date});Global.utility={win:a,doc:b,body:b.querySelector("body"),$:function(a){return b.querySelector(a)},$$:function(a){return c(a,b)},$child:function(a,d){return d.querySelector(a)},$$child:c,$id:function(a){return b.getElementById(a)},onEvent:function(a,d,b){a.addEventListener(d,b)},offEvent:function(a,d,b){a.removeEventListener(d,b)},createElement:function(a){return b.createElement(a)},
showElement:function(a){a.style.display="block"},hideElement:function(a){a.style.display="none"},override:function(a,d){for(var b in d)a[b]=d[b];return a},replaceAll:function(a,d,b){a=a.split(d);return a=a.join(b)},windowOpen:function(b,d){return a.open(b,d)}}})(window,document);
Global.Ajax=function(){var a;return{request:function(b){var c=b.url,e=b.callback;b.cash||(c=c.match(/\?/)?c+"&":c+"?",c+="ajaxcash"+Date.now()+"=0");a=new XMLHttpRequest;a.onload=function(){e(a.responseText)};a.open("GET",c);a.send(null)},abort:function(){a.abort()}}};
Global.DataStore=function(a){var b=Global.DataStore,c=Global.utility.override,e,a=c({single:!1},a);if(a.single&&b.instance)return b.instance;e={};c={setData:function(a,b){e[a]=b;return!0},getData:function(a){if(a)return e[a];var a={},b;for(b in e)a[b]=e[b];return a},resetData:function(){e={};return!0}};a.single&&(b.instance=c);return c};
Global.Event=function(a){var b=Global.Event,c=Global.utility.override,a=c({single:!1,isMobile:function(){return!1}},a);if(a.single&&b.instance)return b.instance;c={click:"click",mousedown:"mousedown",mousemove:"mousemove",mouseup:"mouseup"};a.isMobile()&&(c.click="touchstart",c.mousedown="touchstart",c.mousemove="touchmove",c.mouseup="touchend");a.single&&(b.instance=c);return c};
Global.ExternalInterface=function(a){var b=!1,c=null,e=null,d=new Global.HashController;a||(a={});a.android?(b=!0,c=a.android,Global.EXTERNAL={}):e={};return function(){var a;a=b?{call:function(a){c[a.mode](d.makeHash(a))},addCallback:function(a,b){Global.EXTERNAL[a]=function(a){a=d.parseHash(a);return b(a.vars)}},removeCallback:function(a){delete Global.EXTERNAL[a]}}:{call:function(a){d.setHash(a)},addCallback:function(a,b){e[a]=function(){var c=d.getHash();if(c.mode===a){b(c.vars);return true}return false};
window.addEventListener("hashchange",e[a])},removeCallback:function(a){window.removeEventListener("hashchange",e[a]);delete e[a]}};a.isAndroid=function(){return b};return a}()};
Global.Facebook=function(){return{getShareURL:function(a){function b(a,b){b&&(g+="&"+a+"="+encodeURI(b))}var c=a.picture,e=a.name,d=a.caption,f=a.description,g="https://www.facebook.com/dialog/feed?app_id="+a.app_id+"&redirect_uri="+a.redirect_uri;b("link",a.link);b("picture",c);b("name",e);b("caption",d);b("description",f);return g}}};
Global.FPS=function(a){function b(){n++;n===o&&(n=0,c());1===j&&p(b)}function c(){l=Date.now();g=Math.round(1E3/(l-h));h=l;m.enter()}var e=Global.FPS,d=Global.utility.override,a=d({single:!1,criterion:20},a);if(a.single&&e.instance)return e.instance;var d=Global.utility.win,f=a.criterion,g=f,k=a.enterframe,i=Math.round(1E3/f),h,l,j,m={getCriterion:function(){return f},getSurver:function(){return g},getFrameTime:function(){return i},enter:function(){k({criterion:f,surver:g})},start:function(){h=Date.now();
p?(j=1,b()):j=setInterval(c,i)},stop:function(){clearInterval(j);j=0}},n=0,o=Math.round(60/f)+1,p=d.requestAnimationFrame||d.webkitRequestAnimationFrame||d.mozRequestAnimationFrame||d.oRequestAnimationFrame||d.msRequestAnimationFrame||!1;a.single&&(e.instance=m);return m};
Global.HashController=function(){var a={makeHash:function(a){var c="#"+a.mode,a=a.vars,e="?",d;for(d in a)c+=e+d+"="+JSON.stringify(a[d]),e="&";return encodeURI(c)},setHash:function(b){location.hash=a.makeHash(b);return!0},parseHash:function(a){var c,e=null;c=decodeURI(a).split("#")[1];if(!c)return!1;c=c.split("?");a=c[0];if(c[1]){e={};c=c[1].split("&");for(var d,f=c.length;f--;)c[f]&&(d=c[f].split("="),e[d[0]]=d[1].match("^{.*}$")?JSON.parse(d[1]):d[1].match("^[0-9.]+$")?1*d[1]:"true"===d[1]?!0:
"false"===d[1]?!1:d[1].match("^[\"'](.*)[\"']$")?d[1].match("^[\"'](.*)[\"']$")[1]:d[1]);return{mode:a,vars:e}}return{mode:a}},getHash:function(){return a.parseHash(location.hash)}};return a};Global.ImgLoad=function(a){var b=a.srcs,c=b.length,e=a.onload,d=0,f={start:function(){var a,d;for(d=c;d--;)a=new Image,a.src=b[d],a.onload=f.completeCheck},completeCheck:function(){d++;d>=c&&e()}};return f};
Global.Loading=function(a){var b=Global.utility.win,c={onload:function(a){b.addEventListener("load",a)}};if(a&&a.onload)c.onload(a.onload);return c};
Global.Mobile=function(){function a(a){a.preventDefault();return!1}function b(){d.scrollTo(0,1)}function c(a,b){a=a?a:i;return a.match(b)?!0:!1}var e=Global.utility,d=e.win,f=e.doc,g=e.onEvent,k=e.offEvent,i=navigator.userAgent,h={isAndroid:function(a){return c(a,/Android/i)},isIOS:function(a){return c(a,/iPhone|iPad|iPod/i)},isWindows:function(a){return c(a,/IEMobile/i)},isMobile:function(){return h.isAndroid()||h.isIOS()||h.isWindows()},scrollTop:b,killScroll:function(){b();g(f,"touchmove",a)},
revivalScroll:function(){b();k(f,"touchmove",a)},hideAddress:function(){function a(){0===d.pageYOffset&&b()}function c(){setTimeout(a,100)}g(d,"load",c,!1);g(d,"orientationchange",c,!1)},orientationCheck:function(){return 90!==Math.abs(d.orientation)&&d.innerWidth<d.innerHeight?{portrait:!0,landscape:!1}:{portrait:!1,landscape:!0}},orientationChange:function(a){function b(a,c){a(d,"load",c);a(d,"orientationchange",c);a(d,"resize",c)}function c(){e();b(k,c)}function e(){if(h.orientationCheck().portrait)return a.portrait(),
!0;a.landscape()}a.immediately&&e();if(a.one)return b(g,c),function(){b(k,c)};b(g,e);return function(){b(k,e)}}};return h};Global.NumberImage=function(a){var b=a.type;b||(b="");return{make:function(a){var a=(""+a).split(""),e="",d;for(d=a.length;d--;)e='<span class="num_'+b+a[d]+'">&nbsp;</span>'+e;return e}}};
Global.Observer=function(a){var b=Global.Observer,c=Global.utility.override,a=c({single:!1},a);if(a.single&&b.instance)return b.instance;var e={},d={getObserved:function(){return e},on:function(a,b){e[a]||(e[a]=[]);e[a].push(b)},forOn:function(a){for(var b in a)d.on(b,a[b])},one:function(a,b){wrapfunc=function(c){b(c);d.off(a,wrapfunc)};d.on(a,wrapfunc)},off:function(a,b){if(!b)return delete e[a],!0;var c=e[a],d;if(!c)return!1;for(d=c.length;d--;)if(b===c[d])return c.splice(d,1),0===c.length&&delete e[a],
!0;return!1},forOff:function(a){for(var b in a)d.off(b,a[b])},fire:function(a,b){var c=e[a],d,h;if(!c)return!1;for(h=c.length;h--;)(d=c[h])&&d(b);return!0}};a.single&&(b.instance=d);return d};
Global.PreRender=function(a){function b(){var a=Date.now(),b=a-j;j=a;if(b<h&&(g--,1>g)){clearInterval(l);for(a=f.length;a--;)d(f[a]);k()}}var c=Global.utility,c=c.override,a=c({elements:[],guesslimit:30,looptime:100,loopblur:20,onrendered:function(){}},a),c=Global.utility,e=c.showElement,d=c.hideElement,f=a.elements,g=a.guesslimit,k=a.onrendered,i=a.looptime,h=i+a.loopblur,l,j;return{start:function(){for(var a=f.length;a--;)e(f[a]);j=Date.now();l=setInterval(b,i)}}};
Global.Proxy=function(a){var b=a.delay,c=a.callback,e,d,f={request:function(a){e=a;f.clear();d=setTimeout(f.flush,b)},flush:function(){c(e)},clear:function(){clearInterval(d)}};return f};
Global.Timer=function(a){function b(){m=Date.now();var a=f-(m-j)/1E3;0>a&&(a=0);o=c(a);i(o);if(m>n)return q.stop(),h(),!0;p=setTimeout(b,k);return!1}function c(a){var b;b=(""+a).split(".");a=b[0];b=b[1]?b[1]:"";a=e({num:a,digit:l.integer});b=e({num:b,digit:l.few,isFew:!0});return a+"."+b}function e(a){var b=""+a.num,c=a.digit,e=c-b.length;return!a.isFew?-1<e?d(e,0)+b:d(c,9):0<e?b+d(e,0):b.slice(0,c)}function d(a,b){for(var c="",b=""+b;0<a;)c+=b,a--;return c}var f=a.limit,g=1E3*f,k=1E3*a.interval,
i=a.onupdate,h=a.ontimeup,l=function(a){a=a.split(".");return{integer:a[0].length,few:a[1].length}}(a.template),j=0,m=0,n=g,o=c(f),p,q={getLimit:function(){return f},getTime:function(){return o},getProgress:function(){return 1-(n-m)/g},setUpdate:function(a){i=a},setTimeup:function(a){h=a},countDown:function(){m=j=Date.now();n=j+g;b()},stop:function(){clearInterval(p)}};return q};
Global.Twitter=function(){return{getShareURL:function(a){var b=a.redirect_uri,c=a.caption||"",e=a.name||"",d=a.hash||"",a="https://twitter.com/intent/tweet?";e&&(e=" \u300c"+e+"\u300d");d&&(d=" "+d);b&&(a+="&url="+encodeURIComponent(b));(b=c+e+d)&&(a+="&text="+encodeURIComponent(b));return a}}};
Global.XML=function(a){var b=Global.utility,c=b.$child,e=b.$$child,d=b.createElement("div"),f=a.data;f&&(d.innerHTML=f);return{getData:function(){return f},setData:function(a){f=d.innerHTML=a},$:function(a){return c(a,d)},$$:function(a){return e(a,d)}}};
