var Global={};
(function(a,d){function b(e,c){var a=c.querySelectorAll(e),b=[],d,i;d=0;for(i=a.length;d<i;d++)b[d]=a[d];return b}Date.now||(Date.now=function(){return+new Date});Global.utility={win:a,doc:d,body:d.querySelector("body"),$:function(a){return d.querySelector(a)},$$:function(a){return b(a,d)},$child:function(a,c){return c.querySelector(a)},$$child:b,$id:function(a){return d.getElementById(a)},onEvent:function(a,c,b){a.addEventListener(c,b)},offEvent:function(a,c,b){a.removeEventListener(c,b)},createElement:function(a){return d.createElement(a)},
showElement:function(a){a.style.display="block"},hideElement:function(a){a.style.display="none"},override:function(a,c){for(var b in c)a[b]=c[b];return a},replaceAll:function(a,c,b){a=a.split(c);return a=a.join(b)},windowOpen:function(b,c){return a.open(b,c)}}})(window,document);
Global.Ajax=function(){var a;return{request:function(d){var b=d.url,e=d.callback;d.cash||(b=b.match(/\?/)?b+"&":b+"?",b+="ajaxcash"+Date.now()+"=0");a=new XMLHttpRequest;a.onload=function(){e(a.responseText)};a.open("GET",b);a.send(null)},abort:function(){a.abort()}}};
Global.DataStore=function(a){var d=Global.DataStore,b=Global.utility.override,e,a=b({single:!1},a);if(a.single&&d.instance)return d.instance;e={};b={setData:function(a,b){e[a]=b;return!0},getData:function(a){if(a)return e[a];var a={},b;for(b in e)a[b]=e[b];return a},resetData:function(){e={};return!0}};a.single&&(d.instance=b);return b};
Global.Event=function(a){var d=Global.Event,b=Global.utility.override,a=b({single:!1,isMobile:function(){return!1}},a);if(a.single&&d.instance)return d.instance;b={click:"click",mousedown:"mousedown",mousemove:"mousemove",mouseup:"mouseup"};a.isMobile()&&(b.click="touchstart",b.mousedown="touchstart",b.mousemove="touchmove",b.mouseup="touchend");a.single&&(d.instance=b);return b};
Global.ExternalInterface=function(a){var d=!1,b=null,e=null,c=new Global.HashController;a||(a={});a.android?(d=!0,b=a.android,Global.EXTERNAL={}):e={};return function(){var a;a=d?{call:function(a){b[a.mode](c.makeHash(a))},addCallback:function(a,b){Global.EXTERNAL[a]=function(a){a=c.parseHash(a);return b(a.vars)}},removeCallback:function(a){delete Global.EXTERNAL[a]}}:{call:function(a){c.setHash(a)},addCallback:function(a,b){e[a]=function(){var d=c.getHash();if(d.mode===a){b(d.vars);return true}return false};
window.addEventListener("hashchange",e[a])},removeCallback:function(a){window.removeEventListener("hashchange",e[a]);delete e[a]}};a.isAndroid=function(){return d};return a}()};
Global.Facebook=function(){return{getShareURL:function(a){function d(a,b){b&&(g+="&"+a+"="+encodeURI(b))}var b=a.picture,e=a.name,c=a.caption,f=a.description,g="https://www.facebook.com/dialog/feed?app_id="+a.app_id+"&redirect_uri="+a.redirect_uri;d("link",a.link);d("picture",b);d("name",e);d("caption",c);d("description",f);return g}}};
Global.FPS=function(a){function d(){n++;n===o&&(n=0,b());1===j&&p(d)}function b(){l=Date.now();g=Math.round(1E3/(l-h));h=l;m.enter()}var e=Global.FPS,c=Global.utility.override,a=c({single:!1,criterion:20},a);if(a.single&&e.instance)return e.instance;var c=Global.utility.win,f=a.criterion,g=f,k=a.enterframe,i=Math.round(1E3/f),h,l,j,m={getCriterion:function(){return f},getSurver:function(){return g},getFrameTime:function(){return i},enter:function(){k({criterion:f,surver:g})},start:function(){h=Date.now();
p?(j=1,d()):j=setInterval(b,i)},stop:function(){clearInterval(j);j=0}},n=0,o=Math.round(60/f)+1,p=c.requestAnimationFrame||c.webkitRequestAnimationFrame||c.mozRequestAnimationFrame||c.oRequestAnimationFrame||c.msRequestAnimationFrame||!1;a.single&&(e.instance=m);return m};
Global.HashController=function(){var a={makeHash:function(a){var b="#"+a.mode,a=a.vars,e="?",c;for(c in a)b+=e+c+"="+JSON.stringify(a[c]),e="&";return encodeURI(b)},setHash:function(d){location.hash=a.makeHash(d);return!0},parseHash:function(a){var b,e=null;b=decodeURI(a).split("#")[1];if(!b)return!1;b=b.split("?");a=b[0];if(b[1]){e={};b=b[1].split("&");for(var c,f=b.length;f--;)b[f]&&(c=b[f].split("="),e[c[0]]=c[1].match("^{.*}$")?JSON.parse(c[1]):c[1].match("^[0-9.]+$")?1*c[1]:"true"===c[1]?!0:
"false"===c[1]?!1:c[1].match("^[\"'](.*)[\"']$")?c[1].match("^[\"'](.*)[\"']$")[1]:c[1]);return{mode:a,vars:e}}return{mode:a}},getHash:function(){return a.parseHash(location.hash)}};return a};Global.ImgLoad=function(a){var d=a.srcs,b=d.length,e=a.onload,c=0,f={start:function(){var a,c;for(c=b;c--;)a=new Image,a.src=d[c],a.onload=f.completeCheck},completeCheck:function(){c++;c>=b&&e()}};return f};
Global.Loading=function(a){var d=Global.utility.win,b={onload:function(a){d.addEventListener("load",a)}};if(a&&a.onload)b.onload(a.onload);return b};
Global.Mobile=function(){function a(a){a.preventDefault();return!1}function d(){c.scrollTo(0,1)}function b(a,b){a=a?a:i;return a.match(b)?!0:!1}var e=Global.utility,c=e.win,f=e.doc,g=e.onEvent,k=e.offEvent,i=navigator.userAgent,h={isAndroid:function(a){return b(a,/Android/i)},isIOS:function(a){return b(a,/iPhone|iPad|iPod/i)},isWindows:function(a){return b(a,/IEMobile/i)},isMobile:function(){return h.isAndroid()||h.isIOS()||h.isWindows()},scrollTop:d,killScroll:function(){d();g(f,"touchmove",a)},
revivalScroll:function(){d();k(f,"touchmove",a)},hideAddress:function(){function a(){0===c.pageYOffset&&d()}function b(){setTimeout(a,100)}g(c,"load",b,!1);g(c,"orientationchange",b,!1)},orientationCheck:function(){return 90!==Math.abs(c.orientation)&&c.innerWidth<c.innerHeight?{portrait:!0,landscape:!1}:{portrait:!1,landscape:!0}},orientationChange:function(a){function b(a,d){a(c,"load",d);a(c,"orientationchange",d);a(c,"resize",d)}function d(){e();b(k,d)}function e(){if(h.orientationCheck().portrait)return a.portrait(),
!0;a.landscape()}a.immediately&&e();if(a.one)return b(g,d),function(){b(k,d)};b(g,e);return function(){b(k,e)}}};return h};Global.NumberImage=function(a){var d=a.type;d||(d="");return{make:function(a){var a=(""+a).split(""),e="",c;for(c=a.length;c--;)e='<span class="num_'+d+a[c]+'">&nbsp;</span>'+e;return e}}};
Global.Observer=function(a){var d=Global.Observer,b=Global.utility.override,a=b({single:!1},a);if(a.single&&d.instance)return d.instance;var e={},c={getObserved:function(){return e},on:function(a,b){e[a]||(e[a]=[]);e[a].push(b)},forOn:function(a){for(var b in a)c.on(b,a[b])},one:function(a,b){wrapfunc=function(d){b(d);c.off(a,wrapfunc)};c.on(a,wrapfunc)},off:function(a,b){if(!b)return delete e[a],!0;var c=e[a],d;if(!c)return!1;for(d=c.length;d--;)if(b===c[d])return c.splice(d,1),0===c.length&&delete e[a],
!0;return!1},forOff:function(a){for(var b in a)c.off(b,a[b])},fire:function(a,b){var c=e[a],d,h;if(!c)return!1;for(h=c.length;h--;)(d=c[h])&&d(b);return!0}};a.single&&(d.instance=c);return c};
Global.PreRender=function(a){function d(){var a=Date.now(),b=a-j;j=a;if(b<h&&(g--,1>g)){clearInterval(l);for(a=f.length;a--;)c(f[a]);k()}}var b=Global.utility,b=b.override,a=b({elements:[],guesslimit:30,looptime:100,loopblur:20,onrendered:function(){}},a),b=Global.utility,e=b.showElement,c=b.hideElement,f=a.elements,g=a.guesslimit,k=a.onrendered,i=a.looptime,h=i+a.loopblur,l,j;return{start:function(){for(var a=f.length;a--;)e(f[a]);j=Date.now();l=setInterval(d,i)}}};
Global.Proxy=function(a){var d=a.delay,b=a.callback,e,c,f={request:function(a){e=a;f.clear();c=setTimeout(f.flush,d)},flush:function(){b(e)},clear:function(){clearInterval(c)}};return f};
Global.Timer=function(a){function d(){m=Date.now();var a=f-(m-j)/1E3;0>a&&(a=0);o=b(a);i(o);if(m>n)return q.stop(),h(),!0;p=setTimeout(d,k);return!1}function b(a){var b;b=(""+a).split(".");a=b[0];b=b[1]?b[1]:"";a=e({num:a,digit:l.integer});b=e({num:b,digit:l.few,isFew:!0});return a+"."+b}function e(a){var b=""+a.num,d=a.digit,e=d-b.length;return!a.isFew?-1<e?c(e,0)+b:c(d,9):0<e?b+c(e,0):b.slice(0,d)}function c(a,b){for(var c="",b=""+b;0<a;)c+=b,a--;return c}var f=a.limit,g=1E3*f,k=1E3*a.interval,
i=a.onupdate,h=a.ontimeup,l=function(a){a=a.split(".");return{integer:a[0].length,few:a[1].length}}(a.template),j=0,m=0,n=g,o=b(f),p,q={getLimit:function(){return f},getTime:function(){return o},getProgress:function(){return 1-(n-m)/g},setUpdate:function(a){i=a},setTimeup:function(a){h=a},countDown:function(){m=j=Date.now();n=j+g;d()},stop:function(){clearInterval(p)}};return q};
Global.Twitter=function(){return{getShareURL:function(a){var d=a.redirect_uri,b=a.caption||"",e=a.name||"",c=a.hash||"",a="https://twitter.com/intent/tweet?";e&&(e=" \u300c"+e+"\u300d");c&&(c=" "+c);d&&(a+="&url="+encodeURIComponent(d));(d=b+e+c)&&(a+="&text="+encodeURIComponent(d));return a}}};
